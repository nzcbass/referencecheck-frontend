const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/html2pdf-CNDlsC_k-v2.js","assets/browser-DhcdjZmX-v2.js","assets/html2canvas.esm-DZlvpFNH-v2.js","assets/jspdf.es.min-DwDHAbZl-v2.js"])))=>i.map(i=>d[i]);
function Sd(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var wm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Ma={exports:{}},To={},Wa={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kr=Symbol.for("react.element"),kd=Symbol.for("react.portal"),Cd=Symbol.for("react.fragment"),bd=Symbol.for("react.strict_mode"),Ed=Symbol.for("react.profiler"),Nd=Symbol.for("react.provider"),zd=Symbol.for("react.context"),Td=Symbol.for("react.forward_ref"),Rd=Symbol.for("react.suspense"),Pd=Symbol.for("react.memo"),Fd=Symbol.for("react.lazy"),Ss=Symbol.iterator;function Ld(e){return e===null||typeof e!="object"?null:(e=Ss&&e[Ss]||e["@@iterator"],typeof e=="function"?e:null)}var Ua={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ha=Object.assign,Va={};function Rn(e,t,n){this.props=e,this.context=t,this.refs=Va,this.updater=n||Ua}Rn.prototype.isReactComponent={};Rn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qa(){}qa.prototype=Rn.prototype;function Sl(e,t,n){this.props=e,this.context=t,this.refs=Va,this.updater=n||Ua}var _l=Sl.prototype=new qa;_l.constructor=Sl;Ha(_l,Rn.prototype);_l.isPureReactComponent=!0;var _s=Array.isArray,Qa=Object.prototype.hasOwnProperty,kl={current:null},Ya={key:!0,ref:!0,__self:!0,__source:!0};function Ka(e,t,n){var r,o={},l=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(l=""+t.key),t)Qa.call(t,r)&&!Ya.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:kr,type:e,key:l,ref:s,props:o,_owner:kl.current}}function Dd(e,t){return{$$typeof:kr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cl(e){return typeof e=="object"&&e!==null&&e.$$typeof===kr}function $d(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ks=/\/+/g;function Zo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$d(""+e.key):t.toString(36)}function Qr(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case kr:case kd:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Zo(s,0):r,_s(o)?(n="",e!=null&&(n=e.replace(ks,"$&/")+"/"),Qr(o,t,n,"",function(c){return c})):o!=null&&(Cl(o)&&(o=Dd(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(ks,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",_s(e))for(var a=0;a<e.length;a++){l=e[a];var u=r+Zo(l,a);s+=Qr(l,t,n,u,o)}else if(u=Ld(e),typeof u=="function")for(e=u.call(e),a=0;!(l=e.next()).done;)l=l.value,u=r+Zo(l,a++),s+=Qr(l,t,n,u,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Tr(e,t,n){if(e==null)return e;var r=[],o=0;return Qr(e,r,"","",function(l){return t.call(n,l,o++)}),r}function Ad(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},Yr={transition:null},Id={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:Yr,ReactCurrentOwner:kl};function Ga(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Tr,forEach:function(e,t,n){Tr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tr(e,function(){t++}),t},toArray:function(e){return Tr(e,function(t){return t})||[]},only:function(e){if(!Cl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Rn;J.Fragment=Cd;J.Profiler=Ed;J.PureComponent=Sl;J.StrictMode=bd;J.Suspense=Rd;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Id;J.act=Ga;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ha({},e.props),o=e.key,l=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,s=kl.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Qa.call(t,u)&&!Ya.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:kr,type:e.type,key:o,ref:l,props:r,_owner:s}};J.createContext=function(e){return e={$$typeof:zd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nd,_context:e},e.Consumer=e};J.createElement=Ka;J.createFactory=function(e){var t=Ka.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:Td,render:e}};J.isValidElement=Cl;J.lazy=function(e){return{$$typeof:Fd,_payload:{_status:-1,_result:e},_init:Ad}};J.memo=function(e,t){return{$$typeof:Pd,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Yr.transition;Yr.transition={};try{e()}finally{Yr.transition=t}};J.unstable_act=Ga;J.useCallback=function(e,t){return ze.current.useCallback(e,t)};J.useContext=function(e){return ze.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};J.useEffect=function(e,t){return ze.current.useEffect(e,t)};J.useId=function(){return ze.current.useId()};J.useImperativeHandle=function(e,t,n){return ze.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return ze.current.useMemo(e,t)};J.useReducer=function(e,t,n){return ze.current.useReducer(e,t,n)};J.useRef=function(e){return ze.current.useRef(e)};J.useState=function(e){return ze.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return ze.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return ze.current.useTransition()};J.version="18.3.1";Wa.exports=J;var x=Wa.exports;const bl=_d(x),Od=Sd({__proto__:null,default:bl},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=x,Md=Symbol.for("react.element"),Wd=Symbol.for("react.fragment"),Ud=Object.prototype.hasOwnProperty,Hd=Bd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vd={key:!0,ref:!0,__self:!0,__source:!0};function Za(e,t,n){var r,o={},l=null,s=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Ud.call(t,r)&&!Vd.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Md,type:e,key:l,ref:s,props:o,_owner:Hd.current}}To.Fragment=Wd;To.jsx=Za;To.jsxs=Za;Ma.exports=To;var i=Ma.exports,bi={},Ja={exports:{}},Be={},Xa={exports:{}},eu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,N){var $=S.length;S.push(N);e:for(;0<$;){var H=$-1>>>1,K=S[H];if(0<o(K,N))S[H]=N,S[$]=K,$=H;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var N=S[0],$=S.pop();if($!==N){S[0]=$;e:for(var H=0,K=S.length,be=K>>>1;H<be;){var pe=2*(H+1)-1,Dn=S[pe],tt=pe+1,Ot=S[tt];if(0>o(Dn,$))tt<K&&0>o(Ot,Dn)?(S[H]=Ot,S[tt]=$,H=tt):(S[H]=Dn,S[pe]=$,H=pe);else if(tt<K&&0>o(Ot,$))S[H]=Ot,S[tt]=$,H=tt;else break e}}return N}function o(S,N){var $=S.sortIndex-N.sortIndex;return $!==0?$:S.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var u=[],c=[],m=1,h=null,g=3,k=!1,w=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(S){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=S)r(c),N.sortIndex=N.expirationTime,t(u,N);else break;N=n(c)}}function C(S){if(v=!1,p(S),!w)if(n(u)!==null)w=!0,B(_);else{var N=n(c);N!==null&&U(C,N.startTime-S)}}function _(S,N){w=!1,v&&(v=!1,f(I),I=-1),k=!0;var $=g;try{for(p(N),h=n(u);h!==null&&(!(h.expirationTime>N)||S&&!L());){var H=h.callback;if(typeof H=="function"){h.callback=null,g=h.priorityLevel;var K=H(h.expirationTime<=N);N=e.unstable_now(),typeof K=="function"?h.callback=K:h===n(u)&&r(u),p(N)}else r(u);h=n(u)}if(h!==null)var be=!0;else{var pe=n(c);pe!==null&&U(C,pe.startTime-N),be=!1}return be}finally{h=null,g=$,k=!1}}var F=!1,D=null,I=-1,q=5,Y=-1;function L(){return!(e.unstable_now()-Y<q)}function Z(){if(D!==null){var S=e.unstable_now();Y=S;var N=!0;try{N=D(!0,S)}finally{N?Q():(F=!1,D=null)}}else F=!1}var Q;if(typeof d=="function")Q=function(){d(Z)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,T=z.port2;z.port1.onmessage=Z,Q=function(){T.postMessage(null)}}else Q=function(){E(Z,0)};function B(S){D=S,F||(F=!0,Q())}function U(S,N){I=E(function(){S(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){w||k||(w=!0,B(_))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(S){switch(g){case 1:case 2:case 3:var N=3;break;default:N=g}var $=g;g=N;try{return S()}finally{g=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,N){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var $=g;g=S;try{return N()}finally{g=$}},e.unstable_scheduleCallback=function(S,N,$){var H=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?H+$:H):$=H,S){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=$+K,S={id:m++,callback:N,priorityLevel:S,startTime:$,expirationTime:K,sortIndex:-1},$>H?(S.sortIndex=$,t(c,S),n(u)===null&&S===n(c)&&(v?(f(I),I=-1):v=!0,U(C,$-H))):(S.sortIndex=K,t(u,S),w||k||(w=!0,B(_))),S},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(S){var N=g;return function(){var $=g;g=N;try{return S.apply(this,arguments)}finally{g=$}}}})(eu);Xa.exports=eu;var qd=Xa.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=x,Oe=qd;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tu=new Set,or={};function Xt(e,t){kn(e,t),kn(e+"Capture",t)}function kn(e,t){for(or[e]=t,e=0;e<t.length;e++)tu.add(t[e])}var pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ei=Object.prototype.hasOwnProperty,Yd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cs={},bs={};function Kd(e){return Ei.call(bs,e)?!0:Ei.call(Cs,e)?!1:Yd.test(e)?bs[e]=!0:(Cs[e]=!0,!1)}function Gd(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zd(e,t,n,r){if(t===null||typeof t>"u"||Gd(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,n,r,o,l,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=s}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var El=/[\-:]([a-z])/g;function Nl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(El,Nl);je[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(El,Nl);je[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(El,Nl);je[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function zl(e,t,n,r){var o=je.hasOwnProperty(t)?je[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Zd(t,n,o,r)&&(n=null),r||o===null?Kd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xt=Qd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rr=Symbol.for("react.element"),ln=Symbol.for("react.portal"),sn=Symbol.for("react.fragment"),Tl=Symbol.for("react.strict_mode"),Ni=Symbol.for("react.profiler"),nu=Symbol.for("react.provider"),ru=Symbol.for("react.context"),Rl=Symbol.for("react.forward_ref"),zi=Symbol.for("react.suspense"),Ti=Symbol.for("react.suspense_list"),Pl=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),ou=Symbol.for("react.offscreen"),Es=Symbol.iterator;function An(e){return e===null||typeof e!="object"?null:(e=Es&&e[Es]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,Jo;function Vn(e){if(Jo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jo=t&&t[1]||""}return`
`+Jo+e}var Xo=!1;function ei(e,t){if(!e||Xo)return"";Xo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),l=r.stack.split(`
`),s=o.length-1,a=l.length-1;1<=s&&0<=a&&o[s]!==l[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==l[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==l[a]){var u=`
`+o[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=a);break}}}finally{Xo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vn(e):""}function Jd(e){switch(e.tag){case 5:return Vn(e.type);case 16:return Vn("Lazy");case 13:return Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 2:case 15:return e=ei(e.type,!1),e;case 11:return e=ei(e.type.render,!1),e;case 1:return e=ei(e.type,!0),e;default:return""}}function Ri(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sn:return"Fragment";case ln:return"Portal";case Ni:return"Profiler";case Tl:return"StrictMode";case zi:return"Suspense";case Ti:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ru:return(e.displayName||"Context")+".Consumer";case nu:return(e._context.displayName||"Context")+".Provider";case Rl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pl:return t=e.displayName||null,t!==null?t:Ri(e.type)||"Memo";case vt:t=e._payload,e=e._init;try{return Ri(e(t))}catch{}}return null}function Xd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ri(t);case 8:return t===Tl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Lt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ef(e){var t=iu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,l.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pr(e){e._valueTracker||(e._valueTracker=ef(e))}function lu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=iu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pi(e,t){var n=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ns(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Lt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function su(e,t){t=t.checked,t!=null&&zl(e,"checked",t,!1)}function Fi(e,t){su(e,t);var n=Lt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Li(e,t.type,n):t.hasOwnProperty("defaultValue")&&Li(e,t.type,Lt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zs(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Li(e,t,n){(t!=="number"||io(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qn=Array.isArray;function yn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Lt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Di(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ts(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(qn(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Lt(n)}}function au(e,t){var n=Lt(t.value),r=Lt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Rs(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $i(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fr,cu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fr=Fr||document.createElement("div"),Fr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ir(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tf=["Webkit","ms","Moz","O"];Object.keys(Kn).forEach(function(e){tf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kn[t]=Kn[e]})});function du(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kn.hasOwnProperty(e)&&Kn[e]?(""+t).trim():t+"px"}function fu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=du(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var nf=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ai(e,t){if(t){if(nf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Ii(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oi=null;function Fl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bi=null,vn=null,wn=null;function Ps(e){if(e=Er(e)){if(typeof Bi!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Do(t),Bi(e.stateNode,e.type,t))}}function pu(e){vn?wn?wn.push(e):wn=[e]:vn=e}function hu(){if(vn){var e=vn,t=wn;if(wn=vn=null,Ps(e),t)for(e=0;e<t.length;e++)Ps(t[e])}}function mu(e,t){return e(t)}function gu(){}var ti=!1;function xu(e,t,n){if(ti)return e(t,n);ti=!0;try{return mu(e,t,n)}finally{ti=!1,(vn!==null||wn!==null)&&(gu(),hu())}}function lr(e,t){var n=e.stateNode;if(n===null)return null;var r=Do(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var Mi=!1;if(pt)try{var In={};Object.defineProperty(In,"passive",{get:function(){Mi=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{Mi=!1}function rf(e,t,n,r,o,l,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var Gn=!1,lo=null,so=!1,Wi=null,of={onError:function(e){Gn=!0,lo=e}};function lf(e,t,n,r,o,l,s,a,u){Gn=!1,lo=null,rf.apply(of,arguments)}function sf(e,t,n,r,o,l,s,a,u){if(lf.apply(this,arguments),Gn){if(Gn){var c=lo;Gn=!1,lo=null}else throw Error(A(198));so||(so=!0,Wi=c)}}function en(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fs(e){if(en(e)!==e)throw Error(A(188))}function af(e){var t=e.alternate;if(!t){if(t=en(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Fs(o),e;if(l===r)return Fs(o),t;l=l.sibling}throw Error(A(188))}if(n.return!==r.return)n=o,r=l;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=l;break}if(a===r){s=!0,r=o,n=l;break}a=a.sibling}if(!s){for(a=l.child;a;){if(a===n){s=!0,n=l,r=o;break}if(a===r){s=!0,r=l,n=o;break}a=a.sibling}if(!s)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function vu(e){return e=af(e),e!==null?wu(e):null}function wu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wu(e);if(t!==null)return t;e=e.sibling}return null}var ju=Oe.unstable_scheduleCallback,Ls=Oe.unstable_cancelCallback,uf=Oe.unstable_shouldYield,cf=Oe.unstable_requestPaint,de=Oe.unstable_now,df=Oe.unstable_getCurrentPriorityLevel,Ll=Oe.unstable_ImmediatePriority,Su=Oe.unstable_UserBlockingPriority,ao=Oe.unstable_NormalPriority,ff=Oe.unstable_LowPriority,_u=Oe.unstable_IdlePriority,Ro=null,it=null;function pf(e){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Ro,e,void 0,(e.current.flags&128)===128)}catch{}}var Je=Math.clz32?Math.clz32:gf,hf=Math.log,mf=Math.LN2;function gf(e){return e>>>=0,e===0?32:31-(hf(e)/mf|0)|0}var Lr=64,Dr=4194304;function Qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Qn(a):(l&=s,l!==0&&(r=Qn(l)))}else s=n&~o,s!==0?r=Qn(s):l!==0&&(r=Qn(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Je(t),o=1<<n,r|=e[n],t&=~o;return r}function xf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var s=31-Je(l),a=1<<s,u=o[s];u===-1?(!(a&n)||a&r)&&(o[s]=xf(a,t)):u<=t&&(e.expiredLanes|=a),l&=~a}}function Ui(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ku(){var e=Lr;return Lr<<=1,!(Lr&4194240)&&(Lr=64),e}function ni(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Je(t),e[t]=n}function vf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Je(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function Dl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Je(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ee=0;function Cu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bu,$l,Eu,Nu,zu,Hi=!1,$r=[],bt=null,Et=null,Nt=null,sr=new Map,ar=new Map,jt=[],wf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ds(e,t){switch(e){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ar.delete(t.pointerId)}}function On(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Er(t),t!==null&&$l(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function jf(e,t,n,r,o){switch(t){case"focusin":return bt=On(bt,e,t,n,r,o),!0;case"dragenter":return Et=On(Et,e,t,n,r,o),!0;case"mouseover":return Nt=On(Nt,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return sr.set(l,On(sr.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,ar.set(l,On(ar.get(l)||null,e,t,n,r,o)),!0}return!1}function Tu(e){var t=Wt(e.target);if(t!==null){var n=en(t);if(n!==null){if(t=n.tag,t===13){if(t=yu(n),t!==null){e.blockedOn=t,zu(e.priority,function(){Eu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Oi=r,n.target.dispatchEvent(r),Oi=null}else return t=Er(n),t!==null&&$l(t),e.blockedOn=n,!1;t.shift()}return!0}function $s(e,t,n){Kr(e)&&n.delete(t)}function Sf(){Hi=!1,bt!==null&&Kr(bt)&&(bt=null),Et!==null&&Kr(Et)&&(Et=null),Nt!==null&&Kr(Nt)&&(Nt=null),sr.forEach($s),ar.forEach($s)}function Bn(e,t){e.blockedOn===t&&(e.blockedOn=null,Hi||(Hi=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,Sf)))}function ur(e){function t(o){return Bn(o,e)}if(0<$r.length){Bn($r[0],e);for(var n=1;n<$r.length;n++){var r=$r[n];r.blockedOn===e&&(r.blockedOn=null)}}for(bt!==null&&Bn(bt,e),Et!==null&&Bn(Et,e),Nt!==null&&Bn(Nt,e),sr.forEach(t),ar.forEach(t),n=0;n<jt.length;n++)r=jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&(n=jt[0],n.blockedOn===null);)Tu(n),n.blockedOn===null&&jt.shift()}var jn=xt.ReactCurrentBatchConfig,co=!0;function _f(e,t,n,r){var o=ee,l=jn.transition;jn.transition=null;try{ee=1,Al(e,t,n,r)}finally{ee=o,jn.transition=l}}function kf(e,t,n,r){var o=ee,l=jn.transition;jn.transition=null;try{ee=4,Al(e,t,n,r)}finally{ee=o,jn.transition=l}}function Al(e,t,n,r){if(co){var o=Vi(e,t,n,r);if(o===null)fi(e,t,r,fo,n),Ds(e,r);else if(jf(o,e,t,n,r))r.stopPropagation();else if(Ds(e,r),t&4&&-1<wf.indexOf(e)){for(;o!==null;){var l=Er(o);if(l!==null&&bu(l),l=Vi(e,t,n,r),l===null&&fi(e,t,r,fo,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else fi(e,t,r,null,n)}}var fo=null;function Vi(e,t,n,r){if(fo=null,e=Fl(r),e=Wt(e),e!==null)if(t=en(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fo=e,null}function Ru(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(df()){case Ll:return 1;case Su:return 4;case ao:case ff:return 16;case _u:return 536870912;default:return 16}default:return 16}}var _t=null,Il=null,Gr=null;function Pu(){if(Gr)return Gr;var e,t=Il,n=t.length,r,o="value"in _t?_t.value:_t.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[l-r];r++);return Gr=o.slice(e,1<r?1-r:void 0)}function Zr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ar(){return!0}function As(){return!1}function Me(e){function t(n,r,o,l,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(l):l[a]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ar:As,this.isPropagationStopped=As,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),t}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Me(Pn),br=se({},Pn,{view:0,detail:0}),Cf=Me(br),ri,oi,Mn,Po=se({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mn&&(Mn&&e.type==="mousemove"?(ri=e.screenX-Mn.screenX,oi=e.screenY-Mn.screenY):oi=ri=0,Mn=e),ri)},movementY:function(e){return"movementY"in e?e.movementY:oi}}),Is=Me(Po),bf=se({},Po,{dataTransfer:0}),Ef=Me(bf),Nf=se({},br,{relatedTarget:0}),ii=Me(Nf),zf=se({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tf=Me(zf),Rf=se({},Pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pf=Me(Rf),Ff=se({},Pn,{data:0}),Os=Me(Ff),Lf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Df={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Af(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$f[e])?!!t[e]:!1}function Bl(){return Af}var If=se({},br,{key:function(e){if(e.key){var t=Lf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Df[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bl,charCode:function(e){return e.type==="keypress"?Zr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Of=Me(If),Bf=se({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bs=Me(Bf),Mf=se({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bl}),Wf=Me(Mf),Uf=se({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hf=Me(Uf),Vf=se({},Po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qf=Me(Vf),Qf=[9,13,27,32],Ml=pt&&"CompositionEvent"in window,Zn=null;pt&&"documentMode"in document&&(Zn=document.documentMode);var Yf=pt&&"TextEvent"in window&&!Zn,Fu=pt&&(!Ml||Zn&&8<Zn&&11>=Zn),Ms=" ",Ws=!1;function Lu(e,t){switch(e){case"keyup":return Qf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Du(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var an=!1;function Kf(e,t){switch(e){case"compositionend":return Du(t);case"keypress":return t.which!==32?null:(Ws=!0,Ms);case"textInput":return e=t.data,e===Ms&&Ws?null:e;default:return null}}function Gf(e,t){if(an)return e==="compositionend"||!Ml&&Lu(e,t)?(e=Pu(),Gr=Il=_t=null,an=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fu&&t.locale!=="ko"?null:t.data;default:return null}}var Zf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Us(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zf[e.type]:t==="textarea"}function $u(e,t,n,r){pu(r),t=po(t,"onChange"),0<t.length&&(n=new Ol("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jn=null,cr=null;function Jf(e){Qu(e,0)}function Fo(e){var t=dn(e);if(lu(t))return e}function Xf(e,t){if(e==="change")return t}var Au=!1;if(pt){var li;if(pt){var si="oninput"in document;if(!si){var Hs=document.createElement("div");Hs.setAttribute("oninput","return;"),si=typeof Hs.oninput=="function"}li=si}else li=!1;Au=li&&(!document.documentMode||9<document.documentMode)}function Vs(){Jn&&(Jn.detachEvent("onpropertychange",Iu),cr=Jn=null)}function Iu(e){if(e.propertyName==="value"&&Fo(cr)){var t=[];$u(t,cr,e,Fl(e)),xu(Jf,t)}}function ep(e,t,n){e==="focusin"?(Vs(),Jn=t,cr=n,Jn.attachEvent("onpropertychange",Iu)):e==="focusout"&&Vs()}function tp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fo(cr)}function np(e,t){if(e==="click")return Fo(t)}function rp(e,t){if(e==="input"||e==="change")return Fo(t)}function op(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var et=typeof Object.is=="function"?Object.is:op;function dr(e,t){if(et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ei.call(t,o)||!et(e[o],t[o]))return!1}return!0}function qs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qs(e,t){var n=qs(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qs(n)}}function Ou(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ou(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bu(){for(var e=window,t=io();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=io(e.document)}return t}function Wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ip(e){var t=Bu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ou(n.ownerDocument.documentElement,n)){if(r!==null&&Wl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=Qs(n,l);var s=Qs(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lp=pt&&"documentMode"in document&&11>=document.documentMode,un=null,qi=null,Xn=null,Qi=!1;function Ys(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qi||un==null||un!==io(r)||(r=un,"selectionStart"in r&&Wl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xn&&dr(Xn,r)||(Xn=r,r=po(qi,"onSelect"),0<r.length&&(t=new Ol("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=un)))}function Ir(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cn={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionend:Ir("Transition","TransitionEnd")},ai={},Mu={};pt&&(Mu=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);function Lo(e){if(ai[e])return ai[e];if(!cn[e])return e;var t=cn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mu)return ai[e]=t[n];return e}var Wu=Lo("animationend"),Uu=Lo("animationiteration"),Hu=Lo("animationstart"),Vu=Lo("transitionend"),qu=new Map,Ks="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $t(e,t){qu.set(e,t),Xt(t,[e])}for(var ui=0;ui<Ks.length;ui++){var ci=Ks[ui],sp=ci.toLowerCase(),ap=ci[0].toUpperCase()+ci.slice(1);$t(sp,"on"+ap)}$t(Wu,"onAnimationEnd");$t(Uu,"onAnimationIteration");$t(Hu,"onAnimationStart");$t("dblclick","onDoubleClick");$t("focusin","onFocus");$t("focusout","onBlur");$t(Vu,"onTransitionEnd");kn("onMouseEnter",["mouseout","mouseover"]);kn("onMouseLeave",["mouseout","mouseover"]);kn("onPointerEnter",["pointerout","pointerover"]);kn("onPointerLeave",["pointerout","pointerover"]);Xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),up=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yn));function Gs(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sf(r,t,void 0,e),e.currentTarget=null}function Qu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==l&&o.isPropagationStopped())break e;Gs(o,a,c),l=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==l&&o.isPropagationStopped())break e;Gs(o,a,c),l=u}}}if(so)throw e=Wi,so=!1,Wi=null,e}function ne(e,t){var n=t[Ji];n===void 0&&(n=t[Ji]=new Set);var r=e+"__bubble";n.has(r)||(Yu(t,e,2,!1),n.add(r))}function di(e,t,n){var r=0;t&&(r|=4),Yu(n,e,r,t)}var Or="_reactListening"+Math.random().toString(36).slice(2);function fr(e){if(!e[Or]){e[Or]=!0,tu.forEach(function(n){n!=="selectionchange"&&(up.has(n)||di(n,!1,e),di(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Or]||(t[Or]=!0,di("selectionchange",!1,t))}}function Yu(e,t,n,r){switch(Ru(t)){case 1:var o=_f;break;case 4:o=kf;break;default:o=Al}n=o.bind(null,t,n,e),o=void 0,!Mi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function fi(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Wt(a),s===null)return;if(u=s.tag,u===5||u===6){r=l=s;continue e}a=a.parentNode}}r=r.return}xu(function(){var c=l,m=Fl(n),h=[];e:{var g=qu.get(e);if(g!==void 0){var k=Ol,w=e;switch(e){case"keypress":if(Zr(n)===0)break e;case"keydown":case"keyup":k=Of;break;case"focusin":w="focus",k=ii;break;case"focusout":w="blur",k=ii;break;case"beforeblur":case"afterblur":k=ii;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Wf;break;case Wu:case Uu:case Hu:k=Tf;break;case Vu:k=Hf;break;case"scroll":k=Cf;break;case"wheel":k=qf;break;case"copy":case"cut":case"paste":k=Pf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Bs}var v=(t&4)!==0,E=!v&&e==="scroll",f=v?g!==null?g+"Capture":null:g;v=[];for(var d=c,p;d!==null;){p=d;var C=p.stateNode;if(p.tag===5&&C!==null&&(p=C,f!==null&&(C=lr(d,f),C!=null&&v.push(pr(d,C,p)))),E)break;d=d.return}0<v.length&&(g=new k(g,w,null,n,m),h.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",g&&n!==Oi&&(w=n.relatedTarget||n.fromElement)&&(Wt(w)||w[ht]))break e;if((k||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,k?(w=n.relatedTarget||n.toElement,k=c,w=w?Wt(w):null,w!==null&&(E=en(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(k=null,w=c),k!==w)){if(v=Is,C="onMouseLeave",f="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=Bs,C="onPointerLeave",f="onPointerEnter",d="pointer"),E=k==null?g:dn(k),p=w==null?g:dn(w),g=new v(C,d+"leave",k,n,m),g.target=E,g.relatedTarget=p,C=null,Wt(m)===c&&(v=new v(f,d+"enter",w,n,m),v.target=p,v.relatedTarget=E,C=v),E=C,k&&w)t:{for(v=k,f=w,d=0,p=v;p;p=rn(p))d++;for(p=0,C=f;C;C=rn(C))p++;for(;0<d-p;)v=rn(v),d--;for(;0<p-d;)f=rn(f),p--;for(;d--;){if(v===f||f!==null&&v===f.alternate)break t;v=rn(v),f=rn(f)}v=null}else v=null;k!==null&&Zs(h,g,k,v,!1),w!==null&&E!==null&&Zs(h,E,w,v,!0)}}e:{if(g=c?dn(c):window,k=g.nodeName&&g.nodeName.toLowerCase(),k==="select"||k==="input"&&g.type==="file")var _=Xf;else if(Us(g))if(Au)_=rp;else{_=tp;var F=ep}else(k=g.nodeName)&&k.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(_=np);if(_&&(_=_(e,c))){$u(h,_,n,m);break e}F&&F(e,g,c),e==="focusout"&&(F=g._wrapperState)&&F.controlled&&g.type==="number"&&Li(g,"number",g.value)}switch(F=c?dn(c):window,e){case"focusin":(Us(F)||F.contentEditable==="true")&&(un=F,qi=c,Xn=null);break;case"focusout":Xn=qi=un=null;break;case"mousedown":Qi=!0;break;case"contextmenu":case"mouseup":case"dragend":Qi=!1,Ys(h,n,m);break;case"selectionchange":if(lp)break;case"keydown":case"keyup":Ys(h,n,m)}var D;if(Ml)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else an?Lu(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Fu&&n.locale!=="ko"&&(an||I!=="onCompositionStart"?I==="onCompositionEnd"&&an&&(D=Pu()):(_t=m,Il="value"in _t?_t.value:_t.textContent,an=!0)),F=po(c,I),0<F.length&&(I=new Os(I,e,null,n,m),h.push({event:I,listeners:F}),D?I.data=D:(D=Du(n),D!==null&&(I.data=D)))),(D=Yf?Kf(e,n):Gf(e,n))&&(c=po(c,"onBeforeInput"),0<c.length&&(m=new Os("onBeforeInput","beforeinput",null,n,m),h.push({event:m,listeners:c}),m.data=D))}Qu(h,t)})}function pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function po(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=lr(e,n),l!=null&&r.unshift(pr(e,l,o)),l=lr(e,t),l!=null&&r.push(pr(e,l,o))),e=e.return}return r}function rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zs(e,t,n,r,o){for(var l=t._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,o?(u=lr(n,l),u!=null&&s.unshift(pr(n,u,a))):o||(u=lr(n,l),u!=null&&s.push(pr(n,u,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var cp=/\r\n?/g,dp=/\u0000|\uFFFD/g;function Js(e){return(typeof e=="string"?e:""+e).replace(cp,`
`).replace(dp,"")}function Br(e,t,n){if(t=Js(t),Js(e)!==t&&n)throw Error(A(425))}function ho(){}var Yi=null,Ki=null;function Gi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zi=typeof setTimeout=="function"?setTimeout:void 0,fp=typeof clearTimeout=="function"?clearTimeout:void 0,Xs=typeof Promise=="function"?Promise:void 0,pp=typeof queueMicrotask=="function"?queueMicrotask:typeof Xs<"u"?function(e){return Xs.resolve(null).then(e).catch(hp)}:Zi;function hp(e){setTimeout(function(){throw e})}function pi(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ur(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ur(t)}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ea(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Fn,hr="__reactProps$"+Fn,ht="__reactContainer$"+Fn,Ji="__reactEvents$"+Fn,mp="__reactListeners$"+Fn,gp="__reactHandles$"+Fn;function Wt(e){var t=e[ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ht]||n[ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ea(e);e!==null;){if(n=e[ot])return n;e=ea(e)}return t}e=n,n=e.parentNode}return null}function Er(e){return e=e[ot]||e[ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Do(e){return e[hr]||null}var Xi=[],fn=-1;function At(e){return{current:e}}function re(e){0>fn||(e.current=Xi[fn],Xi[fn]=null,fn--)}function te(e,t){fn++,Xi[fn]=e.current,e.current=t}var Dt={},Ce=At(Dt),Fe=At(!1),Yt=Dt;function Cn(e,t){var n=e.type.contextTypes;if(!n)return Dt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Le(e){return e=e.childContextTypes,e!=null}function mo(){re(Fe),re(Ce)}function ta(e,t,n){if(Ce.current!==Dt)throw Error(A(168));te(Ce,t),te(Fe,n)}function Ku(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(A(108,Xd(e)||"Unknown",o));return se({},n,r)}function go(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dt,Yt=Ce.current,te(Ce,e),te(Fe,Fe.current),!0}function na(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=Ku(e,t,Yt),r.__reactInternalMemoizedMergedChildContext=e,re(Fe),re(Ce),te(Ce,e)):re(Fe),te(Fe,n)}var ut=null,$o=!1,hi=!1;function Gu(e){ut===null?ut=[e]:ut.push(e)}function xp(e){$o=!0,Gu(e)}function It(){if(!hi&&ut!==null){hi=!0;var e=0,t=ee;try{var n=ut;for(ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ut=null,$o=!1}catch(o){throw ut!==null&&(ut=ut.slice(e+1)),ju(Ll,It),o}finally{ee=t,hi=!1}}return null}var pn=[],hn=0,xo=null,yo=0,We=[],Ue=0,Kt=null,ct=1,dt="";function Bt(e,t){pn[hn++]=yo,pn[hn++]=xo,xo=e,yo=t}function Zu(e,t,n){We[Ue++]=ct,We[Ue++]=dt,We[Ue++]=Kt,Kt=e;var r=ct;e=dt;var o=32-Je(r)-1;r&=~(1<<o),n+=1;var l=32-Je(t)+o;if(30<l){var s=o-o%5;l=(r&(1<<s)-1).toString(32),r>>=s,o-=s,ct=1<<32-Je(t)+o|n<<o|r,dt=l+e}else ct=1<<l|n<<o|r,dt=e}function Ul(e){e.return!==null&&(Bt(e,1),Zu(e,1,0))}function Hl(e){for(;e===xo;)xo=pn[--hn],pn[hn]=null,yo=pn[--hn],pn[hn]=null;for(;e===Kt;)Kt=We[--Ue],We[Ue]=null,dt=We[--Ue],We[Ue]=null,ct=We[--Ue],We[Ue]=null}var Ie=null,Ae=null,oe=!1,Ze=null;function Ju(e,t){var n=He(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ra(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kt!==null?{id:ct,overflow:dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=He(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ie=e,Ae=null,!0):!1;default:return!1}}function el(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tl(e){if(oe){var t=Ae;if(t){var n=t;if(!ra(e,t)){if(el(e))throw Error(A(418));t=zt(n.nextSibling);var r=Ie;t&&ra(e,t)?Ju(r,n):(e.flags=e.flags&-4097|2,oe=!1,Ie=e)}}else{if(el(e))throw Error(A(418));e.flags=e.flags&-4097|2,oe=!1,Ie=e}}}function oa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function Mr(e){if(e!==Ie)return!1;if(!oe)return oa(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gi(e.type,e.memoizedProps)),t&&(t=Ae)){if(el(e))throw Xu(),Error(A(418));for(;t;)Ju(e,t),t=zt(t.nextSibling)}if(oa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ae=zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=Ie?zt(e.stateNode.nextSibling):null;return!0}function Xu(){for(var e=Ae;e;)e=zt(e.nextSibling)}function bn(){Ae=Ie=null,oe=!1}function Vl(e){Ze===null?Ze=[e]:Ze.push(e)}var yp=xt.ReactCurrentBatchConfig;function Wn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(s){var a=o.refs;s===null?delete a[l]:a[l]=s},t._stringRef=l,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Wr(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ia(e){var t=e._init;return t(e._payload)}function ec(e){function t(f,d){if(e){var p=f.deletions;p===null?(f.deletions=[d],f.flags|=16):p.push(d)}}function n(f,d){if(!e)return null;for(;d!==null;)t(f,d),d=d.sibling;return null}function r(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function o(f,d){return f=Ft(f,d),f.index=0,f.sibling=null,f}function l(f,d,p){return f.index=p,e?(p=f.alternate,p!==null?(p=p.index,p<d?(f.flags|=2,d):p):(f.flags|=2,d)):(f.flags|=1048576,d)}function s(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,d,p,C){return d===null||d.tag!==6?(d=ji(p,f.mode,C),d.return=f,d):(d=o(d,p),d.return=f,d)}function u(f,d,p,C){var _=p.type;return _===sn?m(f,d,p.props.children,C,p.key):d!==null&&(d.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===vt&&ia(_)===d.type)?(C=o(d,p.props),C.ref=Wn(f,d,p),C.return=f,C):(C=oo(p.type,p.key,p.props,null,f.mode,C),C.ref=Wn(f,d,p),C.return=f,C)}function c(f,d,p,C){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=Si(p,f.mode,C),d.return=f,d):(d=o(d,p.children||[]),d.return=f,d)}function m(f,d,p,C,_){return d===null||d.tag!==7?(d=qt(p,f.mode,C,_),d.return=f,d):(d=o(d,p),d.return=f,d)}function h(f,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=ji(""+d,f.mode,p),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Rr:return p=oo(d.type,d.key,d.props,null,f.mode,p),p.ref=Wn(f,null,d),p.return=f,p;case ln:return d=Si(d,f.mode,p),d.return=f,d;case vt:var C=d._init;return h(f,C(d._payload),p)}if(qn(d)||An(d))return d=qt(d,f.mode,p,null),d.return=f,d;Wr(f,d)}return null}function g(f,d,p,C){var _=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return _!==null?null:a(f,d,""+p,C);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Rr:return p.key===_?u(f,d,p,C):null;case ln:return p.key===_?c(f,d,p,C):null;case vt:return _=p._init,g(f,d,_(p._payload),C)}if(qn(p)||An(p))return _!==null?null:m(f,d,p,C,null);Wr(f,p)}return null}function k(f,d,p,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return f=f.get(p)||null,a(d,f,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Rr:return f=f.get(C.key===null?p:C.key)||null,u(d,f,C,_);case ln:return f=f.get(C.key===null?p:C.key)||null,c(d,f,C,_);case vt:var F=C._init;return k(f,d,p,F(C._payload),_)}if(qn(C)||An(C))return f=f.get(p)||null,m(d,f,C,_,null);Wr(d,C)}return null}function w(f,d,p,C){for(var _=null,F=null,D=d,I=d=0,q=null;D!==null&&I<p.length;I++){D.index>I?(q=D,D=null):q=D.sibling;var Y=g(f,D,p[I],C);if(Y===null){D===null&&(D=q);break}e&&D&&Y.alternate===null&&t(f,D),d=l(Y,d,I),F===null?_=Y:F.sibling=Y,F=Y,D=q}if(I===p.length)return n(f,D),oe&&Bt(f,I),_;if(D===null){for(;I<p.length;I++)D=h(f,p[I],C),D!==null&&(d=l(D,d,I),F===null?_=D:F.sibling=D,F=D);return oe&&Bt(f,I),_}for(D=r(f,D);I<p.length;I++)q=k(D,f,I,p[I],C),q!==null&&(e&&q.alternate!==null&&D.delete(q.key===null?I:q.key),d=l(q,d,I),F===null?_=q:F.sibling=q,F=q);return e&&D.forEach(function(L){return t(f,L)}),oe&&Bt(f,I),_}function v(f,d,p,C){var _=An(p);if(typeof _!="function")throw Error(A(150));if(p=_.call(p),p==null)throw Error(A(151));for(var F=_=null,D=d,I=d=0,q=null,Y=p.next();D!==null&&!Y.done;I++,Y=p.next()){D.index>I?(q=D,D=null):q=D.sibling;var L=g(f,D,Y.value,C);if(L===null){D===null&&(D=q);break}e&&D&&L.alternate===null&&t(f,D),d=l(L,d,I),F===null?_=L:F.sibling=L,F=L,D=q}if(Y.done)return n(f,D),oe&&Bt(f,I),_;if(D===null){for(;!Y.done;I++,Y=p.next())Y=h(f,Y.value,C),Y!==null&&(d=l(Y,d,I),F===null?_=Y:F.sibling=Y,F=Y);return oe&&Bt(f,I),_}for(D=r(f,D);!Y.done;I++,Y=p.next())Y=k(D,f,I,Y.value,C),Y!==null&&(e&&Y.alternate!==null&&D.delete(Y.key===null?I:Y.key),d=l(Y,d,I),F===null?_=Y:F.sibling=Y,F=Y);return e&&D.forEach(function(Z){return t(f,Z)}),oe&&Bt(f,I),_}function E(f,d,p,C){if(typeof p=="object"&&p!==null&&p.type===sn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Rr:e:{for(var _=p.key,F=d;F!==null;){if(F.key===_){if(_=p.type,_===sn){if(F.tag===7){n(f,F.sibling),d=o(F,p.props.children),d.return=f,f=d;break e}}else if(F.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===vt&&ia(_)===F.type){n(f,F.sibling),d=o(F,p.props),d.ref=Wn(f,F,p),d.return=f,f=d;break e}n(f,F);break}else t(f,F);F=F.sibling}p.type===sn?(d=qt(p.props.children,f.mode,C,p.key),d.return=f,f=d):(C=oo(p.type,p.key,p.props,null,f.mode,C),C.ref=Wn(f,d,p),C.return=f,f=C)}return s(f);case ln:e:{for(F=p.key;d!==null;){if(d.key===F)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(f,d.sibling),d=o(d,p.children||[]),d.return=f,f=d;break e}else{n(f,d);break}else t(f,d);d=d.sibling}d=Si(p,f.mode,C),d.return=f,f=d}return s(f);case vt:return F=p._init,E(f,d,F(p._payload),C)}if(qn(p))return w(f,d,p,C);if(An(p))return v(f,d,p,C);Wr(f,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(f,d.sibling),d=o(d,p),d.return=f,f=d):(n(f,d),d=ji(p,f.mode,C),d.return=f,f=d),s(f)):n(f,d)}return E}var En=ec(!0),tc=ec(!1),vo=At(null),wo=null,mn=null,ql=null;function Ql(){ql=mn=wo=null}function Yl(e){var t=vo.current;re(vo),e._currentValue=t}function nl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sn(e,t){wo=e,ql=mn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(ql!==e)if(e={context:e,memoizedValue:t,next:null},mn===null){if(wo===null)throw Error(A(308));mn=e,wo.dependencies={lanes:0,firstContext:e}}else mn=mn.next=e;return t}var Ut=null;function Kl(e){Ut===null?Ut=[e]:Ut.push(e)}function nc(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Kl(t)):(n.next=o.next,o.next=n),t.interleaved=n,mt(e,r)}function mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wt=!1;function Gl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,mt(e,n)}return o=r.interleaved,o===null?(t.next=t,Kl(r)):(t.next=o.next,o.next=t),r.interleaved=t,mt(e,n)}function Jr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dl(e,n)}}function la(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=s:l=l.next=s,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var o=e.updateQueue;wt=!1;var l=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?l=c:s.next=c,s=u;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==s&&(a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=u))}if(l!==null){var h=o.baseState;s=0,m=c=u=null,a=l;do{var g=a.lane,k=a.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:k,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,v=a;switch(g=t,k=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(k,h,g);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,g=typeof w=="function"?w.call(k,h,g):w,g==null)break e;h=se({},h,g);break e;case 2:wt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=o.effects,g===null?o.effects=[a]:g.push(a))}else k={eventTime:k,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(c=m=k,u=h):m=m.next=k,s|=g;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;g=a,a=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(m===null&&(u=h),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=m,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);Zt|=s,e.lanes=s,e.memoizedState=h}}function sa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(A(191,o));o.call(r)}}}var Nr={},lt=At(Nr),mr=At(Nr),gr=At(Nr);function Ht(e){if(e===Nr)throw Error(A(174));return e}function Zl(e,t){switch(te(gr,t),te(mr,e),te(lt,Nr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$i(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$i(t,e)}re(lt),te(lt,t)}function Nn(){re(lt),re(mr),re(gr)}function oc(e){Ht(gr.current);var t=Ht(lt.current),n=$i(t,e.type);t!==n&&(te(mr,e),te(lt,n))}function Jl(e){mr.current===e&&(re(lt),re(mr))}var ie=At(0);function So(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mi=[];function Xl(){for(var e=0;e<mi.length;e++)mi[e]._workInProgressVersionPrimary=null;mi.length=0}var Xr=xt.ReactCurrentDispatcher,gi=xt.ReactCurrentBatchConfig,Gt=0,le=null,he=null,xe=null,_o=!1,er=!1,xr=0,vp=0;function Se(){throw Error(A(321))}function es(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!et(e[n],t[n]))return!1;return!0}function ts(e,t,n,r,o,l){if(Gt=l,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xr.current=e===null||e.memoizedState===null?_p:kp,e=n(r,o),er){l=0;do{if(er=!1,xr=0,25<=l)throw Error(A(301));l+=1,xe=he=null,t.updateQueue=null,Xr.current=Cp,e=n(r,o)}while(er)}if(Xr.current=ko,t=he!==null&&he.next!==null,Gt=0,xe=he=le=null,_o=!1,t)throw Error(A(300));return e}function ns(){var e=xr!==0;return xr=0,e}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?le.memoizedState=xe=e:xe=xe.next=e,xe}function Qe(){if(he===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=xe===null?le.memoizedState:xe.next;if(t!==null)xe=t,he=e;else{if(e===null)throw Error(A(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},xe===null?le.memoizedState=xe=e:xe=xe.next=e}return xe}function yr(e,t){return typeof t=="function"?t(e):t}function xi(e){var t=Qe(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=he,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var s=o.next;o.next=l.next,l.next=s}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var a=s=null,u=null,c=l;do{var m=c.lane;if((Gt&m)===m)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,s=r):u=u.next=h,le.lanes|=m,Zt|=m}c=c.next}while(c!==null&&c!==l);u===null?s=r:u.next=a,et(r,t.memoizedState)||(Pe=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,le.lanes|=l,Zt|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yi(e){var t=Qe(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do l=e(l,s.action),s=s.next;while(s!==o);et(l,t.memoizedState)||(Pe=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function ic(){}function lc(e,t){var n=le,r=Qe(),o=t(),l=!et(r.memoizedState,o);if(l&&(r.memoizedState=o,Pe=!0),r=r.queue,rs(uc.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,vr(9,ac.bind(null,n,r,o,t),void 0,null),ye===null)throw Error(A(349));Gt&30||sc(n,t,o)}return o}function sc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ac(e,t,n,r){t.value=n,t.getSnapshot=r,cc(t)&&dc(e)}function uc(e,t,n){return n(function(){cc(t)&&dc(e)})}function cc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!et(e,n)}catch{return!0}}function dc(e){var t=mt(e,1);t!==null&&Xe(t,e,1,-1)}function aa(e){var t=rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:e},t.queue=e,e=e.dispatch=Sp.bind(null,le,e),[t.memoizedState,e]}function vr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fc(){return Qe().memoizedState}function eo(e,t,n,r){var o=rt();le.flags|=e,o.memoizedState=vr(1|t,n,void 0,r===void 0?null:r)}function Ao(e,t,n,r){var o=Qe();r=r===void 0?null:r;var l=void 0;if(he!==null){var s=he.memoizedState;if(l=s.destroy,r!==null&&es(r,s.deps)){o.memoizedState=vr(t,n,l,r);return}}le.flags|=e,o.memoizedState=vr(1|t,n,l,r)}function ua(e,t){return eo(8390656,8,e,t)}function rs(e,t){return Ao(2048,8,e,t)}function pc(e,t){return Ao(4,2,e,t)}function hc(e,t){return Ao(4,4,e,t)}function mc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gc(e,t,n){return n=n!=null?n.concat([e]):null,Ao(4,4,mc.bind(null,t,e),n)}function os(){}function xc(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yc(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&es(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vc(e,t,n){return Gt&21?(et(n,t)||(n=ku(),le.lanes|=n,Zt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=n)}function wp(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var r=gi.transition;gi.transition={};try{e(!1),t()}finally{ee=n,gi.transition=r}}function wc(){return Qe().memoizedState}function jp(e,t,n){var r=Pt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jc(e))Sc(t,n);else if(n=nc(e,t,n,r),n!==null){var o=Ne();Xe(n,e,r,o),_c(n,t,r)}}function Sp(e,t,n){var r=Pt(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jc(e))Sc(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var s=t.lastRenderedState,a=l(s,n);if(o.hasEagerState=!0,o.eagerState=a,et(a,s)){var u=t.interleaved;u===null?(o.next=o,Kl(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=nc(e,t,o,r),n!==null&&(o=Ne(),Xe(n,e,r,o),_c(n,t,r))}}function jc(e){var t=e.alternate;return e===le||t!==null&&t===le}function Sc(e,t){er=_o=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _c(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dl(e,n)}}var ko={readContext:qe,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},_p={readContext:qe,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:ua,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,eo(4194308,4,mc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return eo(4194308,4,e,t)},useInsertionEffect:function(e,t){return eo(4,2,e,t)},useMemo:function(e,t){var n=rt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jp.bind(null,le,e),[r.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:aa,useDebugValue:os,useDeferredValue:function(e){return rt().memoizedState=e},useTransition:function(){var e=aa(!1),t=e[0];return e=wp.bind(null,e[1]),rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=le,o=rt();if(oe){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),ye===null)throw Error(A(349));Gt&30||sc(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,ua(uc.bind(null,r,l,e),[e]),r.flags|=2048,vr(9,ac.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=rt(),t=ye.identifierPrefix;if(oe){var n=dt,r=ct;n=(r&~(1<<32-Je(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kp={readContext:qe,useCallback:xc,useContext:qe,useEffect:rs,useImperativeHandle:gc,useInsertionEffect:pc,useLayoutEffect:hc,useMemo:yc,useReducer:xi,useRef:fc,useState:function(){return xi(yr)},useDebugValue:os,useDeferredValue:function(e){var t=Qe();return vc(t,he.memoizedState,e)},useTransition:function(){var e=xi(yr)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:ic,useSyncExternalStore:lc,useId:wc,unstable_isNewReconciler:!1},Cp={readContext:qe,useCallback:xc,useContext:qe,useEffect:rs,useImperativeHandle:gc,useInsertionEffect:pc,useLayoutEffect:hc,useMemo:yc,useReducer:yi,useRef:fc,useState:function(){return yi(yr)},useDebugValue:os,useDeferredValue:function(e){var t=Qe();return he===null?t.memoizedState=e:vc(t,he.memoizedState,e)},useTransition:function(){var e=yi(yr)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:ic,useSyncExternalStore:lc,useId:wc,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Io={isMounted:function(e){return(e=e._reactInternals)?en(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ne(),o=Pt(e),l=ft(r,o);l.payload=t,n!=null&&(l.callback=n),t=Tt(e,l,o),t!==null&&(Xe(t,e,o,r),Jr(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ne(),o=Pt(e),l=ft(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Tt(e,l,o),t!==null&&(Xe(t,e,o,r),Jr(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ne(),r=Pt(e),o=ft(n,r);o.tag=2,t!=null&&(o.callback=t),t=Tt(e,o,r),t!==null&&(Xe(t,e,r,n),Jr(t,e,r))}};function ca(e,t,n,r,o,l,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,s):t.prototype&&t.prototype.isPureReactComponent?!dr(n,r)||!dr(o,l):!0}function kc(e,t,n){var r=!1,o=Dt,l=t.contextType;return typeof l=="object"&&l!==null?l=qe(l):(o=Le(t)?Yt:Ce.current,r=t.contextTypes,l=(r=r!=null)?Cn(e,o):Dt),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Io,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function da(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function ol(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Gl(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=qe(l):(l=Le(t)?Yt:Ce.current,o.context=Cn(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(rl(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Io.enqueueReplaceState(o,o.state,null),jo(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function zn(e,t){try{var n="",r=t;do n+=Jd(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function vi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function il(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bp=typeof WeakMap=="function"?WeakMap:Map;function Cc(e,t,n){n=ft(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bo||(bo=!0,ml=r),il(e,t)},n}function bc(e,t,n){n=ft(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){il(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){il(e,t),typeof r!="function"&&(Rt===null?Rt=new Set([this]):Rt.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function fa(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bp;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Bp.bind(null,e,t,n),t.then(e,e))}function pa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ha(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ft(-1,1),t.tag=2,Tt(n,t,1))),n.lanes|=1),e)}var Ep=xt.ReactCurrentOwner,Pe=!1;function Ee(e,t,n,r){t.child=e===null?tc(t,null,n,r):En(t,e.child,n,r)}function ma(e,t,n,r,o){n=n.render;var l=t.ref;return Sn(t,o),r=ts(e,t,n,r,l,o),n=ns(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,gt(e,t,o)):(oe&&n&&Ul(t),t.flags|=1,Ee(e,t,r,o),t.child)}function ga(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!fs(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Ec(e,t,l,r,o)):(e=oo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var s=l.memoizedProps;if(n=n.compare,n=n!==null?n:dr,n(s,r)&&e.ref===t.ref)return gt(e,t,o)}return t.flags|=1,e=Ft(l,r),e.ref=t.ref,e.return=t,t.child=e}function Ec(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(dr(l,r)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,gt(e,t,o)}return ll(e,t,n,r,o)}function Nc(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(xn,$e),$e|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(xn,$e),$e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,te(xn,$e),$e|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,te(xn,$e),$e|=r;return Ee(e,t,o,n),t.child}function zc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ll(e,t,n,r,o){var l=Le(n)?Yt:Ce.current;return l=Cn(t,l),Sn(t,o),n=ts(e,t,n,r,l,o),r=ns(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,gt(e,t,o)):(oe&&r&&Ul(t),t.flags|=1,Ee(e,t,n,o),t.child)}function xa(e,t,n,r,o){if(Le(n)){var l=!0;go(t)}else l=!1;if(Sn(t,o),t.stateNode===null)to(e,t),kc(t,n,r),ol(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=qe(c):(c=Le(n)?Yt:Ce.current,c=Cn(t,c));var m=n.getDerivedStateFromProps,h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&da(t,s,r,c),wt=!1;var g=t.memoizedState;s.state=g,jo(t,r,s,o),u=t.memoizedState,a!==r||g!==u||Fe.current||wt?(typeof m=="function"&&(rl(t,n,m,r),u=t.memoizedState),(a=wt||ca(t,n,a,r,g,u,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rc(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ke(t.type,a),s.props=c,h=t.pendingProps,g=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=qe(u):(u=Le(n)?Yt:Ce.current,u=Cn(t,u));var k=n.getDerivedStateFromProps;(m=typeof k=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||g!==u)&&da(t,s,r,u),wt=!1,g=t.memoizedState,s.state=g,jo(t,r,s,o);var w=t.memoizedState;a!==h||g!==w||Fe.current||wt?(typeof k=="function"&&(rl(t,n,k,r),w=t.memoizedState),(c=wt||ca(t,n,c,r,g,w,u)||!1)?(m||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return sl(e,t,n,r,l,o)}function sl(e,t,n,r,o,l){zc(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&na(t,n,!1),gt(e,t,l);r=t.stateNode,Ep.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=En(t,e.child,null,l),t.child=En(t,null,a,l)):Ee(e,t,a,l),t.memoizedState=r.state,o&&na(t,n,!0),t.child}function Tc(e){var t=e.stateNode;t.pendingContext?ta(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ta(e,t.context,!1),Zl(e,t.containerInfo)}function ya(e,t,n,r,o){return bn(),Vl(o),t.flags|=256,Ee(e,t,n,r),t.child}var al={dehydrated:null,treeContext:null,retryLane:0};function ul(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rc(e,t,n){var r=t.pendingProps,o=ie.current,l=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),te(ie,o&1),e===null)return tl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,l?(r=t.mode,l=t.child,s={mode:"hidden",children:s},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=s):l=Mo(s,r,0,null),e=qt(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ul(n),t.memoizedState=al,e):is(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Np(e,t,s,r,a,o,n);if(l){l=r.fallback,s=t.mode,o=e.child,a=o.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Ft(o,u),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?l=Ft(a,l):(l=qt(l,s,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,s=e.child.memoizedState,s=s===null?ul(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=al,r}return l=e.child,e=l.sibling,r=Ft(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function is(e,t){return t=Mo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ur(e,t,n,r){return r!==null&&Vl(r),En(t,e.child,null,n),e=is(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Np(e,t,n,r,o,l,s){if(n)return t.flags&256?(t.flags&=-257,r=vi(Error(A(422))),Ur(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=Mo({mode:"visible",children:r.children},o,0,null),l=qt(l,o,s,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&En(t,e.child,null,s),t.child.memoizedState=ul(s),t.memoizedState=al,l);if(!(t.mode&1))return Ur(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,l=Error(A(419)),r=vi(l,r,void 0),Ur(e,t,s,r)}if(a=(s&e.childLanes)!==0,Pe||a){if(r=ye,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,mt(e,o),Xe(r,e,o,-1))}return ds(),r=vi(Error(A(421))),Ur(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Mp.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Ae=zt(o.nextSibling),Ie=t,oe=!0,Ze=null,e!==null&&(We[Ue++]=ct,We[Ue++]=dt,We[Ue++]=Kt,ct=e.id,dt=e.overflow,Kt=t),t=is(t,r.children),t.flags|=4096,t)}function va(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nl(e.return,t,n)}function wi(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function Pc(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(Ee(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&va(e,n,t);else if(e.tag===19)va(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(te(ie,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&So(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),wi(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&So(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}wi(t,!0,n,null,l);break;case"together":wi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function to(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zp(e,t,n){switch(t.tag){case 3:Tc(t),bn();break;case 5:oc(t);break;case 1:Le(t.type)&&go(t);break;case 4:Zl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;te(vo,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(te(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?Rc(e,t,n):(te(ie,ie.current&1),e=gt(e,t,n),e!==null?e.sibling:null);te(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Pc(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),te(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,Nc(e,t,n)}return gt(e,t,n)}var Fc,cl,Lc,Dc;Fc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cl=function(){};Lc=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ht(lt.current);var l=null;switch(n){case"input":o=Pi(e,o),r=Pi(e,r),l=[];break;case"select":o=se({},o,{value:void 0}),r=se({},r,{value:void 0}),l=[];break;case"textarea":o=Di(e,o),r=Di(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ho)}Ai(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(or.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(l||(l=[]),l.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(l=l||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(or.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ne("scroll",e),l||a===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};Dc=function(e,t,n,r){n!==r&&(t.flags|=4)};function Un(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Tp(e,t,n){var r=t.pendingProps;switch(Hl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Le(t.type)&&mo(),_e(t),null;case 3:return r=t.stateNode,Nn(),re(Fe),re(Ce),Xl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ze!==null&&(yl(Ze),Ze=null))),cl(e,t),_e(t),null;case 5:Jl(t);var o=Ht(gr.current);if(n=t.type,e!==null&&t.stateNode!=null)Lc(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return _e(t),null}if(e=Ht(lt.current),Mr(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[ot]=t,r[hr]=l,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(o=0;o<Yn.length;o++)ne(Yn[o],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":Ns(r,l),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ne("invalid",r);break;case"textarea":Ts(r,l),ne("invalid",r)}Ai(n,l),o=null;for(var s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="children"?typeof a=="string"?r.textContent!==a&&(l.suppressHydrationWarning!==!0&&Br(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(l.suppressHydrationWarning!==!0&&Br(r.textContent,a,e),o=["children",""+a]):or.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ne("scroll",r)}switch(n){case"input":Pr(r),zs(r,l,!0);break;case"textarea":Pr(r),Rs(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=ho)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ot]=t,e[hr]=r,Fc(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ii(n,r),n){case"dialog":ne("cancel",e),ne("close",e),o=r;break;case"iframe":case"object":case"embed":ne("load",e),o=r;break;case"video":case"audio":for(o=0;o<Yn.length;o++)ne(Yn[o],e);o=r;break;case"source":ne("error",e),o=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),o=r;break;case"details":ne("toggle",e),o=r;break;case"input":Ns(e,r),o=Pi(e,r),ne("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=se({},r,{value:void 0}),ne("invalid",e);break;case"textarea":Ts(e,r),o=Di(e,r),ne("invalid",e);break;default:o=r}Ai(n,o),a=o;for(l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="style"?fu(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cu(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ir(e,u):typeof u=="number"&&ir(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(or.hasOwnProperty(l)?u!=null&&l==="onScroll"&&ne("scroll",e):u!=null&&zl(e,l,u,s))}switch(n){case"input":Pr(e),zs(e,r,!1);break;case"textarea":Pr(e),Rs(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Lt(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?yn(e,!!r.multiple,l,!1):r.defaultValue!=null&&yn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ho)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)Dc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=Ht(gr.current),Ht(lt.current),Mr(t)){if(r=t.stateNode,n=t.memoizedProps,r[ot]=t,(l=r.nodeValue!==n)&&(e=Ie,e!==null))switch(e.tag){case 3:Br(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Br(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ot]=t,t.stateNode=r}return _e(t),null;case 13:if(re(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&Ae!==null&&t.mode&1&&!(t.flags&128))Xu(),bn(),t.flags|=98560,l=!1;else if(l=Mr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(A(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(A(317));l[ot]=t}else bn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),l=!1}else Ze!==null&&(yl(Ze),Ze=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?me===0&&(me=3):ds())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return Nn(),cl(e,t),e===null&&fr(t.stateNode.containerInfo),_e(t),null;case 10:return Yl(t.type._context),_e(t),null;case 17:return Le(t.type)&&mo(),_e(t),null;case 19:if(re(ie),l=t.memoizedState,l===null)return _e(t),null;if(r=(t.flags&128)!==0,s=l.rendering,s===null)if(r)Un(l,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=So(e),s!==null){for(t.flags|=128,Un(l,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,s=l.alternate,s===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,e=s.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(ie,ie.current&1|2),t.child}e=e.sibling}l.tail!==null&&de()>Tn&&(t.flags|=128,r=!0,Un(l,!1),t.lanes=4194304)}else{if(!r)if(e=So(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Un(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!oe)return _e(t),null}else 2*de()-l.renderingStartTime>Tn&&n!==1073741824&&(t.flags|=128,r=!0,Un(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(n=l.last,n!==null?n.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=de(),t.sibling=null,n=ie.current,te(ie,r?n&1|2:n&1),t):(_e(t),null);case 22:case 23:return cs(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$e&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function Rp(e,t){switch(Hl(t),t.tag){case 1:return Le(t.type)&&mo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nn(),re(Fe),re(Ce),Xl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jl(t),null;case 13:if(re(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ie),null;case 4:return Nn(),null;case 10:return Yl(t.type._context),null;case 22:case 23:return cs(),null;case 24:return null;default:return null}}var Hr=!1,ke=!1,Pp=typeof WeakSet=="function"?WeakSet:Set,W=null;function gn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function dl(e,t,n){try{n()}catch(r){ue(e,t,r)}}var wa=!1;function Fp(e,t){if(Yi=co,e=Bu(),Wl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,m=0,h=e,g=null;t:for(;;){for(var k;h!==n||o!==0&&h.nodeType!==3||(a=s+o),h!==l||r!==0&&h.nodeType!==3||(u=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(k=h.firstChild)!==null;)g=h,h=k;for(;;){if(h===e)break t;if(g===n&&++c===o&&(a=s),g===l&&++m===r&&(u=s),(k=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=k}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ki={focusedElem:e,selectionRange:n},co=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,E=w.memoizedState,f=t.stateNode,d=f.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ke(t.type,v),E);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(C){ue(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return w=wa,wa=!1,w}function tr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&dl(t,n,l)}o=o.next}while(o!==r)}}function Oo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $c(e){var t=e.alternate;t!==null&&(e.alternate=null,$c(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ot],delete t[hr],delete t[Ji],delete t[mp],delete t[gp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ac(e){return e.tag===5||e.tag===3||e.tag===4}function ja(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ho));else if(r!==4&&(e=e.child,e!==null))for(pl(e,t,n),e=e.sibling;e!==null;)pl(e,t,n),e=e.sibling}function hl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hl(e,t,n),e=e.sibling;e!==null;)hl(e,t,n),e=e.sibling}var ve=null,Ge=!1;function yt(e,t,n){for(n=n.child;n!==null;)Ic(e,t,n),n=n.sibling}function Ic(e,t,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Ro,n)}catch{}switch(n.tag){case 5:ke||gn(n,t);case 6:var r=ve,o=Ge;ve=null,yt(e,t,n),ve=r,Ge=o,ve!==null&&(Ge?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(Ge?(e=ve,n=n.stateNode,e.nodeType===8?pi(e.parentNode,n):e.nodeType===1&&pi(e,n),ur(e)):pi(ve,n.stateNode));break;case 4:r=ve,o=Ge,ve=n.stateNode.containerInfo,Ge=!0,yt(e,t,n),ve=r,Ge=o;break;case 0:case 11:case 14:case 15:if(!ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,s=l.destroy;l=l.tag,s!==void 0&&(l&2||l&4)&&dl(n,t,s),o=o.next}while(o!==r)}yt(e,t,n);break;case 1:if(!ke&&(gn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ue(n,t,a)}yt(e,t,n);break;case 21:yt(e,t,n);break;case 22:n.mode&1?(ke=(r=ke)||n.memoizedState!==null,yt(e,t,n),ke=r):yt(e,t,n);break;default:yt(e,t,n)}}function Sa(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Pp),t.forEach(function(r){var o=Wp.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Ye(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:ve=a.stateNode,Ge=!1;break e;case 3:ve=a.stateNode.containerInfo,Ge=!0;break e;case 4:ve=a.stateNode.containerInfo,Ge=!0;break e}a=a.return}if(ve===null)throw Error(A(160));Ic(l,s,o),ve=null,Ge=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(c){ue(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Oc(t,e),t=t.sibling}function Oc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),nt(e),r&4){try{tr(3,e,e.return),Oo(3,e)}catch(v){ue(e,e.return,v)}try{tr(5,e,e.return)}catch(v){ue(e,e.return,v)}}break;case 1:Ye(t,e),nt(e),r&512&&n!==null&&gn(n,n.return);break;case 5:if(Ye(t,e),nt(e),r&512&&n!==null&&gn(n,n.return),e.flags&32){var o=e.stateNode;try{ir(o,"")}catch(v){ue(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,s=n!==null?n.memoizedProps:l,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&l.type==="radio"&&l.name!=null&&su(o,l),Ii(a,s);var c=Ii(a,l);for(s=0;s<u.length;s+=2){var m=u[s],h=u[s+1];m==="style"?fu(o,h):m==="dangerouslySetInnerHTML"?cu(o,h):m==="children"?ir(o,h):zl(o,m,h,c)}switch(a){case"input":Fi(o,l);break;case"textarea":au(o,l);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var k=l.value;k!=null?yn(o,!!l.multiple,k,!1):g!==!!l.multiple&&(l.defaultValue!=null?yn(o,!!l.multiple,l.defaultValue,!0):yn(o,!!l.multiple,l.multiple?[]:"",!1))}o[hr]=l}catch(v){ue(e,e.return,v)}}break;case 6:if(Ye(t,e),nt(e),r&4){if(e.stateNode===null)throw Error(A(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(v){ue(e,e.return,v)}}break;case 3:if(Ye(t,e),nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ur(t.containerInfo)}catch(v){ue(e,e.return,v)}break;case 4:Ye(t,e),nt(e);break;case 13:Ye(t,e),nt(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(as=de())),r&4&&Sa(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(ke=(c=ke)||m,Ye(t,e),ke=c):Ye(t,e),nt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!m&&e.mode&1)for(W=e,m=e.child;m!==null;){for(h=W=m;W!==null;){switch(g=W,k=g.child,g.tag){case 0:case 11:case 14:case 15:tr(4,g,g.return);break;case 1:gn(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){ue(r,n,v)}}break;case 5:gn(g,g.return);break;case 22:if(g.memoizedState!==null){ka(h);continue}}k!==null?(k.return=g,W=k):ka(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{o=h.stateNode,c?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(a=h.stateNode,u=h.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=du("display",s))}catch(v){ue(e,e.return,v)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){ue(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ye(t,e),nt(e),r&4&&Sa(e);break;case 21:break;default:Ye(t,e),nt(e)}}function nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ac(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ir(o,""),r.flags&=-33);var l=ja(e);hl(e,l,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=ja(e);pl(e,a,s);break;default:throw Error(A(161))}}catch(u){ue(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lp(e,t,n){W=e,Bc(e)}function Bc(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var o=W,l=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Hr;if(!s){var a=o.alternate,u=a!==null&&a.memoizedState!==null||ke;a=Hr;var c=ke;if(Hr=s,(ke=u)&&!c)for(W=o;W!==null;)s=W,u=s.child,s.tag===22&&s.memoizedState!==null?Ca(o):u!==null?(u.return=s,W=u):Ca(o);for(;l!==null;)W=l,Bc(l),l=l.sibling;W=o,Hr=a,ke=c}_a(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,W=l):_a(e)}}function _a(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ke||Oo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ke)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ke(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&sa(t,l,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sa(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&ur(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}ke||t.flags&512&&fl(t)}catch(g){ue(t,t.return,g)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function ka(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Ca(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Oo(4,t)}catch(u){ue(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){ue(t,o,u)}}var l=t.return;try{fl(t)}catch(u){ue(t,l,u)}break;case 5:var s=t.return;try{fl(t)}catch(u){ue(t,s,u)}}}catch(u){ue(t,t.return,u)}if(t===e){W=null;break}var a=t.sibling;if(a!==null){a.return=t.return,W=a;break}W=t.return}}var Dp=Math.ceil,Co=xt.ReactCurrentDispatcher,ls=xt.ReactCurrentOwner,Ve=xt.ReactCurrentBatchConfig,X=0,ye=null,fe=null,we=0,$e=0,xn=At(0),me=0,wr=null,Zt=0,Bo=0,ss=0,nr=null,Re=null,as=0,Tn=1/0,at=null,bo=!1,ml=null,Rt=null,Vr=!1,kt=null,Eo=0,rr=0,gl=null,no=-1,ro=0;function Ne(){return X&6?de():no!==-1?no:no=de()}function Pt(e){return e.mode&1?X&2&&we!==0?we&-we:yp.transition!==null?(ro===0&&(ro=ku()),ro):(e=ee,e!==0||(e=window.event,e=e===void 0?16:Ru(e.type)),e):1}function Xe(e,t,n,r){if(50<rr)throw rr=0,gl=null,Error(A(185));Cr(e,n,r),(!(X&2)||e!==ye)&&(e===ye&&(!(X&2)&&(Bo|=n),me===4&&St(e,we)),De(e,r),n===1&&X===0&&!(t.mode&1)&&(Tn=de()+500,$o&&It()))}function De(e,t){var n=e.callbackNode;yf(e,t);var r=uo(e,e===ye?we:0);if(r===0)n!==null&&Ls(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ls(n),t===1)e.tag===0?xp(ba.bind(null,e)):Gu(ba.bind(null,e)),pp(function(){!(X&6)&&It()}),n=null;else{switch(Cu(r)){case 1:n=Ll;break;case 4:n=Su;break;case 16:n=ao;break;case 536870912:n=_u;break;default:n=ao}n=Yc(n,Mc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Mc(e,t){if(no=-1,ro=0,X&6)throw Error(A(327));var n=e.callbackNode;if(_n()&&e.callbackNode!==n)return null;var r=uo(e,e===ye?we:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=No(e,r);else{t=r;var o=X;X|=2;var l=Uc();(ye!==e||we!==t)&&(at=null,Tn=de()+500,Vt(e,t));do try{Ip();break}catch(a){Wc(e,a)}while(!0);Ql(),Co.current=l,X=o,fe!==null?t=0:(ye=null,we=0,t=me)}if(t!==0){if(t===2&&(o=Ui(e),o!==0&&(r=o,t=xl(e,o))),t===1)throw n=wr,Vt(e,0),St(e,r),De(e,de()),n;if(t===6)St(e,r);else{if(o=e.current.alternate,!(r&30)&&!$p(o)&&(t=No(e,r),t===2&&(l=Ui(e),l!==0&&(r=l,t=xl(e,l))),t===1))throw n=wr,Vt(e,0),St(e,r),De(e,de()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:Mt(e,Re,at);break;case 3:if(St(e,r),(r&130023424)===r&&(t=as+500-de(),10<t)){if(uo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ne(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Zi(Mt.bind(null,e,Re,at),t);break}Mt(e,Re,at);break;case 4:if(St(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Je(r);l=1<<s,s=t[s],s>o&&(o=s),r&=~l}if(r=o,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dp(r/1960))-r,10<r){e.timeoutHandle=Zi(Mt.bind(null,e,Re,at),r);break}Mt(e,Re,at);break;case 5:Mt(e,Re,at);break;default:throw Error(A(329))}}}return De(e,de()),e.callbackNode===n?Mc.bind(null,e):null}function xl(e,t){var n=nr;return e.current.memoizedState.isDehydrated&&(Vt(e,t).flags|=256),e=No(e,t),e!==2&&(t=Re,Re=n,t!==null&&yl(t)),e}function yl(e){Re===null?Re=e:Re.push.apply(Re,e)}function $p(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!et(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function St(e,t){for(t&=~ss,t&=~Bo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Je(t),r=1<<n;e[n]=-1,t&=~r}}function ba(e){if(X&6)throw Error(A(327));_n();var t=uo(e,0);if(!(t&1))return De(e,de()),null;var n=No(e,t);if(e.tag!==0&&n===2){var r=Ui(e);r!==0&&(t=r,n=xl(e,r))}if(n===1)throw n=wr,Vt(e,0),St(e,t),De(e,de()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mt(e,Re,at),De(e,de()),null}function us(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(Tn=de()+500,$o&&It())}}function Jt(e){kt!==null&&kt.tag===0&&!(X&6)&&_n();var t=X;X|=1;var n=Ve.transition,r=ee;try{if(Ve.transition=null,ee=1,e)return e()}finally{ee=r,Ve.transition=n,X=t,!(X&6)&&It()}}function cs(){$e=xn.current,re(xn)}function Vt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fp(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch(Hl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mo();break;case 3:Nn(),re(Fe),re(Ce),Xl();break;case 5:Jl(r);break;case 4:Nn();break;case 13:re(ie);break;case 19:re(ie);break;case 10:Yl(r.type._context);break;case 22:case 23:cs()}n=n.return}if(ye=e,fe=e=Ft(e.current,null),we=$e=t,me=0,wr=null,ss=Bo=Zt=0,Re=nr=null,Ut!==null){for(t=0;t<Ut.length;t++)if(n=Ut[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var s=l.next;l.next=o,r.next=s}n.pending=r}Ut=null}return e}function Wc(e,t){do{var n=fe;try{if(Ql(),Xr.current=ko,_o){for(var r=le.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}_o=!1}if(Gt=0,xe=he=le=null,er=!1,xr=0,ls.current=null,n===null||n.return===null){me=1,wr=t,fe=null;break}e:{var l=e,s=n.return,a=n,u=t;if(t=we,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,m=a,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var k=pa(s);if(k!==null){k.flags&=-257,ha(k,s,a,l,t),k.mode&1&&fa(l,c,t),t=k,u=c;var w=t.updateQueue;if(w===null){var v=new Set;v.add(u),t.updateQueue=v}else w.add(u);break e}else{if(!(t&1)){fa(l,c,t),ds();break e}u=Error(A(426))}}else if(oe&&a.mode&1){var E=pa(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),ha(E,s,a,l,t),Vl(zn(u,a));break e}}l=u=zn(u,a),me!==4&&(me=2),nr===null?nr=[l]:nr.push(l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var f=Cc(l,u,t);la(l,f);break e;case 1:a=u;var d=l.type,p=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Rt===null||!Rt.has(p)))){l.flags|=65536,t&=-t,l.lanes|=t;var C=bc(l,a,t);la(l,C);break e}}l=l.return}while(l!==null)}Vc(n)}catch(_){t=_,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function Uc(){var e=Co.current;return Co.current=ko,e===null?ko:e}function ds(){(me===0||me===3||me===2)&&(me=4),ye===null||!(Zt&268435455)&&!(Bo&268435455)||St(ye,we)}function No(e,t){var n=X;X|=2;var r=Uc();(ye!==e||we!==t)&&(at=null,Vt(e,t));do try{Ap();break}catch(o){Wc(e,o)}while(!0);if(Ql(),X=n,Co.current=r,fe!==null)throw Error(A(261));return ye=null,we=0,me}function Ap(){for(;fe!==null;)Hc(fe)}function Ip(){for(;fe!==null&&!uf();)Hc(fe)}function Hc(e){var t=Qc(e.alternate,e,$e);e.memoizedProps=e.pendingProps,t===null?Vc(e):fe=t,ls.current=null}function Vc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Rp(n,t),n!==null){n.flags&=32767,fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,fe=null;return}}else if(n=Tp(n,t,$e),n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);me===0&&(me=5)}function Mt(e,t,n){var r=ee,o=Ve.transition;try{Ve.transition=null,ee=1,Op(e,t,n,r)}finally{Ve.transition=o,ee=r}return null}function Op(e,t,n,r){do _n();while(kt!==null);if(X&6)throw Error(A(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(vf(e,l),e===ye&&(fe=ye=null,we=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vr||(Vr=!0,Yc(ao,function(){return _n(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ve.transition,Ve.transition=null;var s=ee;ee=1;var a=X;X|=4,ls.current=null,Fp(e,n),Oc(n,e),ip(Ki),co=!!Yi,Ki=Yi=null,e.current=n,Lp(n),cf(),X=a,ee=s,Ve.transition=l}else e.current=n;if(Vr&&(Vr=!1,kt=e,Eo=o),l=e.pendingLanes,l===0&&(Rt=null),pf(n.stateNode),De(e,de()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(bo)throw bo=!1,e=ml,ml=null,e;return Eo&1&&e.tag!==0&&_n(),l=e.pendingLanes,l&1?e===gl?rr++:(rr=0,gl=e):rr=0,It(),null}function _n(){if(kt!==null){var e=Cu(Eo),t=Ve.transition,n=ee;try{if(Ve.transition=null,ee=16>e?16:e,kt===null)var r=!1;else{if(e=kt,kt=null,Eo=0,X&6)throw Error(A(331));var o=X;for(X|=4,W=e.current;W!==null;){var l=W,s=l.child;if(W.flags&16){var a=l.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(W=c;W!==null;){var m=W;switch(m.tag){case 0:case 11:case 15:tr(8,m,l)}var h=m.child;if(h!==null)h.return=m,W=h;else for(;W!==null;){m=W;var g=m.sibling,k=m.return;if($c(m),m===c){W=null;break}if(g!==null){g.return=k,W=g;break}W=k}}}var w=l.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}W=l}}if(l.subtreeFlags&2064&&s!==null)s.return=l,W=s;else e:for(;W!==null;){if(l=W,l.flags&2048)switch(l.tag){case 0:case 11:case 15:tr(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,W=f;break e}W=l.return}}var d=e.current;for(W=d;W!==null;){s=W;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,W=p;else e:for(s=d;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oo(9,a)}}catch(_){ue(a,a.return,_)}if(a===s){W=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,W=C;break e}W=a.return}}if(X=o,It(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Ro,e)}catch{}r=!0}return r}finally{ee=n,Ve.transition=t}}return!1}function Ea(e,t,n){t=zn(n,t),t=Cc(e,t,1),e=Tt(e,t,1),t=Ne(),e!==null&&(Cr(e,1,t),De(e,t))}function ue(e,t,n){if(e.tag===3)Ea(e,e,n);else for(;t!==null;){if(t.tag===3){Ea(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rt===null||!Rt.has(r))){e=zn(n,e),e=bc(t,e,1),t=Tt(t,e,1),e=Ne(),t!==null&&(Cr(t,1,e),De(t,e));break}}t=t.return}}function Bp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(we&n)===n&&(me===4||me===3&&(we&130023424)===we&&500>de()-as?Vt(e,0):ss|=n),De(e,t)}function qc(e,t){t===0&&(e.mode&1?(t=Dr,Dr<<=1,!(Dr&130023424)&&(Dr=4194304)):t=1);var n=Ne();e=mt(e,t),e!==null&&(Cr(e,t,n),De(e,n))}function Mp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qc(e,n)}function Wp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),qc(e,n)}var Qc;Qc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)Pe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pe=!1,zp(e,t,n);Pe=!!(e.flags&131072)}else Pe=!1,oe&&t.flags&1048576&&Zu(t,yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;to(e,t),e=t.pendingProps;var o=Cn(t,Ce.current);Sn(t,n),o=ts(null,t,r,e,o,n);var l=ns();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(r)?(l=!0,go(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Gl(t),o.updater=Io,t.stateNode=o,o._reactInternals=t,ol(t,r,e,n),t=sl(null,t,r,!0,l,n)):(t.tag=0,oe&&l&&Ul(t),Ee(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(to(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Hp(r),e=Ke(r,e),o){case 0:t=ll(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=ma(null,t,r,e,n);break e;case 14:t=ga(null,t,r,Ke(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ke(r,o),ll(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ke(r,o),xa(e,t,r,o,n);case 3:e:{if(Tc(t),e===null)throw Error(A(387));r=t.pendingProps,l=t.memoizedState,o=l.element,rc(e,t),jo(t,r,null,n);var s=t.memoizedState;if(r=s.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=zn(Error(A(423)),t),t=ya(e,t,r,n,o);break e}else if(r!==o){o=zn(Error(A(424)),t),t=ya(e,t,r,n,o);break e}else for(Ae=zt(t.stateNode.containerInfo.firstChild),Ie=t,oe=!0,Ze=null,n=tc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bn(),r===o){t=gt(e,t,n);break e}Ee(e,t,r,n)}t=t.child}return t;case 5:return oc(t),e===null&&tl(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,s=o.children,Gi(r,o)?s=null:l!==null&&Gi(r,l)&&(t.flags|=32),zc(e,t),Ee(e,t,s,n),t.child;case 6:return e===null&&tl(t),null;case 13:return Rc(e,t,n);case 4:return Zl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=En(t,null,r,n):Ee(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ke(r,o),ma(e,t,r,o,n);case 7:return Ee(e,t,t.pendingProps,n),t.child;case 8:return Ee(e,t,t.pendingProps.children,n),t.child;case 12:return Ee(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,s=o.value,te(vo,r._currentValue),r._currentValue=s,l!==null)if(et(l.value,s)){if(l.children===o.children&&!Fe.current){t=gt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){s=l.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=ft(-1,n&-n),u.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?u.next=u:(u.next=m.next,m.next=u),c.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),nl(l.return,n,t),a.lanes|=n;break}u=u.next}}else if(l.tag===10)s=l.type===t.type?null:l.child;else if(l.tag===18){if(s=l.return,s===null)throw Error(A(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),nl(s,n,t),s=l.sibling}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===t){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}Ee(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Sn(t,n),o=qe(o),r=r(o),t.flags|=1,Ee(e,t,r,n),t.child;case 14:return r=t.type,o=Ke(r,t.pendingProps),o=Ke(r.type,o),ga(e,t,r,o,n);case 15:return Ec(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ke(r,o),to(e,t),t.tag=1,Le(r)?(e=!0,go(t)):e=!1,Sn(t,n),kc(t,r,o),ol(t,r,o,n),sl(null,t,r,!0,e,n);case 19:return Pc(e,t,n);case 22:return Nc(e,t,n)}throw Error(A(156,t.tag))};function Yc(e,t){return ju(e,t)}function Up(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,n,r){return new Up(e,t,n,r)}function fs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hp(e){if(typeof e=="function")return fs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rl)return 11;if(e===Pl)return 14}return 2}function Ft(e,t){var n=e.alternate;return n===null?(n=He(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function oo(e,t,n,r,o,l){var s=2;if(r=e,typeof e=="function")fs(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case sn:return qt(n.children,o,l,t);case Tl:s=8,o|=8;break;case Ni:return e=He(12,n,t,o|2),e.elementType=Ni,e.lanes=l,e;case zi:return e=He(13,n,t,o),e.elementType=zi,e.lanes=l,e;case Ti:return e=He(19,n,t,o),e.elementType=Ti,e.lanes=l,e;case ou:return Mo(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nu:s=10;break e;case ru:s=9;break e;case Rl:s=11;break e;case Pl:s=14;break e;case vt:s=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=He(s,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function qt(e,t,n,r){return e=He(7,e,r,t),e.lanes=n,e}function Mo(e,t,n,r){return e=He(22,e,r,t),e.elementType=ou,e.lanes=n,e.stateNode={isHidden:!1},e}function ji(e,t,n){return e=He(6,e,null,t),e.lanes=n,e}function Si(e,t,n){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vp(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ni(0),this.expirationTimes=ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ps(e,t,n,r,o,l,s,a,u){return e=new Vp(e,t,n,a,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=He(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gl(l),e}function qp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ln,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Kc(e){if(!e)return Dt;e=e._reactInternals;e:{if(en(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(Le(n))return Ku(e,n,t)}return t}function Gc(e,t,n,r,o,l,s,a,u){return e=ps(n,r,!0,e,o,l,s,a,u),e.context=Kc(null),n=e.current,r=Ne(),o=Pt(n),l=ft(r,o),l.callback=t??null,Tt(n,l,o),e.current.lanes=o,Cr(e,o,r),De(e,r),e}function Wo(e,t,n,r){var o=t.current,l=Ne(),s=Pt(o);return n=Kc(n),t.context===null?t.context=n:t.pendingContext=n,t=ft(l,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tt(o,t,s),e!==null&&(Xe(e,o,s,l),Jr(e,o,s)),s}function zo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Na(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hs(e,t){Na(e,t),(e=e.alternate)&&Na(e,t)}function Qp(){return null}var Zc=typeof reportError=="function"?reportError:function(e){console.error(e)};function ms(e){this._internalRoot=e}Uo.prototype.render=ms.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));Wo(e,t,null,null)};Uo.prototype.unmount=ms.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jt(function(){Wo(null,e,null,null)}),t[ht]=null}};function Uo(e){this._internalRoot=e}Uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&t!==0&&t<jt[n].priority;n++);jt.splice(n,0,e),n===0&&Tu(e)}};function gs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function za(){}function Yp(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var c=zo(s);l.call(c)}}var s=Gc(t,r,e,0,null,!1,!1,"",za);return e._reactRootContainer=s,e[ht]=s.current,fr(e.nodeType===8?e.parentNode:e),Jt(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=zo(u);a.call(c)}}var u=ps(e,0,!1,null,null,!1,!1,"",za);return e._reactRootContainer=u,e[ht]=u.current,fr(e.nodeType===8?e.parentNode:e),Jt(function(){Wo(t,u,n,r)}),u}function Vo(e,t,n,r,o){var l=n._reactRootContainer;if(l){var s=l;if(typeof o=="function"){var a=o;o=function(){var u=zo(s);a.call(u)}}Wo(t,s,e,o)}else s=Yp(n,t,e,o,r);return zo(s)}bu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qn(t.pendingLanes);n!==0&&(Dl(t,n|1),De(t,de()),!(X&6)&&(Tn=de()+500,It()))}break;case 13:Jt(function(){var r=mt(e,1);if(r!==null){var o=Ne();Xe(r,e,1,o)}}),hs(e,1)}};$l=function(e){if(e.tag===13){var t=mt(e,134217728);if(t!==null){var n=Ne();Xe(t,e,134217728,n)}hs(e,134217728)}};Eu=function(e){if(e.tag===13){var t=Pt(e),n=mt(e,t);if(n!==null){var r=Ne();Xe(n,e,t,r)}hs(e,t)}};Nu=function(){return ee};zu=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};Bi=function(e,t,n){switch(t){case"input":if(Fi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Do(r);if(!o)throw Error(A(90));lu(r),Fi(r,o)}}}break;case"textarea":au(e,n);break;case"select":t=n.value,t!=null&&yn(e,!!n.multiple,t,!1)}};mu=us;gu=Jt;var Kp={usingClientEntryPoint:!1,Events:[Er,dn,Do,pu,hu,us]},Hn={findFiberByHostInstance:Wt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gp={bundleType:Hn.bundleType,version:Hn.version,rendererPackageName:Hn.rendererPackageName,rendererConfig:Hn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vu(e),e===null?null:e.stateNode},findFiberByHostInstance:Hn.findFiberByHostInstance||Qp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qr.isDisabled&&qr.supportsFiber)try{Ro=qr.inject(Gp),it=qr}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kp;Be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gs(t))throw Error(A(200));return qp(e,t,null,n)};Be.createRoot=function(e,t){if(!gs(e))throw Error(A(299));var n=!1,r="",o=Zc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ps(e,1,!1,null,null,n,!1,r,o),e[ht]=t.current,fr(e.nodeType===8?e.parentNode:e),new ms(t)};Be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=vu(t),e=e===null?null:e.stateNode,e};Be.flushSync=function(e){return Jt(e)};Be.hydrate=function(e,t,n){if(!Ho(t))throw Error(A(200));return Vo(null,e,t,!0,n)};Be.hydrateRoot=function(e,t,n){if(!gs(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",s=Zc;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Gc(t,null,e,1,n??null,o,!1,l,s),e[ht]=t.current,fr(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Uo(t)};Be.render=function(e,t,n){if(!Ho(t))throw Error(A(200));return Vo(null,e,t,!1,n)};Be.unmountComponentAtNode=function(e){if(!Ho(e))throw Error(A(40));return e._reactRootContainer?(Jt(function(){Vo(null,null,e,!1,function(){e._reactRootContainer=null,e[ht]=null})}),!0):!1};Be.unstable_batchedUpdates=us;Be.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ho(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return Vo(e,t,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426";function Jc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jc)}catch(e){console.error(e)}}Jc(),Ja.exports=Be;var Zp=Ja.exports,Ta=Zp;bi.createRoot=Ta.createRoot,bi.hydrateRoot=Ta.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jr(){return jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jr.apply(this,arguments)}var Ct;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ct||(Ct={}));const Ra="popstate";function Jp(e){e===void 0&&(e={});function t(r,o){let{pathname:l,search:s,hash:a}=r.location;return vl("",{pathname:l,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:ed(o)}return eh(t,n,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xp(){return Math.random().toString(36).substr(2,8)}function Pa(e,t){return{usr:e.state,key:e.key,idx:t}}function vl(e,t,n,r){return n===void 0&&(n=null),jr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ln(t):t,{state:n,key:t&&t.key||r||Xp()})}function ed(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ln(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function eh(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:l=!1}=r,s=o.history,a=Ct.Pop,u=null,c=m();c==null&&(c=0,s.replaceState(jr({},s.state,{idx:c}),""));function m(){return(s.state||{idx:null}).idx}function h(){a=Ct.Pop;let E=m(),f=E==null?null:E-c;c=E,u&&u({action:a,location:v.location,delta:f})}function g(E,f){a=Ct.Push;let d=vl(v.location,E,f);c=m()+1;let p=Pa(d,c),C=v.createHref(d);try{s.pushState(p,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(C)}l&&u&&u({action:a,location:v.location,delta:1})}function k(E,f){a=Ct.Replace;let d=vl(v.location,E,f);c=m();let p=Pa(d,c),C=v.createHref(d);s.replaceState(p,"",C),l&&u&&u({action:a,location:v.location,delta:0})}function w(E){let f=o.location.origin!=="null"?o.location.origin:o.location.href,d=typeof E=="string"?E:ed(E);return d=d.replace(/ $/,"%20"),ge(f,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,f)}let v={get action(){return a},get location(){return e(o,s)},listen(E){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(Ra,h),u=E,()=>{o.removeEventListener(Ra,h),u=null}},createHref(E){return t(o,E)},createURL:w,encodeLocation(E){let f=w(E);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:g,replace:k,go(E){return s.go(E)}};return v}var Fa;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fa||(Fa={}));function th(e,t,n){return n===void 0&&(n="/"),nh(e,t,n)}function nh(e,t,n,r){let o=typeof t=="string"?Ln(t):t,l=rd(o.pathname||"/",n);if(l==null)return null;let s=td(e);rh(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let c=mh(l);a=fh(s[u],c)}return a}function td(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(l,s,a)=>{let u={relativePath:a===void 0?l.path||"":a,caseSensitive:l.caseSensitive===!0,childrenIndex:s,route:l};u.relativePath.startsWith("/")&&(ge(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Qt([r,u.relativePath]),m=n.concat(u);l.children&&l.children.length>0&&(ge(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),td(l.children,t,m,c)),!(l.path==null&&!l.index)&&t.push({path:c,score:ch(c,l.index),routesMeta:m})};return e.forEach((l,s)=>{var a;if(l.path===""||!((a=l.path)!=null&&a.includes("?")))o(l,s);else for(let u of nd(l.path))o(l,s,u)}),t}function nd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let s=nd(r.join("/")),a=[];return a.push(...s.map(u=>u===""?l:[l,u].join("/"))),o&&a.push(...s),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function rh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dh(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oh=/^:[\w-]+$/,ih=3,lh=2,sh=1,ah=10,uh=-2,La=e=>e==="*";function ch(e,t){let n=e.split("/"),r=n.length;return n.some(La)&&(r+=uh),t&&(r+=lh),n.filter(o=>!La(o)).reduce((o,l)=>o+(oh.test(l)?ih:l===""?sh:ah),r)}function dh(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function fh(e,t,n){let{routesMeta:r}=e,o={},l="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,m=l==="/"?t:t.slice(l.length)||"/",h=ph({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},m),g=u.route;if(!h)return null;Object.assign(o,h.params),s.push({params:o,pathname:Qt([l,h.pathname]),pathnameBase:jh(Qt([l,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(l=Qt([l,h.pathnameBase]))}return s}function ph(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=hh(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],s=l.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,m,h)=>{let{paramName:g,isOptional:k}=m;if(g==="*"){let v=a[h]||"";s=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[h];return k&&!w?c[g]=void 0:c[g]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:s,pattern:e}}function hh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Xc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function mh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function gh(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Ln(e):e;return{pathname:n?n.startsWith("/")?n:xh(n,t):t,search:Sh(r),hash:_h(o)}}function xh(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _i(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yh(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vh(e,t){let n=yh(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wh(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=Ln(e):(o=jr({},e),ge(!o.pathname||!o.pathname.includes("?"),_i("?","pathname","search",o)),ge(!o.pathname||!o.pathname.includes("#"),_i("#","pathname","hash",o)),ge(!o.search||!o.search.includes("#"),_i("#","search","hash",o)));let l=e===""||o.pathname==="",s=l?"/":o.pathname,a;if(s==null)a=n;else{let h=t.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),h-=1;o.pathname=g.join("/")}a=h>=0?t[h]:"/"}let u=gh(o,a),c=s&&s!=="/"&&s.endsWith("/"),m=(l||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||m)&&(u.pathname+="/"),u}const Qt=e=>e.join("/").replace(/\/\/+/g,"/"),jh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_h=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const od=["post","put","patch","delete"];new Set(od);const Ch=["get",...od];new Set(Ch);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sr(){return Sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sr.apply(this,arguments)}const xs=x.createContext(null),bh=x.createContext(null),qo=x.createContext(null),Qo=x.createContext(null),tn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),id=x.createContext(null);function Yo(){return x.useContext(Qo)!=null}function ys(){return Yo()||ge(!1),x.useContext(Qo).location}function ld(e){x.useContext(qo).static||x.useLayoutEffect(e)}function Eh(){let{isDataRoute:e}=x.useContext(tn);return e?Bh():Nh()}function Nh(){Yo()||ge(!1);let e=x.useContext(xs),{basename:t,future:n,navigator:r}=x.useContext(qo),{matches:o}=x.useContext(tn),{pathname:l}=ys(),s=JSON.stringify(vh(o,n.v7_relativeSplatPath)),a=x.useRef(!1);return ld(()=>{a.current=!0}),x.useCallback(function(c,m){if(m===void 0&&(m={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=wh(c,JSON.parse(s),l,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Qt([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,s,l,e])}function sd(){let{matches:e}=x.useContext(tn),t=e[e.length-1];return t?t.params:{}}function zh(e,t){return Th(e,t)}function Th(e,t,n,r){Yo()||ge(!1);let{navigator:o}=x.useContext(qo),{matches:l}=x.useContext(tn),s=l[l.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=ys(),m;if(t){var h;let E=typeof t=="string"?Ln(t):t;u==="/"||(h=E.pathname)!=null&&h.startsWith(u)||ge(!1),m=E}else m=c;let g=m.pathname||"/",k=g;if(u!=="/"){let E=u.replace(/^\//,"").split("/");k="/"+g.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=th(e,{pathname:k}),v=Dh(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Qt([u,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:Qt([u,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,n,r);return t&&v?x.createElement(Qo.Provider,{value:{location:Sr({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Ct.Pop}},v):v}function Rh(){let e=Oh(),t=kh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:o},n):null,null)}const Ph=x.createElement(Rh,null);class Fh extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(tn.Provider,{value:this.props.routeContext},x.createElement(id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lh(e){let{routeContext:t,match:n,children:r}=e,o=x.useContext(xs);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(tn.Provider,{value:t},r)}function Dh(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=(o=n)==null?void 0:o.errors;if(a!=null){let m=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);m>=0||ge(!1),s=s.slice(0,Math.min(s.length,m+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<s.length;m++){let h=s[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=m),h.route.id){let{loaderData:g,errors:k}=n,w=h.route.loader&&g[h.route.id]===void 0&&(!k||k[h.route.id]===void 0);if(h.route.lazy||w){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((m,h,g)=>{let k,w=!1,v=null,E=null;n&&(k=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||Ph,u&&(c<0&&g===0?(Mh("route-fallback"),w=!0,E=null):c===g&&(w=!0,E=h.route.hydrateFallbackElement||null)));let f=t.concat(s.slice(0,g+1)),d=()=>{let p;return k?p=v:w?p=E:h.route.Component?p=x.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=m,x.createElement(Lh,{match:h,routeContext:{outlet:m,matches:f,isDataRoute:n!=null},children:p})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?x.createElement(Fh,{location:n.location,revalidation:n.revalidation,component:v,error:k,children:d(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):d()},null)}var ad=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ad||{}),ud=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ud||{});function $h(e){let t=x.useContext(xs);return t||ge(!1),t}function Ah(e){let t=x.useContext(bh);return t||ge(!1),t}function Ih(e){let t=x.useContext(tn);return t||ge(!1),t}function cd(e){let t=Ih(),n=t.matches[t.matches.length-1];return n.route.id||ge(!1),n.route.id}function Oh(){var e;let t=x.useContext(id),n=Ah(),r=cd();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Bh(){let{router:e}=$h(ad.UseNavigateStable),t=cd(ud.UseNavigateStable),n=x.useRef(!1);return ld(()=>{n.current=!0}),x.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Sr({fromRouteId:t},l)))},[e,t])}const Da={};function Mh(e,t,n){Da[e]||(Da[e]=!0)}function Wh(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function on(e){ge(!1)}function Uh(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Ct.Pop,navigator:l,static:s=!1,future:a}=e;Yo()&&ge(!1);let u=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:u,navigator:l,static:s,future:Sr({v7_relativeSplatPath:!1},a)}),[u,a,l,s]);typeof r=="string"&&(r=Ln(r));let{pathname:m="/",search:h="",hash:g="",state:k=null,key:w="default"}=r,v=x.useMemo(()=>{let E=rd(m,u);return E==null?null:{location:{pathname:E,search:h,hash:g,state:k,key:w},navigationType:o}},[u,m,h,g,k,w,o]);return v==null?null:x.createElement(qo.Provider,{value:c},x.createElement(Qo.Provider,{children:n,value:v}))}function Hh(e){let{children:t,location:n}=e;return zh(wl(t),n)}new Promise(()=>{});function wl(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,o)=>{if(!x.isValidElement(r))return;let l=[...t,o];if(r.type===x.Fragment){n.push.apply(n,wl(r.props.children,l));return}r.type!==on&&ge(!1),!r.props.index||!r.props.children||ge(!1);let s={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=wl(r.props.children,l)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function Vh(e,t){let n=jl(e);return t&&t.forEach((r,o)=>{n.has(o)||t.getAll(o).forEach(l=>{n.append(o,l)})}),n}const qh="6";try{window.__reactRouterVersion=qh}catch{}const Qh="startTransition",$a=Od[Qh];function Yh(e){let{basename:t,children:n,future:r,window:o}=e,l=x.useRef();l.current==null&&(l.current=Jp({window:o,v5Compat:!0}));let s=l.current,[a,u]=x.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},m=x.useCallback(h=>{c&&$a?$a(()=>u(h)):u(h)},[u,c]);return x.useLayoutEffect(()=>s.listen(m),[s,m]),x.useEffect(()=>Wh(r),[r]),x.createElement(Uh,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Aa;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Aa||(Aa={}));var Ia;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ia||(Ia={}));function Kh(e){let t=x.useRef(jl(e)),n=x.useRef(!1),r=ys(),o=x.useMemo(()=>Vh(r.search,n.current?null:t.current),[r.search]),l=Eh(),s=x.useCallback((a,u)=>{const c=jl(typeof a=="function"?a(o):a);n.current=!0,l("?"+c,u)},[l,o]);return[o,s]}const Gh=({userId:e,templateId:t,onSuccess:n,onError:r,apiUrl:o="http://localhost:5001/api"})=>{const[l,s]=x.useState({user_id:e,template_id:t,candidate_first_name:"",candidate_last_name:"",candidate_email:"",candidate_phone_number:"",position_applied_for:"",notes:""}),[a,u]=x.useState(!1),[c,m]=x.useState({}),h=()=>{const w={};return l.candidate_first_name.trim()||(w.candidate_first_name="First name is required"),l.candidate_last_name.trim()||(w.candidate_last_name="Last name is required"),l.position_applied_for.trim()||(w.position_applied_for="Position is required"),l.candidate_email&&!l.candidate_email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)&&(w.candidate_email="Invalid email format"),m(w),Object.keys(w).length===0},g=async w=>{if(w.preventDefault(),!!h()){u(!0),m({});try{const v=await fetch(`${o}/requests`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),E=await v.json();if(!v.ok)throw new Error(E.error||"Failed to create request");n&&E.request&&n(E.request.id),s({...l,candidate_first_name:"",candidate_last_name:"",candidate_email:"",candidate_phone_number:"",position_applied_for:"",notes:""})}catch(v){const E=v instanceof Error?v.message:"An error occurred";m({submit:E}),r&&r(E)}finally{u(!1)}}},k=w=>{const{name:v,value:E}=w.target;s(f=>({...f,[v]:E})),c[v]&&m(f=>{const d={...f};return delete d[v],d})};return i.jsxs("div",{className:"create-reference-request",children:[i.jsx("h2",{children:"Create Reference Check Request"}),i.jsxs("form",{onSubmit:g,children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"candidate_first_name",children:["Candidate First Name ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:"candidate_first_name",name:"candidate_first_name",value:l.candidate_first_name,onChange:k,placeholder:"John",required:!0,className:c.candidate_first_name?"error":""}),c.candidate_first_name&&i.jsx("span",{className:"error-message",children:c.candidate_first_name})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"candidate_last_name",children:["Candidate Last Name ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:"candidate_last_name",name:"candidate_last_name",value:l.candidate_last_name,onChange:k,placeholder:"Doe",required:!0,className:c.candidate_last_name?"error":""}),c.candidate_last_name&&i.jsx("span",{className:"error-message",children:c.candidate_last_name})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"position_applied_for",children:["Position Applied For ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:"position_applied_for",name:"position_applied_for",value:l.position_applied_for,onChange:k,placeholder:"Senior Product Manager",required:!0,className:c.position_applied_for?"error":""}),c.position_applied_for&&i.jsx("span",{className:"error-message",children:c.position_applied_for})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"candidate_email",children:"Candidate Email"}),i.jsx("input",{type:"email",id:"candidate_email",name:"candidate_email",value:l.candidate_email,onChange:k,placeholder:"john.doe@email.com",className:c.candidate_email?"error":""}),c.candidate_email&&i.jsx("span",{className:"error-message",children:c.candidate_email})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"candidate_phone_number",children:"Candidate Phone Number"}),i.jsx("input",{type:"tel",id:"candidate_phone_number",name:"candidate_phone_number",value:l.candidate_phone_number,onChange:k,placeholder:"+1-555-1234"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"notes",children:"Notes"}),i.jsx("textarea",{id:"notes",name:"notes",value:l.notes,onChange:k,placeholder:"Additional information about the candidate...",rows:4})]}),c.submit&&i.jsx("div",{className:"alert alert-error",children:c.submit}),i.jsx("div",{className:"form-actions",children:i.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Creating...":"Create Request"})})]})]})},Zh=({requestId:e,onSuccess:t,onError:n,apiUrl:r="http://localhost:5001/api"})=>{const[o,l]=x.useState([{first_name:"",last_name:"",email:"",phone_number:"",relationship:"",company:""}]),[s,a]=x.useState(!1),[u,c]=x.useState({}),[m,h]=x.useState(!0),g=()=>{l([...o,{first_name:"",last_name:"",email:"",phone_number:"",relationship:"",company:""}])},k=f=>{o.length>1&&l(o.filter((d,p)=>p!==f))},w=(f,d,p)=>{const C=[...o];C[f][d]=p,l(C);const _=`${f}_${d}`;u[_]&&c(F=>{const D={...F};return delete D[_],D})},v=()=>{const f={};return o.forEach((d,p)=>{d.first_name.trim()||(f[`${p}_first_name`]="First name is required"),d.last_name.trim()||(f[`${p}_last_name`]="Last name is required"),d.email.trim()?d.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(f[`${p}_email`]="Invalid email format"):f[`${p}_email`]="Email is required",d.relationship.trim()||(f[`${p}_relationship`]="Relationship is required")}),c(f),Object.keys(f).length===0},E=async f=>{if(f.preventDefault(),!!v()){a(!0),c({});try{const d=m?`${r}/requests/${e}/referees/send`:`${r}/requests/${e}/referees`,p=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({referees:o})}),C=await p.json();if(!p.ok)throw new Error(C.error||"Failed to add referees");t&&C.contacts&&t(C.contacts),l([{first_name:"",last_name:"",email:"",phone_number:"",relationship:"",company:""}])}catch(d){const p=d instanceof Error?d.message:"An error occurred";c({submit:p}),n&&n(p)}finally{a(!1)}}};return i.jsxs("div",{className:"add-referees",children:[i.jsx("h2",{children:"Add Referees"}),i.jsx("p",{className:"help-text",children:"Add one or more people to provide references"}),i.jsxs("form",{onSubmit:E,children:[o.map((f,d)=>i.jsxs("div",{className:"referee-card",children:[i.jsxs("div",{className:"referee-header",children:[i.jsxs("h3",{children:["Referee ",d+1]}),o.length>1&&i.jsx("button",{type:"button",onClick:()=>k(d),className:"btn-remove","aria-label":"Remove referee",children:""})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:`first_name_${d}`,children:["First Name ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:`first_name_${d}`,value:f.first_name,onChange:p=>w(d,"first_name",p.target.value),placeholder:"Jane",className:u[`${d}_first_name`]?"error":""}),u[`${d}_first_name`]&&i.jsx("span",{className:"error-message",children:u[`${d}_first_name`]})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:`last_name_${d}`,children:["Last Name ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:`last_name_${d}`,value:f.last_name,onChange:p=>w(d,"last_name",p.target.value),placeholder:"Smith",className:u[`${d}_last_name`]?"error":""}),u[`${d}_last_name`]&&i.jsx("span",{className:"error-message",children:u[`${d}_last_name`]})]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:`email_${d}`,children:["Email ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"email",id:`email_${d}`,value:f.email,onChange:p=>w(d,"email",p.target.value),placeholder:"jane.smith@company.com",className:u[`${d}_email`]?"error":""}),u[`${d}_email`]&&i.jsx("span",{className:"error-message",children:u[`${d}_email`]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:`phone_number_${d}`,children:"Phone Number"}),i.jsx("input",{type:"tel",id:`phone_number_${d}`,value:f.phone_number,onChange:p=>w(d,"phone_number",p.target.value),placeholder:"+1-555-0100"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:`relationship_${d}`,children:["Relationship ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:`relationship_${d}`,value:f.relationship,onChange:p=>w(d,"relationship",p.target.value),placeholder:"Direct Manager, Colleague, Team Lead...",className:u[`${d}_relationship`]?"error":""}),u[`${d}_relationship`]&&i.jsx("span",{className:"error-message",children:u[`${d}_relationship`]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:`company_${d}`,children:"Company/Organization"}),i.jsx("input",{type:"text",id:`company_${d}`,value:f.company,onChange:p=>w(d,"company",p.target.value),placeholder:"e.g., Google, Acme Corp, or Personal Friend"}),i.jsx("span",{className:"help-text",style:{fontSize:"12px",color:"#6b7280",marginTop:"4px",display:"block"},children:"Where you worked together (or context for personal references)"})]})]},d)),i.jsx("button",{type:"button",onClick:g,className:"btn-secondary",children:"+ Add Another Referee"}),u.submit&&i.jsx("div",{className:"alert alert-error",children:u.submit}),i.jsx("div",{style:{marginBottom:"20px",padding:"15px",background:"#f0f9ff",border:"1px solid #bfdbfe",borderRadius:"6px"},children:i.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:m,onChange:f=>h(f.target.checked),style:{marginRight:"10px",width:"18px",height:"18px",cursor:"pointer"}}),i.jsxs("span",{style:{fontSize:"14px",lineHeight:"1.5"},children:[i.jsx("strong",{children:"Send invitation emails immediately"}),i.jsx("br",{}),i.jsx("span",{style:{color:"#6b7280",fontSize:"13px"},children:"Automatically email referees after adding them (recommended)"})]})]})}),i.jsx("div",{className:"form-actions",children:i.jsx("button",{type:"submit",disabled:s,className:"btn-primary",children:s?m?"Adding & Sending...":"Adding Referees...":m?`Add & Send to ${o.length} Referee${o.length>1?"s":""}`:`Add ${o.length} Referee${o.length>1?"s":""}`})})]})]})},Jh="modulepreload",Xh=function(e){return"/"+e},Oa={},_r=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(n.map(u=>{if(u=Xh(u),u in Oa)return;Oa[u]=!0;const c=u.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Jh,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((g,k)=>{h.addEventListener("load",g),h.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${u}`)))})}))}function l(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return o.then(s=>{for(const a of s||[])a.status==="rejected"&&l(a.reason);return t().catch(l)})},em=({isOpen:e,onClose:t,responseId:n,questions:r,currentAnswers:o,apiUrl:l,userId:s,onSaveSuccess:a})=>{const[u,c]=x.useState(o),[m,h]=x.useState(""),[g,k]=x.useState(!1),[w,v]=x.useState(""),[E,f]=x.useState([]),[d,p]=x.useState(!1),[C,_]=x.useState(null),[F,D]=x.useState(!1);x.useEffect(()=>{e&&n&&I()},[e,n]),x.useEffect(()=>{e&&(c(o),h(""),v(""),D(!1),_(null))},[e,o]);const I=async()=>{try{p(!0);const z=await fetch(`${l}/responses/${n}/versions`);if(!z.ok){const B=await z.json();throw console.error("Failed to fetch versions - server response:",B),new Error(B.message||B.error||"Failed to fetch versions")}const T=await z.json();f(T.versions||[])}catch(z){console.error("Error fetching versions:",z)}finally{p(!1)}},q=(z,T)=>{c(B=>({...B,[z]:T}))},Y=async()=>{try{k(!0),v("");const z=r.filter(U=>{var S;return U.required&&!((S=u[U.id])!=null&&S.trim())});if(z.length>0){v(`Please answer all required questions: ${z.map(U=>U.text).join(", ")}`);return}const T=await fetch(`${l}/responses/${n}/versions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:s,answers_json:u,edit_notes:m.trim()})});if(!T.ok){const U=await T.json();console.error("Server error details:",U);const S=U.message||U.error||"Failed to save edited version";throw new Error(S)}const B=await T.json();alert(` Version ${B.version.version} saved successfully!`),await I(),a(),t()}catch(z){const T=z instanceof Error?z.message:"Failed to save";v(T),console.error("Save error:",z)}finally{k(!1)}},L=z=>{_(z),c(z.answers_json)},Z=()=>{const z=E.find(T=>T.is_original);z&&(c(z.answers_json),_(z))},Q=()=>{c(o),_(null)};return e?i.jsx("div",{className:"modal-overlay",onClick:t,children:i.jsxs("div",{className:"modal-content edit-response-modal",onClick:z=>z.stopPropagation(),style:{maxWidth:"900px",maxHeight:"90vh",overflow:"auto"},children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:" Edit Reference Response"}),i.jsx("button",{onClick:t,className:"btn-close",children:""})]}),w&&i.jsx("div",{className:"error-message",style:{margin:"16px 0"},children:i.jsxs("p",{children:[" ",w]})}),C&&i.jsxs("div",{className:"version-info-banner",style:{background:C.is_original?"#fff3cd":"#d1ecf1",padding:"12px",borderRadius:"6px",marginBottom:"16px",border:`2px solid ${C.is_original?"#ffc107":"#0dcaf0"}`},children:[i.jsx("strong",{children:C.is_original?" Viewing Original Version":` Viewing Version ${C.version}`}),!C.is_original&&i.jsxs("div",{style:{fontSize:"13px",marginTop:"4px",color:"#666"},children:["Edited ",new Date(C.edited_at).toLocaleString(),C.edit_notes&&` - ${C.edit_notes}`]})]}),i.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"12px",alignItems:"center"},children:[i.jsxs("button",{onClick:()=>D(!F),className:"btn btn-secondary",style:{fontSize:"14px"},children:[F?" Hide":" Show"," Version History (",E.length,")"]}),E.length>1&&!C&&i.jsx("button",{onClick:Z,className:"btn btn-secondary",style:{fontSize:"14px"},children:" Reset to Original"}),C&&i.jsx("button",{onClick:Q,className:"btn btn-secondary",style:{fontSize:"14px"},children:" Reset to Latest"})]}),F&&i.jsxs("div",{className:"version-history",style:{marginBottom:"24px",maxHeight:"200px",overflow:"auto",border:"2px solid #e2e8f0",borderRadius:"8px",padding:"12px"},children:[i.jsx("h3",{style:{fontSize:"16px",marginBottom:"12px"},children:"Version History"}),d?i.jsx("p",{children:"Loading versions..."}):i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:E.map(z=>i.jsx("div",{style:{padding:"12px",background:(C==null?void 0:C.id)===z.id?"#f0f9ff":"white",border:`2px solid ${(C==null?void 0:C.id)===z.id?"#0ea5e9":"#e2e8f0"}`,borderRadius:"6px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>L(z),children:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx("strong",{children:z.is_original?" Original":` Version ${z.version}`}),i.jsx("div",{style:{fontSize:"13px",color:"#666",marginTop:"4px"},children:z.is_original?i.jsxs(i.Fragment,{children:["Submitted: ",new Date(z.submitted_at).toLocaleString()]}):i.jsxs(i.Fragment,{children:["Edited: ",new Date(z.edited_at).toLocaleString(),z.edit_notes&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("em",{children:z.edit_notes})]})]})})]}),(C==null?void 0:C.id)===z.id&&i.jsx("span",{style:{color:"#0ea5e9",fontSize:"20px"},children:""})]})},z.id))})]}),i.jsxs("div",{className:"edit-form",children:[i.jsx("h3",{style:{fontSize:"16px",marginBottom:"16px"},children:"Edit Answers"}),r.map(z=>i.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[i.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:[z.text,z.required&&i.jsx("span",{style:{color:"#dc2626"},children:" *"})]}),i.jsx("textarea",{value:u[z.id]||"",onChange:T=>q(z.id,T.target.value),rows:4,style:{width:"100%",padding:"12px",border:"2px solid #e2e8f0",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",resize:"vertical"},placeholder:"Enter answer..."})]},z.id)),i.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Edit Notes (optional)"}),i.jsx("input",{type:"text",value:m,onChange:z=>h(z.target.value),placeholder:"e.g., Corrected typos, clarified answer to Q3",style:{width:"100%",padding:"12px",border:"2px solid #e2e8f0",borderRadius:"6px",fontSize:"14px"}}),i.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"These notes will be saved with this version for reference."})]})]}),i.jsxs("div",{className:"modal-actions",style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"24px",paddingTop:"16px",borderTop:"2px solid #e2e8f0"},children:[i.jsx("button",{onClick:t,className:"btn btn-secondary",disabled:g,children:"Cancel"}),i.jsx("button",{onClick:Y,className:"btn btn-primary",disabled:g,style:{background:"#10b981",minWidth:"120px"},children:g?"Saving...":" Save New Version"})]})]})}):null},tm=({requestId:e,refereeId:t,apiUrl:n="http://localhost:5001/api",userId:r="user-test-1",onClose:o})=>{const[l,s]=x.useState(null),[a,u]=x.useState(!0),[c,m]=x.useState(""),[h,g]=x.useState(!1);x.useEffect(()=>{k()},[e,t]);const k=async()=>{u(!0),m("");try{const E=await fetch(`${n}/requests/${e}/referees/${t}/report`),f=await E.json();if(!E.ok)throw new Error(f.error||"Failed to fetch reference data");s(f.data)}catch(E){const f=E instanceof Error?E.message:"An error occurred";m(f)}finally{u(!1)}},w=()=>{_r(()=>import("./html2pdf-CNDlsC_k-v2.js").then(E=>E.h),__vite__mapDeps([0,1,2])).then(E=>{const f=document.querySelector(".reference-report"),d=l!=null&&l.candidate?`${l.candidate.first_name}_${l.candidate.last_name}`:"reference",p=l!=null&&l.referee?`${l.referee.first_name}_${l.referee.last_name}`:"report",_={margin:.5,filename:`${d}_reference_${p}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};E.default().set(_).from(f).save()}).catch(()=>{alert("PDF generation library not loaded. Please use Print functionality."),window.print()})},v=E=>new Date(E).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?i.jsx("div",{className:"reference-report-modal",children:i.jsx("div",{className:"reference-report-container",children:i.jsx("div",{className:"loading",children:"Loading reference..."})})}):c?i.jsx("div",{className:"reference-report-modal",children:i.jsxs("div",{className:"reference-report-container",children:[i.jsx("div",{className:"alert alert-error",children:c}),i.jsx("button",{onClick:o,className:"btn-secondary",children:"Close"})]})}):l?i.jsxs("div",{className:"reference-report-modal",children:[i.jsxs("div",{className:"reference-report-container",children:[i.jsxs("div",{className:"report-actions no-print",children:[i.jsx("button",{onClick:()=>g(!0),className:"btn-primary",style:{background:"#f59e0b"},children:" Edit Response"}),i.jsx("button",{onClick:w,className:"btn-primary",children:" Download PDF"}),i.jsx("button",{onClick:o,className:"btn-secondary",children:"Close"})]}),i.jsxs("div",{className:"reference-report",children:[i.jsxs("div",{className:"report-header",children:[i.jsx("div",{className:"logo-placeholder",children:i.jsx("div",{className:"logo-box",children:"COMPANY LOGO"})}),i.jsx("h1",{children:"Reference Check Report"}),i.jsxs("div",{className:"report-date",children:["Generated: ",v(new Date().toISOString())]}),l.submission.version&&l.submission.version>1&&i.jsxs("div",{style:{marginTop:"12px",padding:"8px 16px",background:"#d1ecf1",border:"2px solid #0dcaf0",borderRadius:"6px",fontSize:"14px",textAlign:"center"},children:[" ",i.jsxs("strong",{children:["Version ",l.submission.version]}),l.submission.edited_at&&i.jsxs("span",{children:[" - Edited ",v(l.submission.edited_at)]}),l.submission.edit_notes&&i.jsx("div",{style:{fontSize:"12px",marginTop:"4px",fontStyle:"italic"},children:l.submission.edit_notes})]})]}),i.jsxs("div",{className:"report-section",children:[i.jsx("h2",{children:"Candidate Information"}),i.jsxs("div",{className:"info-grid",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Name:"}),i.jsxs("span",{className:"info-value",children:[l.candidate.first_name," ",l.candidate.last_name]})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Position Applied For:"}),i.jsx("span",{className:"info-value",children:l.candidate.position_applied_for})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Email:"}),i.jsx("span",{className:"info-value",children:l.candidate.email})]}),l.candidate.phone_number&&i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Phone:"}),i.jsx("span",{className:"info-value",children:l.candidate.phone_number})]})]})]}),i.jsxs("div",{className:"report-section",children:[i.jsx("h2",{children:"Referee Information"}),i.jsxs("div",{className:"info-grid",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Name:"}),i.jsxs("span",{className:"info-value",children:[l.referee.first_name," ",l.referee.last_name]})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Relationship:"}),i.jsx("span",{className:"info-value",children:l.referee.relationship})]}),l.referee.company&&i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Company:"}),i.jsx("span",{className:"info-value",children:l.referee.company})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Email:"}),i.jsx("span",{className:"info-value",children:l.referee.email})]}),l.referee.phone_number&&i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Phone:"}),i.jsx("span",{className:"info-value",children:l.referee.phone_number})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Submitted:"}),i.jsx("span",{className:"info-value",children:v(l.submission.submitted_at)})]})]})]}),i.jsxs("div",{className:"report-section",children:[i.jsx("h2",{children:"Reference Details"}),i.jsx("div",{className:"questions-answers",children:Object.entries(l.submission.answers).map(([E,f],d)=>{const p=l.template.questions.find(F=>F.id===E),C=(p==null?void 0:p.text)||E,_=typeof f=="object"&&f!==null&&"original_answer"in f&&"follow_up_answer"in f;return i.jsxs("div",{className:"qa-item",children:[i.jsxs("div",{className:"question-label",children:[i.jsxs("strong",{children:["Q",d+1,":"]})," ",C]}),_?i.jsxs("div",{children:[i.jsx("div",{className:"answer-text",children:f.original_answer}),i.jsxs("div",{className:"follow-up-section",style:{marginTop:"12px"},children:[i.jsx("div",{className:"follow-up-label",style:{fontSize:"16px",fontWeight:"600",color:"#667eea",marginBottom:"8px"},children:"Follow-up Response:"}),i.jsx("div",{className:"answer-text",style:{background:"#f0f4ff",borderLeft:"3px solid #667eea"},children:f.follow_up_answer})]})]}):i.jsx("div",{className:"answer-text",children:typeof f=="object"?JSON.stringify(f,null,2):f})]},E)})})]}),i.jsxs("div",{className:"report-footer",children:[i.jsx("p",{children:"This reference was provided voluntarily by the referee listed above. The information contained in this report is confidential and should be treated accordingly."}),i.jsxs("p",{className:"report-id",children:["Reference ID: ",t]})]})]})]}),h&&i.jsx(em,{isOpen:h,onClose:()=>g(!1),responseId:l.submission.id,questions:l.template.questions,currentAnswers:l.submission.answers,apiUrl:n,userId:r,onSaveSuccess:()=>{k()}})]}):null},nm=({token:e,apiUrl:t="http://localhost:5001/api",onAuthorizationComplete:n})=>{const[r,o]=x.useState(!0),[l,s]=x.useState(""),[a,u]=x.useState(null),[c,m]=x.useState(""),[h,g]=x.useState(!1),[k,w]=x.useState(!1),[v,E]=x.useState(!1),[f,d]=x.useState(!1);x.useEffect(()=>{if(!e){s("Invalid authorization link"),o(!1);return}fetch(`${t}/public/referee-authorization?token=${e}`).then(_=>_.json()).then(_=>{_.ok?u(_.data):s(_.error||"Failed to load authorization form"),o(!1)}).catch(_=>{console.error("Authorization fetch error:",_),s("Failed to load authorization. Please try again."),o(!1)})},[e,t]);const p=async _=>{if(_.preventDefault(),!c.trim()){alert("Please enter your full name as signature");return}if(!h){alert("You must agree to the consent terms to proceed");return}w(!0);try{const F=await fetch(`${t}/public/referee-authorization/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,signature:c.trim(),agreed:h,user_agent:navigator.userAgent,signed_at:new Date().toISOString()})}),D=await F.json();F.ok?n&&n():alert(`Error: ${D.error||"Failed to submit authorization"}`)}catch{alert("Network error. Please check your connection and try again.")}finally{w(!1)}},C=async()=>{if(confirm("Are you sure you do not wish to provide a reference? The hiring company will be notified.")){E(!0);try{const _=await fetch(`${t}/public/referee-authorization/decline`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,user_agent:navigator.userAgent,declined_at:new Date().toISOString()})}),F=await _.json();_.ok?d(!0):alert(`Error: ${F.error||"Failed to record decline"}`)}catch{alert("Network error. Please check your connection and try again.")}finally{E(!1)}}};return r?i.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center",background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[i.jsx("h2",{children:"Loading..."}),i.jsx("p",{children:"Please wait while we load your consent form."})]}):f?i.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"40px",textAlign:"center",background:"#f0f9ff",border:"2px solid #3b82f6",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[i.jsx("h2",{style:{color:"#1e40af",marginTop:0},children:"Thank You for Your Time"}),i.jsxs("p",{style:{fontSize:"16px",lineHeight:"1.6",marginBottom:"20px"},children:["We've notified ",(a==null?void 0:a.recruiting_company)||"the hiring company"," that you do not wish to be a reference."]}),i.jsx("p",{style:{marginTop:"20px",fontSize:"14px",color:"#666"},children:"You may now close this window."})]}):l||!a?i.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center",background:"#fee2e2",border:"2px solid #ef4444",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[i.jsx("h2",{style:{color:"#dc2626",marginTop:0},children:" Authorization Error"}),i.jsx("p",{style:{fontSize:"16px",lineHeight:"1.6"},children:l||"Failed to load authorization data"}),i.jsx("p",{style:{marginTop:"20px",fontSize:"14px",color:"#666"},children:"If you believe this is an error, please contact the hiring team for assistance."})]}):i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,minHeight:"100vh",background:"linear-gradient(to bottom, #f3f4f6, #e5e7eb)",padding:"40px 20px",overflow:"auto",zIndex:9999},children:i.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"40px",background:"white",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsx("h1",{style:{marginTop:0,marginBottom:"10px",color:"#1f2937",fontSize:"28px"},children:"Referee Authorisation and Consent Form"}),i.jsx("p",{style:{color:"#666",fontSize:"15px",lineHeight:"1.6",marginBottom:"30px"},children:"This form confirms that you, as a referee, understand the purpose of the reference process and consent to providing information about the named candidate. It also outlines how your information and the information you provide will be collected, used, and stored in compliance with privacy laws."}),i.jsx("div",{style:{padding:"15px",background:"#f9fafb",borderRadius:"6px",marginBottom:"30px",borderLeft:"4px solid #2563eb"},children:i.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#666"},children:[i.jsx("strong",{children:"Referee:"})," ",a.referee_name,i.jsx("br",{}),i.jsx("strong",{children:"Candidate:"})," ",a.candidate_name,i.jsx("br",{}),i.jsx("strong",{children:"Position:"})," ",a.position,i.jsx("br",{}),i.jsx("strong",{children:"Company:"})," ",a.recruiting_company]})}),i.jsxs("form",{onSubmit:p,children:[i.jsxs("div",{style:{background:"#f9fafb",padding:"25px",borderRadius:"8px",marginBottom:"25px",border:"1px solid #e5e7eb"},children:[i.jsx("h3",{style:{marginTop:0,color:"#1f2937",fontSize:"18px"},children:"1. Consent to Provide Information"}),i.jsxs("p",{style:{lineHeight:"1.7",marginBottom:"20px"},children:["I understand that I am being asked to provide information about ",i.jsx("strong",{children:a.candidate_name})," for the purpose of assessing their suitability for employment or engagement with ",i.jsx("strong",{children:a.recruiting_company}),". I confirm that all information I provide will be true and accurate to the best of my knowledge."]}),i.jsx("h3",{style:{marginTop:"20px",color:"#1f2937",fontSize:"18px"},children:"2. Consent to Collection and Use of Information"}),i.jsxs("p",{style:{lineHeight:"1.7",marginBottom:"10px"},children:["I understand that my responses, including opinions and factual information about the candidate, will be collected and stored by ",i.jsx("strong",{children:a.recruiting_company})," for the purpose of completing a reference check."]}),i.jsx("p",{style:{lineHeight:"1.7",marginBottom:"10px",fontWeight:"600"},children:"This information may be shared with:"}),i.jsxs("ul",{style:{textAlign:"left",lineHeight:"1.8",paddingLeft:"20px",marginBottom:"20px"},children:[i.jsx("li",{children:"The hiring organisation or client for whom the reference is being conducted"}),i.jsx("li",{children:"The candidate"}),i.jsx("li",{children:"Regulatory or compliance bodies where required by law"})]}),i.jsx("h3",{style:{marginTop:"20px",color:"#1f2937",fontSize:"18px"},children:"3. Consent to Disclose Information"}),i.jsxs("p",{style:{lineHeight:"1.7",marginBottom:"20px"},children:["I consent to ",i.jsx("strong",{children:a.recruiting_company})," disclosing my reference responses to the hiring organisation, the candidate (where required), and any third-party service providers engaged to perform the reference process on their behalf."]}),i.jsx("h3",{style:{marginTop:"20px",color:"#1f2937",fontSize:"18px"},children:"4. Data Storage & Retention"}),i.jsxs("p",{style:{lineHeight:"1.7",marginBottom:"20px"},children:["I understand that my reference responses and contact information will be securely stored in accordance with ",i.jsx("strong",{children:a.recruiting_company})," privacy policy and may be retained for audit, compliance, or quality assurance purposes."]}),i.jsx("h3",{style:{marginTop:"20px",color:"#1f2937",fontSize:"18px"},children:"5. Right to Withdraw Consent"}),i.jsxs("p",{style:{lineHeight:"1.7",marginBottom:"20px"},children:["I acknowledge that I may withdraw my consent to the collection and use of my information at any time by contacting ",i.jsx("strong",{children:a.contact_email}),", though this may affect the ability to complete the reference process."]}),i.jsx("h3",{style:{marginTop:"20px",color:"#1f2937",fontSize:"18px"},children:"6. Acknowledgment"}),i.jsx("p",{style:{lineHeight:"1.7",marginBottom:"0"},children:"I have read and understood the information above and consent to participate as a referee. I understand that my participation is voluntary."})]}),i.jsxs("div",{style:{marginBottom:"25px"},children:[i.jsx("h3",{style:{marginTop:0,color:"#1f2937",fontSize:"18px"},children:"7. Signature Section"}),i.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#1f2937"},children:["Electronic Signature (type your full name) ",i.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),i.jsx("input",{type:"text",value:c,onChange:_=>m(_.target.value),placeholder:"Jane Smith",disabled:k,required:!0,style:{width:"100%",padding:"12px",border:"2px solid #d1d5db",borderRadius:"6px",fontSize:"16px",fontFamily:"Georgia, serif",fontStyle:"italic",transition:"border-color 0.2s"},onFocus:_=>_.target.style.borderColor="#2563eb",onBlur:_=>_.target.style.borderColor="#d1d5db"}),i.jsx("small",{style:{color:"#666",display:"block",marginTop:"8px",fontSize:"13px"},children:"By typing your name above, you are providing a legally binding electronic signature"})]}),i.jsx("div",{style:{marginBottom:"30px",padding:"15px",background:"#fef3c7",borderRadius:"6px",border:"1px solid #fbbf24"},children:i.jsxs("label",{style:{display:"flex",alignItems:"flex-start",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:h,onChange:_=>g(_.target.checked),disabled:k,required:!0,style:{marginRight:"12px",marginTop:"4px",width:"18px",height:"18px",cursor:"pointer"}}),i.jsxs("span",{style:{fontSize:"14px",lineHeight:"1.6"},children:["I have read and understood the information above and consent to participate as a referee. I understand that my participation is voluntary and that all information I provide will be true and accurate to the best of my knowledge. ",i.jsx("span",{style:{color:"#dc2626",fontWeight:"600"},children:"*"})]})]})}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[i.jsx("button",{type:"submit",disabled:k||v||!c.trim()||!h,style:{width:"100%",padding:"16px",background:k||v||!c.trim()||!h?"#9ca3af":"#2563eb",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"600",cursor:k||v||!c.trim()||!h?"not-allowed":"pointer",transition:"background-color 0.2s"},onMouseEnter:_=>{!k&&!v&&c.trim()&&h&&(_.currentTarget.style.background="#1d4ed8")},onMouseLeave:_=>{!k&&!v&&c.trim()&&h&&(_.currentTarget.style.background="#2563eb")},children:k?" Submitting...":" I Consent - Proceed to Reference Questions"}),i.jsx("button",{type:"button",onClick:C,disabled:k||v,style:{width:"100%",padding:"14px",background:k||v?"#d1d5db":"#ffffff",color:"#dc2626",border:"2px solid #dc2626",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:k||v?"not-allowed":"pointer",transition:"all 0.2s"},onMouseEnter:_=>{!k&&!v&&(_.currentTarget.style.background="#fee2e2")},onMouseLeave:_=>{!k&&!v&&(_.currentTarget.style.background="#ffffff")},children:v?" Processing...":" I Don't Consent"})]})]}),i.jsxs("div",{style:{marginTop:"30px",padding:"20px",background:"#f9fafb",borderRadius:"6px",fontSize:"13px",color:"#666",textAlign:"center",borderTop:"2px solid #e5e7eb"},children:[i.jsxs("p",{style:{margin:"0 0 10px 0"},children:[i.jsx("strong",{children:"Date:"})," ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),i.jsxs("p",{style:{margin:0},children:["Questions? Contact ",i.jsx("strong",{children:a.contact_email})," for assistance."]})]})]})})},rm=({token:e,apiUrl:t="http://localhost:5001/api",onComplete:n,onSessionIdChange:r})=>{const[o,l]=x.useState(null),[s,a]=x.useState([]),[u,c]=x.useState(null),[m,h]=x.useState(""),[g,k]=x.useState(!0),[w,v]=x.useState(!1),[E,f]=x.useState(""),[d,p]=x.useState({answered:0,total:0,percent:0}),[C,_]=x.useState("in_progress"),F=x.useRef(null),D=x.useRef(null);x.useEffect(()=>{var Q;console.log("ConversationalChat: messages changed, count:",s.length),(Q=F.current)==null||Q.scrollIntoView({behavior:"smooth"})},[s]),x.useEffect(()=>{e&&(console.log("ConversationalChat: Initializing session with token:",e),I())},[e]),x.useEffect(()=>{var Q;u&&!w&&((Q=D.current)==null||Q.focus())},[u,w]);const I=async()=>{var Q,z;console.log("ConversationalChat: initializeSession called"),console.log("ConversationalChat: apiUrl =",t),console.log("ConversationalChat: token =",e),k(!0),f("");try{const T=`${t}/conversation/init?token=${e}`;console.log("ConversationalChat: Fetching:",T);const B=await fetch(T);console.log("ConversationalChat: Response received:",B.status,B.statusText);const U=await B.json();if(console.log("ConversationalChat: Data received:",U),!B.ok)throw console.log("ConversationalChat: Response not OK, throwing error"),new Error(U.error||"Failed to initialize session");if(console.log("ConversationalChat: Setting session state..."),l(U.session_id),_(U.status),p(U.progress),r&&U.session_id&&(console.log("ConversationalChat: Notifying parent of sessionId:",U.session_id),r(U.session_id)),U.status==="completed")console.log("ConversationalChat: Session already completed"),q("assistant","Thank you! Your reference check has already been completed."),_("completed");else if(U.status==="in_review"||U.status==="ready_for_review")console.log("ConversationalChat: All questions answered, ready for review"),q("assistant"," Great! You've answered all the questions. Please review your answers before submitting."),_("ready_for_review"),n&&setTimeout(()=>n(),1e3);else if(U.question){console.log("ConversationalChat: Adding question to chat:",U.question);const S=((Q=U.context)==null?void 0:Q.candidate_name)||"",N=((z=U.context)==null?void 0:z.position)||"";let $=`Thank you for providing a reference${S?` for ${S}`:""}.`;N&&($+=` They have applied for the position of ${N}.`),$+=" I'll ask you a series of questions about your experience working together. Please answer naturally and honestly.",q("assistant",$),setTimeout(()=>{c(U.question),q("assistant",U.question.text)},300)}else console.log("ConversationalChat: No question in response!")}catch(T){console.error("ConversationalChat: Error in initializeSession:",T);const B=T instanceof Error?T.message:"An error occurred";f(B),q("assistant",`Error: ${B}`)}finally{k(!1)}},q=(Q,z)=>{console.log("ConversationalChat: addMessage called",{role:Q,content:z,contentLength:z==null?void 0:z.length}),a(T=>{const B=[...T,{role:Q,content:z,timestamp:new Date}];return console.log("ConversationalChat: New messages array:",B),B})},Y=async Q=>{if(Q.preventDefault(),!m.trim()||!o||!u)return;v(!0),f(""),q("user",m.trim());const z=m.trim();h("");try{const T=await fetch(`${t}/conversation/answer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:o,question_index:u.index,answer:z,skip_proofreading:!1})}),B=await T.json();if(!T.ok)throw new Error(B.error||"Failed to save answer");p(B.progress),_(B.status);let U=!1;B.status==="needs_clarification"?(B.message&&q("assistant",B.message),B.same_question&&c(B.same_question)):B.status==="ready_for_review"?(q("assistant"," Great! You've answered all the questions. Please review your answers before submitting."),c(null),_("ready_for_review")):B.next_question&&(B.acknowledgment?(q("assistant",B.acknowledgment),U=!0,setTimeout(()=>{c(B.next_question),q("assistant",B.next_question.text),v(!1)},600)):(c(B.next_question),q("assistant",B.next_question.text))),U||v(!1)}catch(T){const B=T instanceof Error?T.message:"An error occurred";f(B),q("assistant",`Error: ${B}. Please try again.`),v(!1)}},L=()=>{n&&n()},Z=Q=>Q.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return g?i.jsx("div",{style:{padding:"40px",textAlign:"center"},children:i.jsx("div",{style:{fontSize:"16px",color:"#6b7280"},children:"Loading conversation..."})}):i.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",maxHeight:"800px",backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden"},children:[i.jsxs("div",{style:{padding:"20px",backgroundColor:"#ffffff",borderBottom:"1px solid #e5e7eb"},children:[i.jsx("h2",{style:{margin:0,fontSize:"20px",color:"#111827"},children:"Reference Check"}),i.jsxs("div",{style:{marginTop:"8px",display:"flex",alignItems:"center",gap:"12px",fontSize:"14px",color:"#6b7280"},children:[i.jsxs("span",{children:["Progress: ",d.answered," / ",d.total," questions"]}),i.jsx("div",{style:{flex:1,height:"6px",backgroundColor:"#e5e7eb",borderRadius:"3px",overflow:"hidden"},children:i.jsx("div",{style:{height:"100%",width:`${d.percent}%`,backgroundColor:"#3b82f6",transition:"width 0.3s ease"}})}),i.jsxs("span",{children:[d.percent,"%"]})]})]}),i.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:[s.map((Q,z)=>i.jsx("div",{style:{display:"flex",justifyContent:Q.role==="user"?"flex-end":"flex-start",animation:"fadeIn 0.3s ease"},children:i.jsxs("div",{style:{maxWidth:"70%",padding:"12px 16px",borderRadius:"12px",backgroundColor:Q.role==="user"?"#3b82f6":"#ffffff",color:Q.role==="user"?"#ffffff":"#111827",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",border:Q.role==="assistant"?"1px solid #e5e7eb":"none"},children:[i.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:Q.content}),i.jsx("div",{style:{marginTop:"4px",fontSize:"11px",opacity:.7},children:Z(Q.timestamp)})]})},z)),w&&i.jsx("div",{style:{display:"flex",justifyContent:"flex-start",animation:"fadeIn 0.3s ease"},children:i.jsxs("div",{style:{maxWidth:"70%",padding:"12px 16px",borderRadius:"12px",backgroundColor:"#ffffff",color:"#6b7280",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",border:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"8px"},children:[i.jsxs("div",{className:"typing-indicator",children:[i.jsx("span",{}),i.jsx("span",{}),i.jsx("span",{})]}),i.jsx("span",{style:{fontSize:"14px"},children:"Thinking..."})]})}),i.jsx("div",{ref:F})]}),(C==="in_progress"||C==="needs_clarification")&&u&&i.jsxs("form",{onSubmit:Y,style:{padding:"20px",backgroundColor:"#ffffff",borderTop:"1px solid #e5e7eb"},children:[E&&i.jsx("div",{style:{marginBottom:"12px",padding:"12px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",color:"#dc2626",fontSize:"14px"},children:E}),i.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end"},children:[i.jsx("textarea",{ref:D,value:m,onChange:Q=>h(Q.target.value),placeholder:"Type your answer here...",disabled:w,spellCheck:!0,rows:3,style:{flex:1,padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",resize:"vertical",fontFamily:"inherit"},onKeyDown:Q=>{Q.key==="Enter"&&(Q.ctrlKey||Q.metaKey)&&(Q.preventDefault(),Y(Q))}}),i.jsx("button",{type:"submit",disabled:!m.trim()||w,style:{padding:"12px 24px",backgroundColor:!m.trim()||w?"#d1d5db":"#3b82f6",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:!m.trim()||w?"not-allowed":"pointer",minWidth:"100px"},children:w?"Sending...":"Send"})]}),i.jsx("div",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:"Press Ctrl+Enter to send  Browser spell-check enabled"})]}),C==="ready_for_review"&&i.jsx("div",{style:{padding:"20px",backgroundColor:"#ffffff",borderTop:"1px solid #e5e7eb",textAlign:"center"},children:i.jsx("button",{onClick:L,style:{padding:"12px 32px",backgroundColor:"#10b981",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"500",cursor:"pointer"},children:"Review & Submit Answers"})}),C==="completed"&&i.jsx("div",{style:{padding:"20px",backgroundColor:"#ecfdf5",borderTop:"1px solid #a7f3d0",textAlign:"center"},children:i.jsx("div",{style:{fontSize:"16px",color:"#059669",fontWeight:"500"},children:" Reference check completed"})}),i.jsx("style",{children:`
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }

          .typing-indicator {
            display: flex;
            gap: 4px;
            align-items: center;
          }

          .typing-indicator span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #9ca3af;
            animation: typing 1.4s infinite;
          }

          .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
          }

          .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
          }

          @keyframes typing {
            0%, 60%, 100% {
              transform: translateY(0);
              opacity: 0.7;
            }
            30% {
              transform: translateY(-10px);
              opacity: 1;
            }
          }
        `})]})},om=({sessionId:e,apiUrl:t="http://localhost:5001/api",onComplete:n,onBack:r})=>{const[o,l]=x.useState([]),[s,a]=x.useState(!0),[u,c]=x.useState(!1),[m,h]=x.useState(""),[g,k]=x.useState(null),[w,v]=x.useState(""),[E,f]=x.useState(""),[d,p]=x.useState(null),[C,_]=x.useState(""),[F,D]=x.useState(0);x.useEffect(()=>{I()},[e]);const I=async()=>{a(!0),h("");try{const z=await fetch(`${t}/conversation/review/${e}`),T=await z.json();if(!z.ok)throw new Error(T.error||"Failed to fetch review data");l(T.review_items),_(T.status),D(T.total_questions)}catch(z){const T=z instanceof Error?z.message:"An error occurred";h(T)}finally{a(!1)}},q=z=>{k(z.answer_id),v(z.polished_answer),f("")},Y=()=>{k(null),v(""),f("")},L=async z=>{if(!w.trim()){alert("Answer cannot be empty");return}try{const T=await fetch(`${t}/conversation/revise`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answer_id:z,new_answer:w.trim(),revision_reason:E||"User revision during review"})}),B=await T.json();if(!T.ok)throw new Error(B.error||"Failed to save revision");l(U=>U.map(S=>{var N;if(S.answer_id===z){const $=((N=S.conversation_turns)==null?void 0:N.map(H=>H.type==="user_answer"?{...H,content:w.trim()}:H))||[];return{...S,polished_answer:w.trim(),conversation_turns:$.length>0?$:S.conversation_turns}}return S})),k(null),v(""),f("")}catch(T){const B=T instanceof Error?T.message:"An error occurred";alert(`Error saving changes: ${B}`)}},Z=async()=>{if(confirm(`Submit your reference check?

This will finalize your responses and they cannot be changed after submission.`)){c(!0),h("");try{const z=await fetch(`${t}/conversation/complete/${e}`,{method:"POST"}),T=await z.json();if(!z.ok)throw new Error(T.error||"Failed to complete session");alert(` Reference check submitted successfully!

Your responses have been recorded and secured with a tamper-proof hash.

Thank you for your time!`),n&&n()}catch(z){const T=z instanceof Error?z.message:"An error occurred";h(T),alert(`Error submitting: ${T}`)}finally{c(!1)}}},Q=z=>new Date(z).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return s?i.jsx("div",{style:{padding:"40px",textAlign:"center"},children:i.jsx("div",{style:{fontSize:"16px",color:"#6b7280"},children:"Loading review data..."})}):i.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"20px"},children:[i.jsxs("div",{style:{marginBottom:"30px"},children:[r&&i.jsx("button",{onClick:r,style:{padding:"8px 16px",backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",marginBottom:"16px"},children:" Back to Chat"}),i.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"24px",color:"#111827"},children:"Review Your Answers"}),i.jsxs("p",{style:{margin:0,color:"#6b7280",fontSize:"14px"},children:["Please review your ",o.length," answers before submitting. You can edit any answer if needed."]})]}),m&&i.jsx("div",{style:{marginBottom:"20px",padding:"16px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626"},children:m}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:o.map((z,T)=>i.jsxs("div",{style:{padding:"20px",backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"},children:[i.jsxs("div",{style:{marginBottom:"12px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[i.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#3b82f6",color:"#ffffff",fontSize:"12px",fontWeight:"600"},children:T+1}),i.jsx("strong",{style:{fontSize:"16px",color:"#111827"},children:z.question_text})]}),i.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af",marginLeft:"32px"},children:["Answered ",Q(z.answered_at),"  ",z.word_count," words"]})]}),g===z.answer_id?i.jsxs("div",{style:{marginTop:"16px"},children:[i.jsx("textarea",{value:w,onChange:B=>v(B.target.value),spellCheck:z.answer_type!=="number"&&z.answer_type!=="rating",rows:6,style:{width:"100%",padding:"12px",border:"2px solid #3b82f6",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",resize:"vertical"}}),i.jsx("div",{style:{marginTop:"12px"},children:i.jsx("input",{type:"text",placeholder:"Optional: Reason for change",value:E,onChange:B=>f(B.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})}),i.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px"},children:[i.jsx("button",{onClick:()=>L(z.answer_id),style:{padding:"8px 16px",backgroundColor:"#10b981",color:"#ffffff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Save Changes"}),i.jsx("button",{onClick:Y,style:{padding:"8px 16px",backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Cancel"})]})]}):i.jsxs("div",{children:[i.jsxs("div",{style:{padding:"16px",backgroundColor:"#f0f4ff",border:"1px solid #c7d2fe",borderRadius:"6px"},children:[i.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#4338ca",marginBottom:"12px"},children:"Conversation History:"}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:z.conversation_turns&&z.conversation_turns.length>0?z.conversation_turns.map((B,U)=>{if(B.type==="question"&&U===0||B.type==="acknowledgment")return null;const S=B.type==="user_answer",N=B.type==="clarification";return i.jsxs("div",{style:{padding:"10px 12px",backgroundColor:S?"#ffffff":"#e0e7ff",border:`1px solid ${S?"#d1d5db":"#a5b4fc"}`,borderRadius:"4px",fontSize:"13px"},children:[i.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:S?"#6b7280":"#4338ca",marginBottom:"4px",textTransform:"uppercase"},children:S?"Your Response:":N?"Follow-up:":"System:"}),i.jsx("div",{style:{color:"#374151",whiteSpace:"pre-wrap",lineHeight:"1.5"},children:B.content})]},U)}):i.jsxs("div",{style:{padding:"10px 12px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"13px"},children:[i.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"4px",textTransform:"uppercase"},children:"Your Response:"}),i.jsx("div",{style:{color:"#374151",whiteSpace:"pre-wrap",lineHeight:"1.5"},children:z.polished_answer})]})})]}),i.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px",alignItems:"center"},children:[i.jsx("button",{onClick:()=>q(z),style:{padding:"6px 12px",backgroundColor:"#ffffff",color:"#3b82f6",border:"1px solid #3b82f6",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:" Edit Answer"}),z.raw_answer!==z.polished_answer&&i.jsxs("button",{onClick:()=>p(d===z.answer_id?null:z.answer_id),style:{padding:"6px 12px",backgroundColor:"#ffffff",color:"#6b7280",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:[d===z.answer_id?"Hide":"Show"," Original"]})]}),d===z.answer_id&&i.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#fffbeb",border:"1px solid #fcd34d",borderRadius:"6px"},children:[i.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#92400e",marginBottom:"8px"},children:"Original Answer (before AI proofreading):"}),i.jsx("div",{style:{fontSize:"13px",color:"#78350f",whiteSpace:"pre-wrap",lineHeight:"1.5"},children:z.raw_answer})]})]})]},z.answer_id))}),i.jsxs("div",{style:{marginTop:"40px",padding:"24px",backgroundColor:"#f0fdf4",border:"2px solid #86efac",borderRadius:"8px",textAlign:"center"},children:[i.jsx("h3",{style:{margin:"0 0 12px 0",color:"#166534"},children:"Ready to Submit?"}),i.jsx("p",{style:{margin:"0 0 20px 0",color:"#15803d",fontSize:"14px"},children:"Once submitted, your answers will be finalized and cannot be changed."}),i.jsx("button",{onClick:Z,disabled:u||g!==null,style:{padding:"14px 32px",backgroundColor:u||g!==null?"#d1d5db":"#10b981",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:u||g!==null?"not-allowed":"pointer"},children:u?"Submitting...":" Submit Reference Check"}),g&&i.jsx("div",{style:{marginTop:"12px",fontSize:"13px",color:"#dc2626"},children:"Please save or cancel your current edit before submitting."})]})]})},dd=({token:e,apiUrl:t="http://localhost:5001/api",onComplete:n})=>{const[r,o]=x.useState("authorization"),[l,s]=x.useState(null),a=()=>{o("chat")},u=g=>{s(g)},c=()=>{o("review")},m=()=>{o("complete")},h=()=>{o("chat")};return r==="authorization"?i.jsx(nm,{token:e,apiUrl:t,onAuthorizationComplete:a}):r==="complete"?i.jsxs("div",{style:{maxWidth:"600px",margin:"60px auto",padding:"40px",textAlign:"center",backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},children:[i.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto 24px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#d1fae5",borderRadius:"50%",fontSize:"40px"},children:""}),i.jsx("h1",{style:{margin:"0 0 16px 0",fontSize:"28px",color:"#111827",fontWeight:"600"},children:"Thank You!"}),i.jsx("p",{style:{margin:"0 0 24px 0",fontSize:"16px",color:"#6b7280",lineHeight:"1.6"},children:"Your reference check has been completed successfully. Your responses have been securely recorded and will be reviewed by the hiring team."}),i.jsx("div",{style:{padding:"16px",backgroundColor:"#f0fdf4",border:"1px solid #86efac",borderRadius:"8px",marginBottom:"24px"},children:i.jsx("p",{style:{margin:0,fontSize:"14px",color:"#166534"},children:"Your responses have been secured with a tamper-proof hash to ensure integrity."})}),n?i.jsx("button",{onClick:n,style:{marginTop:"24px",padding:"12px 24px",backgroundColor:"#3b82f6",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"500",cursor:"pointer"},children:" Back to All Requests"}):i.jsx("p",{style:{margin:0,fontSize:"14px",color:"#9ca3af"},children:"You can now close this window."})]}):r==="review"?l?i.jsx(om,{sessionId:l,apiUrl:t,onComplete:m,onBack:h}):i.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[i.jsx("p",{children:"Error: No session found. Please start over."}),i.jsx("button",{onClick:h,children:"Back to Chat"})]}):i.jsx("div",{style:{minHeight:"100vh",width:"100%",background:"#f7fafc",padding:"20px",overflow:"auto"},children:i.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:i.jsx(rm,{token:e,apiUrl:t,onComplete:c,onSessionIdChange:u})})})},im=({userId:e,apiUrl:t="http://localhost:5001/api",onSelectRequest:n})=>{const[r,o]=x.useState([]),[l,s]=x.useState(!0),[a,u]=x.useState(""),[c,m]=x.useState("all"),[h,g]=x.useState(null),[k,w]=x.useState({}),[v,E]=x.useState(null),[f,d]=x.useState(null),[p,C]=x.useState("start_date"),[_,F]=x.useState("desc"),[D,I]=x.useState(null),[q,Y]=x.useState(""),[L,Z]=x.useState(null),[Q,z]=x.useState(!1),[T,B]=x.useState(null),[U,S]=x.useState(!1),[N,$]=x.useState(null),H=async(j,R=3,V=500)=>{for(let O=0;O<R;O++)try{const G=`_t=${Date.now()}`,b=j.includes("?")?"&":"?",ce=`${j}${b}${G}`,y=await fetch(ce,{cache:"no-store",headers:{"Cache-Control":"no-cache"}}),ae=await y.json();if(y.ok)return ae;if(y.status>=500&&O<R-1){await new Promise(P=>setTimeout(P,V*(O+1)));continue}throw new Error(ae.error||"Request failed")}catch(G){if(O===R-1)throw G;await new Promise(b=>setTimeout(b,V*(O+1)))}throw new Error("Max retries reached")},K=async(j=!0)=>{j&&s(!0),u("");try{const R=new URLSearchParams({user_id:e});c!=="all"&&R.append("status",c);let O=(await H(`${t}/requests?${R}`)).requests||[];O=O.filter(y=>!!(y.status!=="draft_candidate"||y.authorization_sent_at));const G=2,b=[];for(let y=0;y<O.length;y+=G){const P=O.slice(y,y+G).map(async M=>{try{return await H(`${t}/requests/${M.id}`)}catch(nn){return console.error(`Failed to fetch details for request ${M.id}:`,nn),{request:M,referees:[],summary:{total_referees:0,completed:0,pending:0}}}}),st=await Promise.all(P);b.push(...st),y+G<O.length&&await new Promise(M=>setTimeout(M,100))}const ce=b.filter(y=>y&&y.request).map(y=>({...y.request,referees:y.referees||[],summary:y.summary||{total_referees:0,completed:0,pending:0}}));o(ce),I(new Date)}catch(R){const V=R instanceof Error?R.message:"An error occurred";u(V)}finally{s(!1)}},be=async(j,R)=>{if(confirm(` DELETE CANDIDATE?

Are you sure you want to delete ${R} and all their referees?

This action cannot be undone.`))try{const V=await fetch(`${t}/requests/${j}`,{method:"DELETE"});if(!V.ok){const O=await V.json();throw new Error(O.error||"Failed to delete request")}await K(),alert(` Deleted ${R} and all associated referees`)}catch(V){const O=V instanceof Error?V.message:"An error occurred";alert(` Error: ${O}`)}},pe=async(j,R,V)=>{if(confirm(` SEND REMINDER?

Send a reminder email to ${V}?`))try{const O=await fetch(`${t}/requests/${j}/referees/${R}/remind`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channel:"email"})}),G=await O.json();if(!O.ok)throw new Error(G.error||"Failed to send reminder");await K(),alert(` Reminder sent to ${V}`)}catch(O){const G=O instanceof Error?O.message:"An error occurred";alert(` Error: ${G}`)}},Dn=async(j,R,V)=>{if(confirm(` COMPLETE PHONE REFERENCE

Complete reference for ${V} via phone?

This will open the conversational form where you can enter their responses as you speak with them.`))try{const O=await fetch(`${t}/requests/${j}/referees/${R}/phone-token`,{method:"POST",headers:{"Content-Type":"application/json"}}),G=await O.json();if(!O.ok)throw new Error(G.error||"Failed to get reference token");d({token:G.token})}catch(O){const G=O instanceof Error?O.message:"An error occurred";alert(` Error: ${G}`)}},tt=async(j,R)=>{if(N===j){alert(" Already sending authorization email to this candidate. Please wait...");return}if(confirm(` SEND AUTHORIZATION REQUEST

Send authorization email to ${R}?

They will receive an email with a link to sign the authorization form online.

 Note: Only the most recent email link will work. Previous links will be invalidated.`)){$(j);try{const V=await fetch(`${t}/requests/${j}/send-authorization`,{method:"POST",headers:{"Content-Type":"application/json"}}),O=await V.json();if(!V.ok)throw new Error(O.error||"Failed to send authorization");o(G=>G.map(b=>b.id===j?{...b,authorization_status:"pending"}:b)),g(null),alert(` Authorization request sent to ${R}!

They will receive an email shortly. Only this latest link will work - any previous authorization links are now invalid.`),K(!1)}catch(V){const O=V instanceof Error?V.message:"An error occurred";alert(` Error: ${O}`)}finally{$(null)}}},Ot=async(j,R)=>{if(confirm(` VERBAL AUTHORIZATION

Mark ${R} as VERBALLY authorized?

 ONLY click YES if you have spoken to the candidate and they have given permission to contact their referees.

This will allow you to immediately proceed with sending reference requests.`))try{const V=await fetch(`${t}/requests/${j}/verbal-authorization`,{method:"POST",headers:{"Content-Type":"application/json"}}),O=await V.json();if(console.log("Verbal authorization response:",V.status,O),!V.ok){console.error("Verbal authorization failed:",O);const G=O.message||O.error||"Failed to mark as verbally authorized",b=O.traceback?`

Details: ${O.type||"Unknown error"}`:"";throw new Error(G+b)}o(G=>G.map(b=>b.id===j?{...b,authorization_status:"verbal",authorization_method:"verbal",authorization_completed_at:new Date().toISOString()}:b)),g(null),alert(` ${R} marked as verbally authorized!

You can now add referees and send invitations.`),K(!1)}catch(V){const O=V instanceof Error?V.message:"An error occurred";console.error("Error marking verbal authorization:",V),alert(` Error: ${O}`)}},Ko=j=>{p===j?F(_==="asc"?"desc":"asc"):(C(j),F(j==="created"||j==="last_contact"||j==="start_date"?"desc":"asc"))},vs=j=>{if(!j)return"";const R=new Date(j),V=R.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});let O=R.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return O=O.replace(/^0/,""),i.jsxs("div",{style:{textAlign:"center",fontSize:"12px"},children:[i.jsx("div",{children:V}),i.jsx("div",{style:{color:"#666"},children:O})]})},zr=j=>{let V=new Date(j).toLocaleTimeString("en-NZ",{hour:"2-digit",minute:"2-digit",timeZone:"Pacific/Auckland"});return V=V.replace(/^0/,""),V},fd=()=>{let j=r;if(q.trim()){const V=q.toLowerCase();j=r.filter(O=>`${O.candidate_first_name} ${O.candidate_last_name}`.toLowerCase().includes(V)?!0:O.referees.some(b=>`${b.first_name} ${b.last_name}`.toLowerCase().includes(V)))}const R=[...j];return R.sort((V,O)=>{let G,b;switch(p){case"start_date":G=V.authorization_sent_at?new Date(V.authorization_sent_at).getTime():0,b=O.authorization_sent_at?new Date(O.authorization_sent_at).getTime():0;break;case"candidate":G=`${V.candidate_first_name||""} ${V.candidate_last_name||""}`.trim().toLowerCase(),b=`${O.candidate_first_name||""} ${O.candidate_last_name||""}`.trim().toLowerCase();break;case"position":G=(V.position_applied_for||"").toLowerCase(),b=(O.position_applied_for||"").toLowerCase();break;case"created":G=new Date(V.created_at).getTime(),b=new Date(O.created_at).getTime();break;case"last_contact":const ce=y=>{if(!y.referees||y.referees.length===0)return 0;const ae=y.referees.map(P=>P.last_contacted_at?new Date(P.last_contacted_at).getTime():0).filter(P=>P>0);return ae.length>0?Math.max(...ae):0};G=ce(V),b=ce(O);break;default:return 0}return G<b?_==="asc"?-1:1:G>b?_==="asc"?1:-1:0}),R},Go=j=>p!==j?" ":_==="asc"?" ":" ",pd=j=>{Z({...j})},ws=(j,R)=>{if(R.stopPropagation(),h===j){g(null);return}const O=R.currentTarget.getBoundingClientRect(),G=window.innerHeight,b=G-O.bottom,ce=400,y=O.bottom>G*.6;w(ae=>({...ae,[j]:b<ce||y?"up":"down"})),g(j)},hd=async()=>{if(L){z(!0);try{const j=await fetch(`${t}/referees/${L.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:L.first_name,last_name:L.last_name,email:L.email,phone:L.phone||null,relationship:L.relationship,company:L.company||null})}),R=await j.json();if(!j.ok)throw new Error(R.error||"Failed to update referee");o(V=>V.map(O=>({...O,referees:O.referees.map(G=>G.id===L.id?{...G,first_name:L.first_name,last_name:L.last_name,email:L.email,phone:L.phone||null,relationship:L.relationship,company:L.company||null}:G)}))),Z(null),z(!1),alert(" Referee details updated successfully!"),K(!1)}catch(j){const R=j instanceof Error?j.message:"An error occurred";alert(` Error: ${R}`),z(!1)}}},js=j=>{B({id:j.id,candidate_first_name:j.candidate_first_name,candidate_last_name:j.candidate_last_name,candidate_email:j.candidate_email,candidate_phone_number:j.candidate_phone_number,position_applied_for:j.position_applied_for,authorization_status:j.authorization_status,authorization_method:j.authorization_method,authorization_completed_at:j.authorization_completed_at,authorization_signature:j.authorization_signature})},md=async()=>{if(!T)return;if(!(T.authorization_status==="authorized"||T.authorization_status==="verbal")){alert(" This candidate has not completed authorization yet.");return}try{const{jsPDF:R}=await _r(async()=>{const{jsPDF:nn}=await import("./jspdf.es.min-DwDHAbZl-v2.js");return{jsPDF:nn}},__vite__mapDeps([3,1])),V=T.authorization_method==="online"?"Online Form":"Verbal",O=T.authorization_completed_at?new Date(T.authorization_completed_at).toLocaleString("en-NZ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Pacific/Auckland"}):"N/A",G=new Date().toLocaleString("en-NZ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Pacific/Auckland"}),b=new R,ce=b.internal.pageSize.getWidth(),y=20,ae=ce-y*2;let P=20;b.setFillColor(37,99,235),b.rect(0,0,ce,40,"F"),b.setTextColor(255,255,255),b.setFontSize(22),b.setFont("helvetica","bold"),b.text("Reference Check Authorization Form",ce/2,18,{align:"center"}),b.setFontSize(12),b.setFont("helvetica","normal"),b.text("Official Record of Candidate Authorization",ce/2,28,{align:"center"}),P=55,b.setTextColor(0,0,0),b.setFontSize(16),b.setFont("helvetica","bold"),b.setTextColor(31,41,55),b.text("Candidate Information",y,P),P+=10,b.setFillColor(249,250,251),b.rect(y,P-5,ae,50+(T.candidate_phone_number?10:0),"F"),b.setDrawColor(37,99,235),b.setLineWidth(2),b.line(y,P-5,y,P+45+(T.candidate_phone_number?10:0)),b.setFontSize(11),b.setFont("helvetica","bold"),b.setTextColor(55,65,81),b.text("Full Name:",y+5,P),b.setFont("helvetica","normal"),b.setTextColor(0,0,0),b.text(`${T.candidate_first_name} ${T.candidate_last_name}`,y+5,P+5),P+=15,b.setFont("helvetica","bold"),b.setTextColor(55,65,81),b.text("Email:",y+5,P),b.setFont("helvetica","normal"),b.setTextColor(0,0,0),b.text(T.candidate_email,y+5,P+5),P+=15,T.candidate_phone_number&&(b.setFont("helvetica","bold"),b.setTextColor(55,65,81),b.text("Phone:",y+5,P),b.setFont("helvetica","normal"),b.setTextColor(0,0,0),b.text(T.candidate_phone_number,y+5,P+5),P+=15),b.setFont("helvetica","bold"),b.setTextColor(55,65,81),b.text("Position Applied For:",y+5,P),b.setFont("helvetica","normal"),b.setTextColor(0,0,0),b.text(T.position_applied_for,y+5,P+5),P+=20,b.setFontSize(16),b.setFont("helvetica","bold"),b.setTextColor(31,41,55),b.text("Authorization Details",y,P),P+=10,b.setFillColor(249,250,251),b.rect(y,P-5,ae,40,"F"),b.setDrawColor(37,99,235),b.line(y,P-5,y,P+35),b.setFontSize(11),b.setFont("helvetica","bold"),b.setTextColor(55,65,81),b.text("Authorization Method:",y+5,P),b.setFont("helvetica","normal"),b.setTextColor(0,0,0),b.text(V,y+5,P+5),P+=15,b.setFont("helvetica","bold"),b.setTextColor(55,65,81),b.text("Date Completed:",y+5,P),b.setFont("helvetica","normal"),b.setTextColor(0,0,0),b.text(O,y+5,P+5),P+=15,b.setFont("helvetica","bold"),b.setTextColor(55,65,81),b.text("Status:",y+5,P),b.setFont("helvetica","normal"),b.setTextColor(21,128,61),b.text(" Authorized",y+5,P+5),P+=20,b.setFontSize(16),b.setFont("helvetica","bold"),b.setTextColor(31,41,55),b.text("Authorization Statement",y,P),P+=10,b.setFillColor(254,243,199),b.rect(y,P-5,ae,40,"F"),b.setDrawColor(245,158,11),b.setLineWidth(2),b.line(y,P-5,y,P+35),b.setFontSize(11),b.setFont("helvetica","bold"),b.setTextColor(0,0,0),b.text("The candidate has authorized the following:",y+5,P),P+=7,b.setFont("helvetica","normal"),b.setTextColor(0,0,0),[" Permission to contact their professional referees"," Collection of feedback about their work history and performance"," Use of this information in the hiring decision process"].forEach(nn=>{b.text(nn,y+5,P),P+=7}),P+=8,T.authorization_signature&&(b.setFontSize(16),b.setFont("helvetica","bold"),b.setTextColor(31,41,55),b.text("Electronic Signature",y,P),P+=10,b.setFillColor(240,249,255),b.rect(y,P-5,ae,25,"F"),b.setDrawColor(37,99,235),b.setLineWidth(1),b.rect(y,P-5,ae,25),b.setFontSize(18),b.setFont("helvetica","italic"),b.setTextColor(37,99,235),b.text(T.authorization_signature,y+5,P+5),P+=12,b.setFontSize(9),b.setFont("helvetica","normal"),b.setTextColor(107,114,128),b.text(`Signed electronically on ${O}`,y+5,P+5),P+=15),b.setDrawColor(229,231,235),b.setLineWidth(.5),b.line(y,270,ce-y,270),b.setFontSize(9),b.setFont("helvetica","normal"),b.setTextColor(107,114,128),b.text(`This document was generated on ${G}`,ce/2,277,{align:"center"}),b.text("Reference Check System - Official Authorization Record",ce/2,282,{align:"center"});const M=`Authorization_${T.candidate_first_name}_${T.candidate_last_name}_${new Date().toISOString().split("T")[0]}.pdf`;b.save(M)}catch(R){console.error("Failed to generate PDF:",R),alert(" Failed to generate PDF. Please try again or contact support.")}},gd=async()=>{if(!L)return;if(!(L.consent_agreed&&L.consent_signature)){alert(" This referee has not completed the consent form yet.");return}try{const{jsPDF:R}=await _r(async()=>{const{jsPDF:$n}=await import("./jspdf.es.min-DwDHAbZl-v2.js");return{jsPDF:$n}},__vite__mapDeps([3,1])),V=L.consent_signed_at?new Date(L.consent_signed_at).toLocaleString("en-NZ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Pacific/Auckland"}):"N/A",O=new Date().toLocaleString("en-NZ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Pacific/Auckland"}),G=r.find($n=>$n.referees.some(jd=>jd.id===L.id)),b=G?`${G.candidate_first_name} ${G.candidate_last_name}`:"the candidate",ce=(G==null?void 0:G.position_applied_for)||"the position",y=new R,ae=y.internal.pageSize.getWidth(),P=20,st=ae-P*2;let M=20;y.setFillColor(139,92,246),y.rect(0,0,ae,40,"F"),y.setTextColor(255,255,255),y.setFontSize(22),y.setFont("helvetica","bold"),y.text("Referee Consent Form",ae/2,18,{align:"center"}),y.setFontSize(12),y.setFont("helvetica","normal"),y.text("Official Record of Referee Authorization",ae/2,28,{align:"center"}),M=55,y.setTextColor(0,0,0),y.setFontSize(16),y.setFont("helvetica","bold"),y.setTextColor(31,41,55),y.text("Referee Information",P,M),M+=10,y.setFillColor(249,250,251),y.rect(P,M-5,st,50+(L.phone?10:0)+(L.company?10:0),"F"),y.setDrawColor(139,92,246),y.setLineWidth(2),y.line(P,M-5,P,M+45+(L.phone?10:0)+(L.company?10:0)),y.setFontSize(11),y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Full Name:",P+5,M),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(`${L.first_name} ${L.last_name}`,P+5,M+5),M+=15,y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Email:",P+5,M),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(L.email,P+5,M+5),M+=15,L.phone&&(y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Phone:",P+5,M),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(L.phone,P+5,M+5),M+=15),L.company&&(y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Company:",P+5,M),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(L.company,P+5,M+5),M+=15),y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Relationship:",P+5,M),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(L.relationship,P+5,M+5),M+=20,y.setFontSize(16),y.setFont("helvetica","bold"),y.setTextColor(31,41,55),y.text("Reference Details",P,M),M+=10,y.setFillColor(249,250,251),y.rect(P,M-5,st,30,"F"),y.setDrawColor(139,92,246),y.line(P,M-5,P,M+25),y.setFontSize(11),y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Candidate:",P+5,M),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(b,P+5,M+5),M+=15,y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Position:",P+5,M),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(ce,P+5,M+5),M+=20,y.setFontSize(16),y.setFont("helvetica","bold"),y.setTextColor(31,41,55),y.text("Consent Details",P,M),M+=10,y.setFillColor(249,250,251),y.rect(P,M-5,st,30,"F"),y.setDrawColor(139,92,246),y.line(P,M-5,P,M+25),y.setFontSize(11),y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Date Signed:",P+5,M),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(V,P+5,M+5),M+=15,y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Status:",P+5,M),y.setFont("helvetica","normal"),y.setTextColor(21,128,61),y.text(" Consent Given",P+5,M+5),M+=20,y.setFontSize(16),y.setFont("helvetica","bold"),y.setTextColor(31,41,55),y.text("Consent Statement",P,M),M+=10,y.setFillColor(243,232,255),y.rect(P,M-5,st,48,"F"),y.setDrawColor(139,92,246),y.setLineWidth(2),y.line(P,M-5,P,M+43),y.setFontSize(11),y.setFont("helvetica","bold"),y.setTextColor(0,0,0),y.text("The referee has consented to the following:",P+5,M),M+=7,y.setFont("helvetica","normal"),y.setTextColor(0,0,0),[` Providing a professional reference for ${b}`," Sharing information about their work history and performance"," Acknowledging that their responses may be used in hiring decisions"," Understanding that this reference is confidential"].forEach($n=>{y.text($n,P+5,M),M+=7}),M+=8,L.consent_signature&&(y.setFontSize(16),y.setFont("helvetica","bold"),y.setTextColor(31,41,55),y.text("Electronic Signature",P,M),M+=10,y.setFillColor(245,243,255),y.rect(P,M-5,st,25,"F"),y.setDrawColor(139,92,246),y.setLineWidth(1),y.rect(P,M-5,st,25),y.setFontSize(18),y.setFont("helvetica","italic"),y.setTextColor(139,92,246),y.text(L.consent_signature,P+5,M+5),M+=12,y.setFontSize(9),y.setFont("helvetica","normal"),y.setTextColor(107,114,128),y.text(`Signed electronically on ${V}`,P+5,M+5),M+=15),y.setDrawColor(229,231,235),y.setLineWidth(.5),y.line(P,270,ae-P,270),y.setFontSize(9),y.setFont("helvetica","normal"),y.setTextColor(107,114,128),y.text(`This document was generated on ${O}`,ae/2,277,{align:"center"}),y.text("Reference Check System - Official Referee Consent Record",ae/2,282,{align:"center"});const wd=`Referee_Consent_${L.first_name}_${L.last_name}_${new Date().toISOString().split("T")[0]}.pdf`;y.save(wd)}catch(R){console.error("Failed to generate PDF:",R),alert(" Failed to generate PDF. Please try again or contact support.")}},xd=async()=>{if(T){S(!0);try{const j=await fetch(`${t}/requests/${T.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({candidate_first_name:T.candidate_first_name,candidate_last_name:T.candidate_last_name,candidate_email:T.candidate_email,candidate_phone_number:T.candidate_phone_number||null,position_applied_for:T.position_applied_for})}),R=await j.json();if(!j.ok)throw new Error(R.error||"Failed to update candidate");o(V=>V.map(O=>O.id===T.id?{...O,candidate_first_name:T.candidate_first_name,candidate_last_name:T.candidate_last_name,candidate_email:T.candidate_email,candidate_phone_number:T.candidate_phone_number||null,position_applied_for:T.position_applied_for}:O)),B(null),S(!1),alert(" Candidate details updated successfully!"),K(!1)}catch(j){const R=j instanceof Error?j.message:"An error occurred";alert(` Error: ${R}`),S(!1)}}};x.useEffect(()=>{K()},[e,c]),x.useEffect(()=>{const j=R=>{h&&!R.target.closest(".actions-menu, .btn-action")&&g(null)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[h]);const yd=(j,R)=>R||j==="completed"?"status-completed":j==="bounced"||j==="declined"?"status-bounced":j==="started"?"status-sent":"status-draft",vd=j=>{const R=j.authorization_status,V=j.authorization_method;return R==="authorized"&&V==="online"?i.jsx("span",{className:"status-badge status-completed",title:"Authorized via online form",children:"Authorized"}):R==="authorized"||R==="verbal"?i.jsx("span",{className:"status-badge status-completed",title:"Verbally authorized by admin",children:"Authorized"}):R==="pending"?i.jsx("span",{className:"status-badge status-draft",title:"Authorization email sent, awaiting response",children:"Auth Pending"}):null};if(l)return i.jsx("div",{className:"loading",children:"Loading requests..."});if(a)return i.jsxs("div",{className:"alert alert-error",children:[a,i.jsx("button",{onClick:()=>K(),className:"btn-retry",children:"Retry"})]});if(f){const j=()=>{d(null),K(!1)};return i.jsxs("div",{children:[i.jsx("button",{onClick:j,style:{margin:"20px",padding:"10px 20px",background:"#e5e7eb",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:" Back to Request List"}),i.jsx(dd,{token:f.token,apiUrl:t,onComplete:j})]})}return v?i.jsx(tm,{requestId:v.requestId,refereeId:v.refereeId,apiUrl:t,onClose:()=>E(null)}):i.jsxs("div",{className:"request-list",children:[i.jsx("div",{className:"list-controls",children:i.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("label",{htmlFor:"search-input",children:" Search:"}),i.jsx("input",{id:"search-input",type:"text",value:q,onChange:j=>Y(j.target.value),placeholder:"Candidate or referee name...",style:{padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",minWidth:"250px"}}),q&&i.jsx("button",{onClick:()=>Y(""),style:{padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",background:"white",cursor:"pointer",fontSize:"14px"},title:"Clear search",children:""})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("label",{htmlFor:"status-filter",children:"Filter by status:"}),i.jsxs("select",{id:"status-filter",value:c,onChange:j=>m(j.target.value),className:"status-filter",children:[i.jsx("option",{value:"all",children:"All"}),i.jsx("option",{value:"draft",children:"Draft"}),i.jsx("option",{value:"sent",children:"Sent"}),i.jsx("option",{value:"completed",children:"Completed"}),i.jsx("option",{value:"expired",children:"Expired"})]})]}),i.jsx("button",{onClick:()=>K(!0),className:"btn-refresh",disabled:l,children:l?" Refreshing...":" Refresh"}),D&&i.jsxs("span",{style:{fontSize:"12px",color:"#666"},children:["Last updated: ",D.toLocaleTimeString()]})]})}),r.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx("p",{children:"No reference requests found."}),i.jsx("p",{className:"help-text",children:"Create a new request to get started."})]}):i.jsx("div",{className:"table-container",children:i.jsxs("table",{className:"requests-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsxs("th",{onClick:()=>Ko("start_date"),style:{cursor:"pointer",userSelect:"none"},children:["Start Date",Go("start_date")]}),i.jsxs("th",{onClick:()=>Ko("candidate"),style:{cursor:"pointer",userSelect:"none"},children:["Candidate",Go("candidate")]}),i.jsxs("th",{onClick:()=>Ko("position"),style:{cursor:"pointer",userSelect:"none"},children:["Position",Go("position")]}),i.jsx("th",{children:"Referee Name"}),i.jsx("th",{children:"Relationship"}),i.jsx("th",{children:"Status"}),i.jsx("th",{style:{width:"100px"},children:"Actions"})]})}),i.jsx("tbody",{children:fd().map(j=>i.jsx(bl.Fragment,{children:j.referees.length===0?i.jsxs("tr",{children:[i.jsx("td",{children:vs(j.authorization_sent_at)}),i.jsx("td",{className:"candidate-name",children:i.jsxs("span",{onClick:()=>js(j),style:{color:"#2563eb",cursor:"pointer",textDecoration:"underline"},title:"Click to view/edit details",children:[j.candidate_first_name," ",j.candidate_last_name]})}),i.jsx("td",{children:j.position_applied_for}),i.jsx("td",{colSpan:3,style:{textAlign:"center",color:"#999"},children:"No referees added yet"}),i.jsx("td",{children:""}),i.jsxs("td",{style:{position:"relative"},children:[i.jsx("button",{onClick:R=>ws(j.id,R),className:"btn-action",style:{background:"#6366f1",color:"white"},children:""}),h===j.id&&i.jsxs("div",{className:`actions-menu ${(k[j.id]||"down")==="up"?"actions-menu-up":""}`,children:[(!j.authorization_status||j.authorization_status==="pending")&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{g(null),tt(j.id,`${j.candidate_first_name} ${j.candidate_last_name}`)},style:{color:"#2563eb"},children:" Send Authorization Email"}),i.jsx("button",{onClick:()=>{g(null),Ot(j.id,`${j.candidate_first_name} ${j.candidate_last_name}`)},style:{color:"#10b981",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"8px"},children:" Mark Verbal Authorization"})]}),i.jsx("button",{onClick:()=>{g(null),n&&n(j.id)},children:" Add Referee"}),i.jsx("button",{onClick:()=>{g(null),be(j.id,`${j.candidate_first_name} ${j.candidate_last_name}`)},style:{color:"#dc2626"},children:" Delete Candidate"})]})]})]}):j.referees.map((R,V)=>i.jsxs("tr",{children:[V===0?i.jsxs(i.Fragment,{children:[i.jsx("td",{rowSpan:j.referees.length,style:{verticalAlign:"top",paddingTop:"20px"},children:vs(j.authorization_sent_at)}),i.jsxs("td",{className:"candidate-name",rowSpan:j.referees.length,style:{verticalAlign:"top",paddingTop:"20px"},children:[i.jsx("span",{onClick:()=>js(j),style:{color:"#2563eb",cursor:"pointer",textDecoration:"underline"},title:"Click to view/edit details",children:i.jsxs("strong",{children:[j.candidate_first_name," ",j.candidate_last_name]})}),i.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:[j.summary.completed,"/",j.summary.total_referees," completed"]}),i.jsx("div",{style:{marginTop:"8px"},children:vd(j)})]}),i.jsx("td",{rowSpan:j.referees.length,style:{verticalAlign:"top",paddingTop:"20px"},children:j.position_applied_for})]}):null,i.jsx("td",{children:i.jsxs("span",{onClick:()=>pd(R),style:{color:"#2563eb",cursor:"pointer",textDecoration:"underline"},title:"Click to view/edit details",children:[R.first_name," ",R.last_name]})}),i.jsx("td",{children:R.relationship}),i.jsx("td",{children:(()=>{const O=j.authorization_status==="pending",G=!j.authorization_status||j.authorization_status==="pending";if(O)return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"status-badge status-draft",style:{background:"#fef5e7",color:"#856404"},children:"Awaiting Auth"}),j.authorization_sent_at&&i.jsxs("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"},children:["Sent ",new Date(j.authorization_sent_at).toLocaleDateString("en-NZ",{year:"numeric",month:"short",day:"numeric",timeZone:"Pacific/Auckland"})," ",zr(j.authorization_sent_at)]})]});if(G)return i.jsx(i.Fragment,{children:i.jsx("span",{className:"status-badge",style:{background:"#fee",color:"#c00",border:"1px solid #fcc"},children:" Auth Required"})});const b=!R.has_completed&&R.last_contacted_at&&R.initial_sent_at&&new Date(R.last_contacted_at)>new Date(R.initial_sent_at),ce=R.has_completed?"Completed":R.status==="bounced"?"Bounced":R.status==="declined"?"Ref Declined":b?"Reminder":R.status==="draft_ref"||R.status==="pending"?"Pending":R.status==="started"?"Started":R.status==="sent"?"Sent":R.status;return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:`status-badge ${yd(R.status,R.has_completed)}`,children:ce}),R.submitted_at&&i.jsxs("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"},children:[new Date(R.submitted_at).toLocaleDateString("en-NZ",{year:"numeric",month:"short",day:"numeric",timeZone:"Pacific/Auckland"})," ",zr(R.submitted_at)]}),b&&R.last_contacted_at&&i.jsxs("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"},children:[new Date(R.last_contacted_at).toLocaleDateString("en-NZ",{year:"numeric",month:"short",day:"numeric",timeZone:"Pacific/Auckland"})," ",zr(R.last_contacted_at)]}),!R.has_completed&&!b&&(R.last_contacted_at||R.initial_sent_at)&&i.jsxs("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"},children:[new Date(R.last_contacted_at||R.initial_sent_at).toLocaleDateString("en-NZ",{year:"numeric",month:"short",day:"numeric",timeZone:"Pacific/Auckland"})," ",zr(R.last_contacted_at||R.initial_sent_at)]})]})})()}),i.jsxs("td",{style:{position:"relative"},children:[i.jsx("button",{onClick:O=>ws(R.id,O),className:"btn-action",style:{background:"#6366f1",color:"white"},children:""}),h===R.id&&i.jsxs("div",{className:`actions-menu ${(k[R.id]||"down")==="up"?"actions-menu-up":""}`,children:[j.authorization_status==="authorized"||j.authorization_status==="verbal"?i.jsx(i.Fragment,{children:R.has_completed||R.status==="completed"?i.jsx("button",{onClick:()=>{g(null),window.location.href=`/report/${j.id}/referee/${R.id}`},style:{color:"#6366f1",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"8px"},children:" View Report"}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{g(null),pe(j.id,R.id,`${R.first_name} ${R.last_name}`)},style:{color:"#2563eb"},children:" Send Reminder"}),i.jsx("button",{onClick:()=>{g(null),Dn(j.id,R.id,`${R.first_name} ${R.last_name}`)},style:{color:"#059669",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"8px"},children:" Complete Over Phone"})]})}):i.jsx(i.Fragment,{children:i.jsxs("div",{style:{padding:"8px 12px",color:"#dc2626",fontSize:"13px",textAlign:"center",borderBottom:"1px solid #e5e7eb",marginBottom:"8px"},children:[" Authorization Required",i.jsx("div",{style:{fontSize:"11px",color:"#666",marginTop:"4px"},children:"Candidate must authorize first"})]})}),V===0&&i.jsx(i.Fragment,{children:(!j.authorization_status||j.authorization_status==="pending")&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{g(null),tt(j.id,`${j.candidate_first_name} ${j.candidate_last_name}`)},style:{color:"#2563eb"},children:" Send Authorization Email"}),i.jsx("button",{onClick:()=>{g(null),Ot(j.id,`${j.candidate_first_name} ${j.candidate_last_name}`)},style:{color:"#10b981",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"8px"},children:" Mark Verbal Authorization"})]})}),i.jsx("button",{onClick:()=>{g(null),n&&n(j.id)},children:" Add Referee"}),i.jsx("button",{onClick:()=>{g(null),be(j.id,`${j.candidate_first_name} ${j.candidate_last_name}`)},style:{color:"#dc2626"},children:" Delete Candidate"})]})]})]},R.id))},j.id))})]})}),L&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>Z(null),children:i.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"30px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},onClick:j=>j.stopPropagation(),children:[i.jsx("h2",{style:{marginTop:0,marginBottom:"24px",color:"#1f2937"},children:"Edit Referee Details"}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"First Name *"}),i.jsx("input",{type:"text",value:L.first_name,onChange:j=>Z({...L,first_name:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},required:!0})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Last Name *"}),i.jsx("input",{type:"text",value:L.last_name,onChange:j=>Z({...L,last_name:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},required:!0})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Email *"}),i.jsx("input",{type:"email",value:L.email,onChange:j=>Z({...L,email:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},required:!0})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Phone"}),i.jsx("input",{type:"tel",value:L.phone||"",onChange:j=>Z({...L,phone:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"}})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Relationship *"}),i.jsx("input",{type:"text",value:L.relationship,onChange:j=>Z({...L,relationship:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},placeholder:"e.g. Manager, Colleague, Direct Report",required:!0})]}),i.jsxs("div",{style:{marginBottom:"24px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Company/Organization"}),i.jsx("input",{type:"text",value:L.company||"",onChange:j=>Z({...L,company:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},placeholder:"e.g. Google, Acme Corp, or Personal Friend"}),i.jsx("span",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px",display:"block"},children:"Where you worked together (or context for personal references)"})]}),L.consent_agreed&&L.consent_signature&&i.jsxs("div",{style:{marginBottom:"24px",padding:"15px",backgroundColor:"#f0fdf4",border:"1px solid #86efac",borderRadius:"6px"},children:[i.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:"600",color:"#166534"},children:" Consent Form Completed"}),L.consent_signed_at&&i.jsxs("p",{style:{margin:"5px 0",fontSize:"13px",color:"#166534"},children:[i.jsx("strong",{children:"Date Signed:"})," ",new Date(L.consent_signed_at).toLocaleString("en-NZ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Pacific/Auckland"})]}),L.consent_signature&&i.jsxs("p",{style:{margin:"5px 0",fontSize:"13px",color:"#166534"},children:[i.jsx("strong",{children:"Signature:"})," ",L.consent_signature]}),i.jsx("button",{onClick:gd,style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#8b5cf6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:" Download Consent Form"})]}),i.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[i.jsx("button",{onClick:()=>Z(null),style:{padding:"10px 20px",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancel"}),i.jsx("button",{onClick:hd,style:{padding:"10px 20px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Save Changes"})]})]})}),T&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>B(null),children:i.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"30px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},onClick:j=>j.stopPropagation(),children:[i.jsx("h2",{style:{marginTop:0,marginBottom:"24px",color:"#1f2937"},children:"Candidate Details"}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"First Name *"}),i.jsx("input",{type:"text",value:T.candidate_first_name,onChange:j=>B({...T,candidate_first_name:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},required:!0})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Last Name *"}),i.jsx("input",{type:"text",value:T.candidate_last_name,onChange:j=>B({...T,candidate_last_name:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},required:!0})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Email *"}),i.jsx("input",{type:"email",value:T.candidate_email,onChange:j=>B({...T,candidate_email:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},required:!0})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Phone"}),i.jsx("input",{type:"tel",value:T.candidate_phone_number||"",onChange:j=>B({...T,candidate_phone_number:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"}})]}),i.jsxs("div",{style:{marginBottom:"24px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Position Applied For *"}),i.jsx("input",{type:"text",value:T.position_applied_for,onChange:j=>B({...T,position_applied_for:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},required:!0})]}),(T.authorization_status==="authorized"||T.authorization_status==="verbal")&&i.jsxs("div",{style:{marginBottom:"24px",padding:"15px",backgroundColor:"#f0fdf4",border:"1px solid #86efac",borderRadius:"6px"},children:[i.jsx("h3",{style:{margin:"0 0 12px 0",color:"#15803d",fontSize:"16px"},children:" Authorization Complete"}),i.jsxs("div",{style:{fontSize:"14px",color:"#166534"},children:[i.jsxs("p",{style:{margin:"5px 0"},children:[i.jsx("strong",{children:"Method:"})," ",T.authorization_method==="online"?"Online Form":"Verbal Authorization"]}),T.authorization_completed_at&&i.jsxs("p",{style:{margin:"5px 0"},children:[i.jsx("strong",{children:"Completed:"})," ",new Date(T.authorization_completed_at).toLocaleString("en-NZ",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Pacific/Auckland"})]}),T.authorization_signature&&i.jsxs("p",{style:{margin:"5px 0"},children:[i.jsx("strong",{children:"Signature:"})," ",T.authorization_signature]}),i.jsx("button",{onClick:md,style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#15803d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:" Download Authorization Form"})]})]}),T.authorization_status==="pending"&&i.jsx("div",{style:{marginBottom:"24px",padding:"15px",backgroundColor:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"6px"},children:i.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#92400e"},children:[" ",i.jsx("strong",{children:"Authorization Pending"})," - Waiting for candidate to complete authorization"]})}),!T.authorization_status&&i.jsx("div",{style:{marginBottom:"24px",padding:"15px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px"},children:i.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#991b1b"},children:[" ",i.jsx("strong",{children:"Authorization Required"})," - Send authorization request before contacting referees"]})}),i.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[i.jsx("button",{onClick:()=>B(null),style:{padding:"10px 20px",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancel"}),i.jsx("button",{onClick:xd,style:{padding:"10px 20px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Save Changes"})]})]})})]})},lm=({requestId:e,candidateName:t,positionAppliedFor:n,apiUrl:r="http://localhost:5001/api",onBack:o,onSuccess:l})=>{const[s,a]=x.useState([]),[u,c]=x.useState(!0),[m,h]=x.useState(!1),[g,k]=x.useState(!1),[w,v]=x.useState(""),[E,f]=x.useState(""),[d,p]=x.useState(""),[C,_]=x.useState(`Authorization Required: Reference Check for ${n}`),[F,D]=x.useState(""),[I,q]=x.useState(`Reference Request for ${t}`),[Y,L]=x.useState(""),[Z,Q]=x.useState("");x.useEffect(()=>{T(),z()},[e]);const z=()=>{const U=t||"{candidate_first_name} {candidate_last_name}",S=n||"{position}";D(`Dear ${U},

We would like to conduct reference checks as part of your application for the position of ${S}.

To proceed, we need your authorization to contact your professional referees. This is a standard part of our hiring process.

What you're authorizing:
 Permission to contact your professional referees
 Collection of feedback about your work history and performance  
 Use of this information in our hiring decision

Please click the link below to review and authorize:

{authorization_link}

This link is unique to you and will expire once used.

If you have any questions, please contact us.

Best regards,
The Hiring Team`),L(`Hi {referee_first_name},

You've been asked to provide a reference for ${U}, who is applying for the position of ${S}.

Please click the link below to complete the reference check. This should take approximately 10-15 minutes:

{reference_link}

This link will expire in 30 days.

If you have any questions, please don't hesitate to reach out.

Thank you for your time!

Best regards`),Q(`Hi {referee_first_name}, you've been asked to provide a reference for ${U} (${S}). Complete here: {reference_link} - Expires in 30 days.`)},T=async()=>{var U,S;c(!0),v("");try{const N=await fetch(`${r}/requests/${e}`),$=await N.json();if(!N.ok)throw new Error($.error||"Failed to fetch referees");a($.referees||[]),f(((U=$.request)==null?void 0:U.candidate_email)||""),p(((S=$.request)==null?void 0:S.authorization_status)||"pending")}catch(N){const $=N instanceof Error?N.message:"An error occurred";v($)}finally{c(!1)}},B=async()=>{if(confirm(`Send authorization request to ${t}?

They will receive an email at: ${E}

 Note: Only the most recent email link will work. Previous links will be invalidated.`)){k(!0),v("");try{const U=await fetch(`${r}/requests/${e}/send-authorization`,{method:"POST",headers:{"Content-Type":"application/json"}}),S=await U.json();if(!U.ok)throw new Error(S.error||"Failed to send authorization");alert(` Authorization request sent to ${t}!

They will receive an email shortly. Only this latest link will work - any previous authorization links are now invalid.`),l?l():o&&o()}catch(U){const S=U instanceof Error?U.message:"An error occurred";v(`Authorization Error: ${S}`),alert(` Error: ${S}`)}finally{k(!1)}}};return u?i.jsx("div",{className:"loading",children:"Loading referees..."}):i.jsxs("div",{className:"send-invitations",children:[i.jsx("button",{onClick:o,className:"btn-back",children:" Back to Referees"}),i.jsx("h2",{children:"Send Reference Check Invitations"}),i.jsx("p",{className:"help-text",children:d==="authorized"||d==="verbal"?i.jsxs("span",{style:{color:"#059669",fontWeight:"500"},children:[" Candidate has authorized! Referee invitations were automatically sent to ",s.length," referee(s)."]}):`Review the messages that will be automatically sent to ${s.length} referee(s) after authorization`}),i.jsxs("div",{style:{background:"#f7fafc",padding:"15px",borderRadius:"6px",marginBottom:"30px",border:"1px solid #e2e8f0"},children:[i.jsx("strong",{children:"Candidate:"})," ",t||"Loading...",i.jsx("br",{}),i.jsx("strong",{children:"Position:"})," ",n||"Loading...",i.jsx("br",{}),i.jsx("strong",{children:"Email:"})," ",E||"Loading...",i.jsx("br",{}),i.jsx("strong",{children:"Authorization Status:"})," ",d==="authorized"?" Authorized":d==="verbal"?" Authorized (Verbal)":" Pending",i.jsx("br",{}),i.jsx("strong",{children:"Referees:"})," ",s.length]}),w&&i.jsx("div",{className:"alert alert-error",children:w}),d!=="authorized"&&d!=="verbal"&&i.jsxs("div",{style:{marginBottom:"30px",padding:"15px",borderLeft:"4px solid #f59e0b",background:"#fefce8",borderRadius:"6px"},children:[i.jsx("p",{style:{margin:0,color:"#d97706",fontWeight:"500"},children:" Authorization Required"}),i.jsx("p",{style:{margin:"10px 0 0 0",fontSize:"14px",color:"#92400e"},children:"The candidate will be sent an email to authorise the reference checks before the referees are contacted."})]}),i.jsxs("div",{style:{marginBottom:"30px"},children:[i.jsx("h3",{children:"Referee/s:"}),i.jsx("ul",{style:{listStyle:"none",padding:0},children:s.map(U=>i.jsxs("li",{style:{padding:"10px",background:"#fff",border:"1px solid #e2e8f0",borderRadius:"4px",marginBottom:"8px"},children:[i.jsxs("strong",{children:[U.first_name," ",U.last_name]}),i.jsx("br",{})," ",U.email,U.phone_number&&i.jsxs(i.Fragment,{children:[i.jsx("br",{})," ",U.phone_number]})]},U.id))})]}),i.jsx("div",{className:"form-actions",style:{marginTop:"40px",textAlign:"center"},children:d==="authorized"||d==="verbal"?i.jsxs("div",{style:{background:"#d1fae5",padding:"20px",borderRadius:"8px",border:"2px solid #10b981",marginBottom:"20px"},children:[i.jsx("p",{style:{margin:0,color:"#059669",fontWeight:"500",fontSize:"16px"},children:" Referee invitations were automatically sent when the candidate authorized!"}),i.jsx("p",{style:{margin:"10px 0 0 0",fontSize:"14px",color:"#047857"},children:"Check your dashboard to see referee responses as they come in."})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:B,disabled:g,className:"btn-primary",style:{fontSize:"18px",padding:"15px 40px",marginBottom:"20px"},children:g?"Sending...":" Begin Reference Checking"}),i.jsx("div",{children:i.jsx("button",{onClick:o,className:"btn-secondary",children:" Back to Dashboard"})})]})})]})};function sm({title:e,message:t,confirmText:n="Confirm",cancelText:r="Cancel",onConfirm:o,onCancel:l,isDestructive:s=!1}){return i.jsx("div",{className:"modal-overlay",onClick:l,children:i.jsxs("div",{className:"modal-content confirm-dialog",onClick:a=>a.stopPropagation(),children:[i.jsx("div",{className:"modal-header",children:i.jsx("h2",{children:e})}),i.jsx("div",{className:"modal-body",children:i.jsx("p",{children:t})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{onClick:l,className:"btn-secondary",children:r}),i.jsx("button",{onClick:o,className:s?"btn-danger":"btn-primary",children:n})]})]})})}function am({apiUrl:e,userId:t,onSelectTemplate:n,onCreateNew:r}){const[o,l]=x.useState([]),[s,a]=x.useState(!0),[u,c]=x.useState(""),[m,h]=x.useState("all"),[g,k]=x.useState(""),[w,v]=x.useState(null),[E,f]=x.useState(!1),[d,p]=x.useState(null),[C,_]=x.useState(!1),[F,D]=x.useState(null);x.useEffect(()=>{I()},[m,t]);const I=async()=>{try{a(!0),c("");const S=new URLSearchParams({user_id:t,type:m});g&&S.append("search",g);const N=await fetch(`${e}/templates?${S}`);if(!N.ok)throw new Error("Failed to fetch templates");const $=await N.json();l($.templates||[])}catch(S){const N=S instanceof Error?S.message:"An error occurred";c(N)}finally{a(!1)}},q=()=>{I()},Y=S=>{v(S),f(!0)},L=async()=>{if(d)try{_(!0);const S=await fetch(`${e}/templates/${d.templateId}?user_id=${t}`,{method:"DELETE"});if(!S.ok){const N=await S.json();throw new Error(N.error||"Failed to delete template")}await I(),p(null)}catch(S){c(S instanceof Error?S.message:"Failed to delete template")}finally{_(!1)}},Z=()=>{f(!1),v(null)},Q=S=>{n(S.id,S.name)},z=(S,N)=>{if(N.stopPropagation(),F===S){D(null);return}D(S)};x.useEffect(()=>{const S=N=>{F&&!N.target.closest(".actions-menu, .btn-action")&&D(null)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[F]);const T=async S=>{D(null);try{c("");const N=await fetch(`${e}/templates/${S.id}/clone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,new_name:`${S.name} (Copy)`})});if(!N.ok){const H=await N.json();throw new Error(H.error||"Failed to duplicate template")}const $=await N.json();alert(` Template duplicated successfully!

New template: "${$.template.name}"`),await I()}catch(N){const $=N instanceof Error?N.message:"Failed to duplicate template";c($),alert(` Error: ${$}`)}},B=S=>({general:"badge-general",management:"badge-management",technical:"badge-technical",sales:"badge-sales",entry_level:"badge-entry",executive:"badge-executive",academic:"badge-academic",custom:"badge-custom"})[S]||"badge-default",U=S=>({general:"General",management:"Management",technical:"Technical",sales:"Sales",entry_level:"Entry Level",executive:"Executive",academic:"Academic",custom:"Custom"})[S]||S;return s?i.jsx("div",{className:"template-library loading",children:i.jsxs("div",{className:"loading-spinner",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Loading templates..."})]})}):i.jsxs("div",{className:"template-library",children:[i.jsx("header",{className:"template-library-header",children:i.jsxs("div",{className:"header-content",children:[i.jsx("h2",{children:" Select a Reference Template"}),i.jsx("p",{children:"Choose a template to get started, or create your own custom template"})]})}),i.jsxs("div",{className:"template-filters",children:[i.jsxs("div",{className:"filter-buttons",children:[i.jsxs("button",{className:`filter-btn ${m==="all"?"active":""}`,onClick:()=>h("all"),children:["All Templates (",o.length,")"]}),i.jsx("button",{className:`filter-btn ${m==="global"?"active":""}`,onClick:()=>h("global"),children:" Pre-Built"}),i.jsx("button",{className:`filter-btn ${m==="organization"?"active":""}`,onClick:()=>h("organization"),children:" My Custom"})]}),i.jsxs("div",{className:"search-bar",children:[i.jsx("input",{type:"text",placeholder:"Search templates...",value:g,onChange:S=>k(S.target.value),onKeyPress:S=>S.key==="Enter"&&q()}),i.jsx("button",{onClick:q,className:"btn-search",children:" Search"})]}),r&&i.jsx("button",{onClick:r,className:"btn-create-template",children:"+ Create Custom Template"})]}),u&&i.jsxs("div",{className:"error-message",children:[i.jsxs("p",{children:[" ",u]}),i.jsx("button",{onClick:I,children:"Try Again"})]}),o.length===0&&!s&&!u&&i.jsxs("div",{className:"no-templates",children:[i.jsx("p",{children:"No templates found"}),g&&i.jsx("p",{children:"Try adjusting your search terms"})]}),i.jsx("div",{className:"template-list-container",children:i.jsxs("table",{className:"template-list-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Template Name"}),i.jsx("th",{children:"Category"}),i.jsx("th",{children:"Description"}),i.jsx("th",{style:{textAlign:"center"},children:"Questions"}),i.jsx("th",{style:{textAlign:"center"},children:"Actions"})]})}),i.jsx("tbody",{children:o.map(S=>i.jsxs("tr",{className:"template-list-row",children:[i.jsx("td",{children:i.jsxs("div",{className:"template-name-cell-stacked",children:[i.jsx("strong",{children:S.name}),S.is_global&&i.jsx("span",{className:"badge badge-global",style:{fontSize:"10px",marginTop:"4px"},children:"Global"})]})}),i.jsx("td",{children:i.jsx("span",{className:`badge ${B(S.category)}`,children:U(S.category)})}),i.jsx("td",{children:i.jsx("span",{className:"template-description-cell",title:S.description||"No description available",children:S.description||"No description available"})}),i.jsx("td",{style:{textAlign:"center"},children:i.jsx("strong",{children:S.schema_json.fields.length})}),i.jsx("td",{style:{textAlign:"center"},children:i.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[i.jsx("button",{onClick:N=>z(S.id,N),className:"btn-action",style:{background:"#6366f1",color:"white"},children:""}),F===S.id&&i.jsxs("div",{className:"actions-menu",children:[i.jsx("button",{onClick:()=>{D(null),Q(S)},style:{color:"#6366f1",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"8px"},children:" Use This Template"}),i.jsx("button",{onClick:()=>{T(S)},style:{color:"#2563eb"},children:" Duplicate Template"}),i.jsx("button",{onClick:()=>{D(null),Y(S)},style:{color:"#8b5cf6"},children:" Preview Questions"}),!S.is_global&&i.jsx("button",{onClick:()=>{D(null),p({templateId:S.id,templateName:S.name})},style:{color:"#dc2626",borderTop:"1px solid #e5e7eb",paddingTop:"8px",marginTop:"8px"},children:" Delete Template"})]})]})})]},S.id))})]})}),E&&w&&i.jsx("div",{className:"modal-overlay",onClick:Z,children:i.jsxs("div",{className:"modal-content template-preview-modal",onClick:S=>S.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:w.name}),i.jsx("button",{onClick:Z,className:"btn-close",children:""})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"preview-metadata",children:[i.jsx("span",{className:`badge ${B(w.category)}`,children:U(w.category)}),w.is_global&&i.jsx("span",{className:"badge badge-global",children:"Global Template"})]}),i.jsx("p",{className:"preview-description",children:w.description}),i.jsxs("div",{className:"preview-questions",children:[i.jsxs("h3",{children:["Questions (",w.schema_json.fields.length,")"]}),w.schema_json.fields.map((S,N)=>i.jsxs("div",{className:"preview-question",children:[i.jsxs("div",{className:"question-number",children:[N+1,"."]}),i.jsxs("div",{className:"question-content",children:[i.jsx("p",{className:"question-text",children:S.text}),i.jsxs("div",{className:"question-meta",children:[S.required&&i.jsx("span",{className:"badge badge-required",children:"Required"}),i.jsx("span",{className:"badge badge-type",children:S.type==="textarea"?"Long Answer":S.type==="scale"?"Rating Scale":"Short Answer"})]})]})]},S.id))]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{onClick:Z,className:"btn-secondary",children:"Close"}),i.jsx("button",{onClick:()=>{Z(),Q(w)},className:"btn-primary",children:"Use This Template"})]})]})}),d&&i.jsx(sm,{title:"Delete Template?",message:`Are you sure you want to delete "${d.templateName}"? This action cannot be undone.`,confirmText:C?"Deleting...":"Delete",cancelText:"Cancel",onConfirm:L,onCancel:()=>p(null),isDestructive:!0})]})}const ki=[{id:"lib_wp_1",text:"How would you describe the candidate's overall work performance?",category:"Work Performance",type:"textarea",required:!0},{id:"lib_wp_2",text:"What were the candidate's key strengths in their role?",category:"Work Performance",type:"textarea",required:!0},{id:"lib_wp_3",text:"What areas could the candidate improve upon?",category:"Work Performance",type:"textarea",required:!0},{id:"lib_wp_4",text:"On a scale of 1-5, how would you rate their work quality?",category:"Work Performance",type:"scale",required:!0},{id:"lib_wp_5",text:"Did the candidate consistently meet deadlines and deliverables?",category:"Work Performance",type:"textarea",required:!0},{id:"lib_ct_1",text:"How effective was the candidate at communicating with team members?",category:"Communication",type:"textarea",required:!0},{id:"lib_ct_2",text:"On a scale of 1-5, how would you rate their teamwork skills?",category:"Communication",type:"scale",required:!0},{id:"lib_ct_3",text:"How did the candidate handle conflicts or disagreements?",category:"Communication",type:"textarea",required:!1},{id:"lib_ct_4",text:"Was the candidate comfortable presenting ideas to stakeholders?",category:"Communication",type:"textarea",required:!1},{id:"lib_li_1",text:"Did the candidate demonstrate leadership qualities?",category:"Leadership",type:"textarea",required:!1},{id:"lib_li_2",text:"Can you provide an example of when they took initiative?",category:"Leadership",type:"textarea",required:!1},{id:"lib_li_3",text:"How did they handle responsibility and accountability?",category:"Leadership",type:"textarea",required:!0},{id:"lib_li_4",text:"On a scale of 1-5, how proactive were they?",category:"Leadership",type:"scale",required:!1},{id:"lib_ra_1",text:"How would you rate the candidate's punctuality and attendance?",category:"Reliability",type:"textarea",required:!0},{id:"lib_ra_2",text:"Could you rely on them to follow through on commitments?",category:"Reliability",type:"textarea",required:!0},{id:"lib_ra_3",text:"On a scale of 1-5, how dependable were they?",category:"Reliability",type:"scale",required:!0},{id:"lib_pd_1",text:"How receptive was the candidate to feedback and coaching?",category:"Professional Development",type:"textarea",required:!0},{id:"lib_pd_2",text:"Did they show interest in learning and professional growth?",category:"Professional Development",type:"textarea",required:!1},{id:"lib_pd_3",text:"What skills or capabilities did they develop during their time with you?",category:"Professional Development",type:"textarea",required:!1},{id:"lib_cf_1",text:"How well did the candidate fit with your organization's culture?",category:"Cultural Fit",type:"textarea",required:!0},{id:"lib_cf_2",text:"What type of work environment do they thrive in?",category:"Cultural Fit",type:"textarea",required:!1},{id:"lib_cf_3",text:"On a scale of 1-5, how would you rate their cultural fit?",category:"Cultural Fit",type:"scale",required:!1},{id:"lib_rec_1",text:"Would you rehire this candidate if given the opportunity?",category:"Recommendation",type:"textarea",required:!0},{id:"lib_rec_2",text:"On a scale of 1-5, how strongly would you recommend this candidate?",category:"Recommendation",type:"scale",required:!0},{id:"lib_rec_3",text:"Is there anything else you would like to add about this candidate?",category:"Recommendation",type:"textarea",required:!1},{id:"lib_rfl_1",text:"What was the reason for the candidate leaving your organization?",category:"Employment History",type:"textarea",required:!0},{id:"lib_rfl_2",text:"Would you consider them eligible for rehire?",category:"Employment History",type:"textarea",required:!0}];function um({onAddQuestion:e,onClose:t}){const[n,r]=x.useState("all"),[o,l]=x.useState(""),s=["all",...Array.from(new Set(ki.map(c=>c.category)))],a=ki.filter(c=>{const m=n==="all"||c.category===n,h=c.text.toLowerCase().includes(o.toLowerCase())||c.category.toLowerCase().includes(o.toLowerCase());return m&&h}),u=c=>{const m={...c,id:`q_${Date.now()}_${Math.random().toString(36).substr(2,9)}`};e(m)};return i.jsx("div",{className:"modal-overlay",onClick:t,children:i.jsxs("div",{className:"modal-content question-library-modal",onClick:c=>c.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:" Question Library"}),i.jsx("button",{onClick:t,className:"btn-close",children:""})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{className:"library-intro",children:["Choose from ",ki.length," pre-built questions to add to your template"]}),i.jsxs("div",{className:"library-filters",children:[i.jsx("input",{type:"text",placeholder:"Search questions...",value:o,onChange:c=>l(c.target.value),className:"search-input"}),i.jsx("select",{value:n,onChange:c=>r(c.target.value),className:"category-filter",children:s.map(c=>i.jsx("option",{value:c,children:c==="all"?"All Categories":c},c))})]}),i.jsx("div",{className:"library-questions",children:a.length===0?i.jsx("div",{className:"no-results",children:i.jsx("p",{children:"No questions found matching your criteria"})}):a.map((c,m)=>i.jsxs("div",{className:"library-question-item",children:[i.jsxs("div",{className:"question-details",children:[i.jsx("span",{className:"question-category",children:c.category}),i.jsx("p",{className:"question-text",children:c.text}),i.jsxs("div",{className:"question-meta",children:[i.jsx("span",{className:"meta-badge",children:c.type==="textarea"?"Long Text":c.type==="scale"?"Rating (1-5)":"Short Text"}),c.required&&i.jsx("span",{className:"meta-badge required",children:"Required"})]})]}),i.jsx("button",{onClick:()=>u(c),className:"btn-add-from-library",title:"Add to template",children:"+ Add"})]},`${c.id}-${m}`))})]}),i.jsx("div",{className:"modal-footer",children:i.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"})})]})})}function cm({apiUrl:e,userId:t,templateId:n,onSave:r,onCancel:o}){const[l,s]=x.useState(""),[a,u]=x.useState(""),[c,m]=x.useState([]),[h,g]=x.useState(!1),[k,w]=x.useState(!1),[v,E]=x.useState(""),[f,d]=x.useState(null),[p,C]=x.useState(!1),[_,F]=x.useState(null);x.useEffect(()=>{n?D():q()},[n]);const D=async()=>{if(n)try{g(!0);const N=await fetch(`${e}/templates/${n}?user_id=${t}`);if(!N.ok)throw new Error("Failed to fetch template");const H=(await N.json()).template;s(H.name),u(H.description||""),m(H.schema_json.fields.map(K=>({id:K.id,text:K.text,required:K.required,type:K.type||"text",category:K.category||"Custom"})))}catch(N){E(N instanceof Error?N.message:"Failed to load template")}finally{g(!1)}},I=()=>`q_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,q=N=>{const $={id:I(),text:"",required:!1,type:"text",category:"Custom"};if(N!==void 0){const H=[...c];H.splice(N,0,$),m(H)}else m([...c,$])},Y=N=>{const $={id:I(),text:N.text,required:N.required,type:N.type,category:N.category};if(_!==null){const H=[...c],K=_-1;K>=0&&!H[K].text.trim()?H[K]=$:H.splice(_,0,$),m(H)}else m([...c,$]);C(!1),F(null)},L=(N,$,H)=>{const K=[...c];K[N]={...K[N],[$]:H},m(K)},Z=N=>{if(c.length===1){E("Template must have at least one question");return}m(c.filter(($,H)=>H!==N))},Q=(N,$)=>{const H=[...c],[K]=H.splice(N,1);H.splice($,0,K),m(H)},z=N=>{d(N)},T=(N,$)=>{N.preventDefault(),!(f===null||f===$)&&(Q(f,$),d($))},B=()=>{d(null)},U=()=>{if(!l.trim())return E("Template name is required"),!1;if(c.length===0)return E("Template must have at least one question"),!1;if(c.length>20)return E("Template cannot have more than 20 questions"),!1;if(c.filter(be=>be.text.trim()).length===0)return E("Template must have at least one question with text"),!1;if(c.filter(be=>be.required).length===0)return E("Template must have at least one required question"),!1;const H=c.map(be=>be.id),K=new Set(H);return H.length!==K.size?(E("Duplicate question IDs detected. Please try again."),!1):!0},S=async()=>{if(E(""),!!U())try{w(!0);const N=c.filter(pe=>pe.text.trim()),$={title:l,description:a,type:"chat",fields:N.map(pe=>({id:pe.id,text:pe.text,required:pe.required,type:pe.type,category:pe.category||"Custom"}))},H={user_id:t,name:l,description:a,type:"chat",category:"custom",schema_json:$};let K;if(n?K=await fetch(`${e}/templates/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)}):K=await fetch(`${e}/templates`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)}),!K.ok){const pe=await K.json();throw new Error(pe.error||"Failed to save template")}const be=await K.json();r(be.template.id)}catch(N){E(N instanceof Error?N.message:"Failed to save template")}finally{w(!1)}};return h?i.jsx("div",{className:"template-builder loading",children:i.jsxs("div",{className:"loading-spinner",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Loading template..."})]})}):i.jsxs("div",{className:"template-builder",children:[i.jsxs("div",{className:"builder-header",children:[i.jsx("h2",{children:n?"Edit Template":"Create Custom Template"}),i.jsx("p",{children:"Build your own custom reference check template with the questions you need"})]}),v&&i.jsxs("div",{className:"error-banner",children:[i.jsxs("span",{children:[" ",v]}),i.jsx("button",{onClick:()=>E(""),children:""})]}),i.jsxs("div",{className:"builder-content",children:[i.jsxs("section",{className:"builder-section",children:[i.jsx("h3",{children:"Template Information"}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{children:["Template Name ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",value:l,onChange:N=>s(N.target.value),placeholder:"e.g., Custom Sales Reference",maxLength:100}),i.jsxs("span",{className:"help-text",children:[l.length,"/100 characters"]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Description"}),i.jsx("textarea",{value:a,onChange:N=>u(N.target.value),placeholder:"Describe what this template is for...",rows:3,maxLength:300}),i.jsxs("span",{className:"help-text",children:[a.length,"/300 characters"]})]})]}),i.jsxs("section",{className:"builder-section",children:[i.jsxs("h3",{children:["Questions (",c.length,"/20)"]}),i.jsx("div",{className:"questions-list",children:c.map((N,$)=>i.jsxs("div",{className:`question-editor ${f===$?"dragging":""}`,draggable:!0,onDragStart:()=>z($),onDragOver:H=>T(H,$),onDragEnd:B,children:[i.jsxs("div",{className:"question-header",children:[i.jsx("div",{className:"drag-handle",title:"Drag to reorder",children:""}),i.jsxs("span",{className:"question-number",children:["Question ",$+1]}),i.jsx("span",{className:`question-category-badge ${N.category==="Custom"?"custom":"library"}`,children:N.category||"Custom"}),i.jsxs("div",{className:"question-actions",children:[i.jsx("button",{onClick:()=>{F($+1),C(!0)},className:"btn-library-small",title:"Add question from library",disabled:c.length>=20,children:""}),i.jsx("button",{onClick:()=>q($+1),className:"btn-add-custom-small",title:"Add custom question",disabled:c.length>=20,children:"+"}),i.jsx("button",{onClick:()=>Z($),className:"btn-delete-question",title:"Delete question",disabled:c.length===1,children:""})]})]}),i.jsxs("div",{className:"question-body",children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{children:["Question Text ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("textarea",{value:N.text,onChange:H=>L($,"text",H.target.value),placeholder:"Enter your question here...",rows:2,maxLength:500}),i.jsxs("span",{className:"help-text",children:[N.text.length,"/500 characters"]})]}),i.jsxs("div",{className:"question-options",children:[i.jsx("label",{className:"inline-label",children:"Answer Type"}),i.jsxs("select",{value:N.type,onChange:H=>L($,"type",H.target.value),className:"type-select",children:[i.jsx("option",{value:"text",children:"Short Text"}),i.jsx("option",{value:"textarea",children:"Long Text (Paragraph)"}),i.jsx("option",{value:"scale",children:"Rating Scale (1-5)"})]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:N.required,onChange:H=>L($,"required",H.target.checked)}),i.jsx("span",{children:"Required Question"})]})]})]})]},N.id))}),c.length<20&&i.jsxs("div",{className:"add-question-buttons",children:[i.jsx("button",{onClick:()=>{F(c.length),C(!0)},className:"btn-library",children:"+ Add Template Question"}),i.jsx("button",{onClick:()=>q(),className:"btn-add-question",children:"+ Add Custom Question"})]})]}),i.jsxs("section",{className:"builder-section validation-summary",children:[i.jsx("h4",{children:"Template Summary"}),i.jsxs("ul",{children:[i.jsxs("li",{className:l.trim()?"valid":"invalid",children:[l.trim()?"":""," Template name"]}),i.jsxs("li",{className:c.length>0?"valid":"invalid",children:[c.length>0?"":""," At least 1 question (",c.length," added)"]}),i.jsxs("li",{className:c.filter(N=>N.required).length>0?"valid":"invalid",children:[c.filter(N=>N.required).length>0?"":""," At least 1 required question"]}),i.jsxs("li",{className:c.every(N=>N.text.trim())?"valid":"invalid",children:[c.every(N=>N.text.trim())?"":""," All questions have text"]})]})]})]}),i.jsxs("div",{className:"builder-footer",children:[i.jsx("button",{onClick:o,className:"btn-secondary",disabled:k,children:"Cancel"}),i.jsx("button",{onClick:S,className:"btn-primary",disabled:k,children:k?"Saving...":n?"Update Template":"Create Template"})]}),p&&i.jsx(um,{onAddQuestion:Y,onClose:()=>C(!1)})]})}const dm=({userId:e,apiUrl:t="http://localhost:5001/api",onBack:n})=>{const[r,o]=x.useState({contact_name:"",contact_mobile:"",contact_email:"",company_name:"",link_expiry_days:5,email_template:"",sms_template:""}),[l,s]=x.useState(!0),[a,u]=x.useState(!1),[c,m]=x.useState(""),[h,g]=x.useState("");x.useEffect(()=>{k()},[e]);const k=async()=>{s(!0),m("");try{const v=await fetch(`${t}/users/${e}/settings`),E=await v.json();if(!v.ok)throw new Error(E.error||"Failed to fetch settings");E.settings&&o(E.settings)}catch(v){const E=v instanceof Error?v.message:"An error occurred";m(E)}finally{s(!1)}},w=async()=>{u(!0),m(""),g("");try{const v=await fetch(`${t}/users/${e}/settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),E=await v.json();if(!v.ok)throw new Error(E.error||"Failed to save settings");g(" Settings saved successfully!"),setTimeout(()=>g(""),3e3)}catch(v){const E=v instanceof Error?v.message:"An error occurred";m(E)}finally{u(!1)}};return l?i.jsx("div",{style:{padding:"40px",textAlign:"center"},children:i.jsx("div",{style:{fontSize:"18px",color:"#6b7280"},children:"Loading settings..."})}):i.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[i.jsxs("div",{style:{marginBottom:"30px"},children:[n&&i.jsx("button",{onClick:n,style:{padding:"8px 16px",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",marginBottom:"20px"},children:" Back"}),i.jsx("h1",{style:{margin:"0 0 10px 0",color:"#1f2937",fontSize:"32px"},children:" Settings"}),i.jsx("p",{style:{margin:0,color:"#6b7280",fontSize:"16px"},children:"Manage your contact information and messaging preferences"})]}),c&&i.jsxs("div",{style:{padding:"15px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",color:"#991b1b",marginBottom:"20px"},children:[" ",c]}),h&&i.jsx("div",{style:{padding:"15px",backgroundColor:"#f0fdf4",border:"1px solid #86efac",borderRadius:"6px",color:"#15803d",marginBottom:"20px"},children:h}),i.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",border:"1px solid #e5e7eb",marginBottom:"20px"},children:[i.jsx("h2",{style:{margin:"0 0 20px 0",color:"#1f2937",fontSize:"20px"},children:" Contact Information"}),i.jsx("p",{style:{margin:"0 0 20px 0",color:"#6b7280",fontSize:"14px"},children:"This information will be displayed in emails sent to referees when they have questions."}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Your Name *"}),i.jsx("input",{type:"text",value:r.contact_name,onChange:v=>o({...r,contact_name:v.target.value}),placeholder:"e.g., John Smith",style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"}})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Mobile Number *"}),i.jsx("input",{type:"tel",value:r.contact_mobile,onChange:v=>o({...r,contact_mobile:v.target.value}),placeholder:"e.g., +64 21 123 4567",required:!0,style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"}})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Email Address *"}),i.jsx("input",{type:"email",value:r.contact_email,onChange:v=>o({...r,contact_email:v.target.value}),placeholder:"e.g., john@company.com",required:!0,style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"}})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Company Name *"}),i.jsx("input",{type:"text",value:r.company_name,onChange:v=>o({...r,company_name:v.target.value}),placeholder:"e.g., Acme Corporation",required:!0,style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"}})]})]}),i.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",border:"1px solid #e5e7eb",marginBottom:"20px"},children:[i.jsx("h2",{style:{margin:"0 0 20px 0",color:"#1f2937",fontSize:"20px"},children:" Email Message Template"}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Email Message"}),i.jsx("textarea",{value:`Hi {referee_first_name},

You've been asked to provide a reference for {candidate_first_name} {candidate_last_name}, who is applying for the position of {position} through {company_name}.

Please click the link below to complete the reference check. This should take approximately 10-15 minutes.

{reference_link}

This link will expire in {expires_in_days} days.

If you have any questions, please don't hesitate to reach out to:
{contact_name}
{contact_mobile}
{contact_email}
{company_name}

Thank you for your time!

Best regards`,readOnly:!0,rows:18,style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px",fontFamily:"inherit",resize:"vertical",backgroundColor:"#f9fafb",color:"#6b7280"}}),i.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"12px",color:"#6b7280",fontStyle:"italic"},children:"Not configurable at this stage"})]})]}),i.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",border:"1px solid #e5e7eb",marginBottom:"20px"},children:[i.jsx("h2",{style:{margin:"0 0 20px 0",color:"#1f2937",fontSize:"20px"},children:" SMS Message Template"}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"SMS Message"}),i.jsx("textarea",{value:"Hi {referee_first_name}, {candidate_first_name} has provided your details to be a referee for them. Please click the link to complete the reference {reference_link}, it will take 10 - 15 minutes. Thanks, {contact_name}, {company_name}",readOnly:!0,rows:3,style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px",fontFamily:"inherit",resize:"vertical",backgroundColor:"#f9fafb",color:"#6b7280"}}),i.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"12px",color:"#6b7280",fontStyle:"italic"},children:"Not configurable at this stage"})]})]}),i.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",border:"1px solid #e5e7eb",marginBottom:"20px"},children:[i.jsx("h2",{style:{margin:"0 0 20px 0",color:"#1f2937",fontSize:"20px"},children:" Reminders"}),i.jsx("p",{style:{margin:"0 0 20px 0",color:"#6b7280",fontSize:"14px"},children:"Following the first email, the referee will then receive a follow up email the next morning, then the text message reminders on the following 2 days before their link expires."})]}),i.jsx("div",{style:{display:"flex",gap:"12px"},children:i.jsx("button",{onClick:w,disabled:a||!r.contact_name||!r.contact_mobile||!r.contact_email||!r.company_name,style:{padding:"12px 24px",backgroundColor:r.contact_name&&r.contact_mobile&&r.contact_email&&r.company_name&&!a?"#2563eb":"#9ca3af",color:"white",border:"none",borderRadius:"6px",cursor:r.contact_name&&r.contact_mobile&&r.contact_email&&r.company_name&&!a?"pointer":"not-allowed",fontSize:"16px",fontWeight:"600",width:"100%"},children:a?"Saving...":" Save Settings"})})]})},fm=({userId:e,templateId:t,apiUrl:n="http://localhost:5001/api"})=>{const[r,o]=x.useState("list"),[l,s]=x.useState(null),[a,u]=x.useState(""),[c,m]=x.useState(""),[h,g]=x.useState(""),[k,w]=x.useState(null),[v,E]=x.useState(""),f=(L,Z)=>{w(L),E(Z),o("create")},d=()=>{o("build-template")},p=L=>{g("Template created successfully! You can now use it to create reference requests."),setTimeout(()=>{g(""),o("select-template")},2e3)},C=L=>{s(L),g("Reference request created successfully!"),o("add-referees")},_=()=>{g("Referees added successfully!"),setTimeout(()=>{g(""),l&&Y(l)},1e3)},F=()=>{g("Reference check invitations sent successfully!"),setTimeout(()=>{o("list"),s(null),u(""),m(""),g("")},2e3)},D=L=>{console.error("Error:",L)},I=()=>{s(null),u(""),m(""),g(""),w(null),E(""),o("select-template")},q=()=>{o("list"),s(null),u(""),m(""),g("")},Y=async L=>{try{const Q=await(await fetch(`${n}/requests/${L}`)).json();if(Q.request){const z=`${Q.request.candidate_first_name} ${Q.request.candidate_last_name}`;u(z),m(Q.request.position_applied_for),s(L),o("send-invitations")}}catch(Z){console.error("Failed to fetch request details:",Z)}};return i.jsxs("div",{className:"reference-request-app",children:[i.jsxs("header",{className:"app-header",children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("h1",{children:"Reference Check Management"}),i.jsx("button",{onClick:()=>o("settings"),style:{padding:"10px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px"},children:" Settings"})]}),i.jsxs("nav",{className:"breadcrumb",children:[i.jsx("button",{onClick:()=>o("list"),className:"breadcrumb-link",children:"All Requests"}),r==="select-template"&&i.jsx("span",{children:" / Select Template"}),r==="build-template"&&i.jsx("span",{children:" / Build Template"}),r==="create"&&i.jsx("span",{children:" / Create Request"}),r==="add-referees"&&i.jsx("span",{children:" / Add Referees"}),r==="send-invitations"&&i.jsx("span",{children:" / Send Invitations"}),r==="settings"&&i.jsx("span",{children:" / Settings"})]})]}),h&&i.jsx("div",{className:"alert alert-success",children:h}),i.jsxs("main",{className:"app-content",children:[r==="list"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"page-header",children:i.jsx("button",{onClick:I,className:"btn-primary",children:"+ New Reference Request"})}),i.jsx(im,{userId:e,apiUrl:n,onSelectRequest:L=>{s(L),o("add-referees")}})]}),r==="select-template"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:q,className:"btn-back",children:" Back to List"}),i.jsx(am,{apiUrl:n,userId:e,onSelectTemplate:f,onCreateNew:d})]}),r==="build-template"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>o("select-template"),className:"btn-back",children:" Back to Templates"}),i.jsx(cm,{apiUrl:n,userId:e,onSave:p,onCancel:()=>o("select-template")})]}),r==="create"&&k&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"selected-template-banner",children:[i.jsxs("span",{children:["Using template: ",i.jsx("strong",{children:v})]}),i.jsx("button",{onClick:()=>o("select-template"),className:"btn-link",children:"Change Template"})]}),i.jsx(Gh,{userId:e,templateId:k,onSuccess:C,onError:D,apiUrl:n})]}),r==="add-referees"&&l&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:q,className:"btn-back",children:" Back to List"}),i.jsx(Zh,{requestId:l,onSuccess:_,onError:D,apiUrl:n})]}),r==="send-invitations"&&l&&i.jsx(lm,{requestId:l,candidateName:a,positionAppliedFor:c,apiUrl:n,onBack:()=>o("list"),onSuccess:F}),r==="settings"&&i.jsx(dm,{userId:e,apiUrl:n,onBack:()=>o("list")})]})]})},pm=({apiUrl:e})=>{const{token:t}=sd(),[n,r]=x.useState(""),o=e||"https://api-ref.getbrindleai.com/api";return x.useEffect(()=>(t||r("No token provided. Please use the link from your email."),document.body.style.margin="0",document.body.style.padding="0",()=>{document.body.style.margin="",document.body.style.padding=""}),[t]),n?i.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center",background:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[i.jsx("h2",{style:{color:"#e53e3e"},children:" Error"}),i.jsx("p",{children:n}),i.jsx("p",{style:{fontSize:"14px",color:"#718096",marginTop:"20px"},children:"If you received this link via email, please try clicking the link again or contact the person who requested the reference."})]}):t?i.jsx(dd,{token:t,apiUrl:o}):i.jsx("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center"},children:i.jsx("p",{children:"Loading..."})})},Ba="https://api-ref.getbrindleai.com/api",hm=()=>{const[e]=Kh(),t=e.get("token"),[n,r]=x.useState(!0),[o,l]=x.useState(""),[s,a]=x.useState(""),[u,c]=x.useState(""),[m,h]=x.useState(""),[g,k]=x.useState(!1),[w,v]=x.useState(!1),[E,f]=x.useState(!1),[d,p]=x.useState(0);x.useEffect(()=>{if(!t){l("Invalid authorization link. Please check your email for the correct link."),r(!1);return}fetch(`${Ba}/public/authorization?token=${t}`).then(_=>_.json()).then(_=>{if(_.ok)a(_.candidate_name),c(_.position);else{let F=_.error||"Invalid or expired authorization link";_.hint&&(F+=`

`+_.hint),l(F)}r(!1)}).catch(_=>{console.error("Authorization fetch error:",_),l("Failed to load authorization. Please try again or contact support."),r(!1)})},[t]);const C=async _=>{if(_.preventDefault(),!m.trim()){alert("Please enter your full name as signature");return}if(!g){alert("You must agree to authorize reference checking to proceed");return}v(!0);try{const F=await fetch(`${Ba}/public/authorization/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,signature:m.trim(),agreed:g,user_agent:navigator.userAgent})}),D=await F.json();F.ok?f(!0):alert(`Error: ${D.error||"Failed to submit authorization"}`)}catch{alert("Network error. Please check your connection and try again.")}finally{v(!1)}};return n?i.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center",background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[i.jsx("h2",{children:"Loading..."}),i.jsx("p",{children:"Please wait while we load your authorization form."})]}):o?i.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center",background:"#fee2e2",border:"2px solid #ef4444",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[i.jsx("h2",{style:{color:"#dc2626",marginTop:0},children:" Authorization Error"}),i.jsx("p",{style:{fontSize:"16px",lineHeight:"1.6"},children:o}),i.jsx("p",{style:{marginTop:"20px",fontSize:"14px",color:"#666"},children:"If you believe this is an error, please contact the hiring team for assistance."})]}):E?i.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"40px",textAlign:"center",background:"#d1fae5",border:"2px solid #10b981",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[i.jsx("h2",{style:{color:"#059669",marginTop:0},children:" Authorization Complete"}),i.jsxs("p",{style:{fontSize:"18px",fontWeight:"500",marginBottom:"20px"},children:["Thank you, ",s,"!"]}),i.jsxs("p",{style:{fontSize:"16px",lineHeight:"1.6"},children:["Your authorization has been successfully submitted. We will now proceed with contacting your referees for the ",i.jsx("strong",{children:u})," position."]}),i.jsx("p",{style:{marginTop:"30px",fontSize:"14px",color:"#666"},children:"We'll keep you updated on the progress of your reference checks."}),i.jsx("div",{style:{marginTop:"40px",padding:"20px",background:"white",borderRadius:"6px",fontSize:"14px",color:"#666"},children:i.jsxs("p",{style:{margin:0},children:[i.jsx("strong",{children:"What happens next:"}),i.jsx("br",{}),"1. Your referees will be contacted via email",i.jsx("br",{}),"2. They will complete a brief reference check",i.jsx("br",{}),"3. Results will be compiled into a report",i.jsx("br",{}),"4. The hiring team will review and contact you"]})})]}):i.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(to bottom, #f3f4f6, #e5e7eb)",padding:"40px 20px"},children:i.jsxs("div",{style:{maxWidth:"700px",margin:"0 auto",padding:"40px",background:"white",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsx("h1",{style:{marginTop:0,marginBottom:"10px",color:"#1f2937"},children:"Reference Check Authorization"}),i.jsx("div",{style:{padding:"15px",background:"#f9fafb",borderRadius:"6px",marginBottom:"30px",borderLeft:"4px solid #2563eb"},children:i.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#666"},children:[i.jsx("strong",{children:"Candidate:"})," ",s,i.jsx("br",{}),i.jsx("strong",{children:"Position:"})," ",u]})}),i.jsxs("form",{onSubmit:C,children:[i.jsxs("div",{style:{background:"#f9fafb",padding:"25px",borderRadius:"8px",marginBottom:"30px",border:"1px solid #e5e7eb"},children:[i.jsx("h3",{style:{marginTop:0,color:"#1f2937"},children:"Authorization Agreement"}),i.jsxs("p",{style:{lineHeight:"1.7"},children:["By signing below, I authorize the collection of professional references as part of my application for the position of ",i.jsx("strong",{children:u}),"."]}),i.jsx("p",{style:{marginTop:"20px",marginBottom:"10px",fontWeight:"600",color:"#1f2937"},children:"I understand and authorize:"}),i.jsxs("ul",{style:{textAlign:"left",lineHeight:"1.8",paddingLeft:"20px"},children:[i.jsx("li",{children:"Permission to contact my professional referees"}),i.jsx("li",{children:"Collection of feedback about my work history, performance, and professional conduct"}),i.jsx("li",{children:"Use of this information in making hiring decisions"}),i.jsx("li",{children:"Storage of this information for record-keeping purposes in accordance with privacy laws"})]}),i.jsx("p",{style:{marginTop:"20px",marginBottom:"10px",fontWeight:"600",color:"#1f2937"},children:"I acknowledge:"}),i.jsxs("ul",{style:{textAlign:"left",lineHeight:"1.8",paddingLeft:"20px"},children:[i.jsx("li",{children:"This authorization is voluntary and I may withdraw consent at any time"}),i.jsx("li",{children:"The information collected will be kept confidential"}),i.jsx("li",{children:"I have the right to request a copy of any references collected"}),i.jsx("li",{children:"This authorization will remain in effect for this hiring process"})]})]}),i.jsxs("div",{style:{marginBottom:"25px"},children:[i.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#1f2937"},children:["Electronic Signature (type your full name) ",i.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),i.jsx("input",{type:"text",value:m,onChange:_=>h(_.target.value),placeholder:"John Smith",disabled:w,required:!0,style:{width:"100%",padding:"12px",border:"2px solid #d1d5db",borderRadius:"6px",fontSize:"16px",fontFamily:"Georgia, serif",fontStyle:"italic",transition:"border-color 0.2s"},onFocus:_=>_.target.style.borderColor="#2563eb",onBlur:_=>_.target.style.borderColor="#d1d5db"}),i.jsx("small",{style:{color:"#666",display:"block",marginTop:"8px",fontSize:"13px"},children:"By typing your name above, you are providing a legally binding electronic signature"})]}),i.jsx("div",{style:{marginBottom:"30px",padding:"15px",background:"#fef3c7",borderRadius:"6px",border:"1px solid #fbbf24"},children:i.jsxs("label",{style:{display:"flex",alignItems:"flex-start",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:g,onChange:_=>k(_.target.checked),disabled:w,required:!0,style:{marginRight:"12px",marginTop:"4px",width:"18px",height:"18px",cursor:"pointer"}}),i.jsxs("span",{style:{fontSize:"14px",lineHeight:"1.6"},children:["I have read and agree to the authorization terms above. I understand that this authorization will remain in effect for this hiring process. ",i.jsx("span",{style:{color:"#dc2626",fontWeight:"600"},children:"*"})]})]})}),i.jsx("button",{type:"submit",disabled:w||!m.trim()||!g,style:{width:"100%",padding:"16px",background:w||!m.trim()||!g?"#9ca3af":"#2563eb",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"600",cursor:w||!m.trim()||!g?"not-allowed":"pointer",transition:"background-color 0.2s"},onMouseEnter:_=>{!w&&m.trim()&&g&&(_.currentTarget.style.background="#1d4ed8")},onMouseLeave:_=>{!w&&m.trim()&&g&&(_.currentTarget.style.background="#2563eb")},children:w?" Submitting Authorization...":" Submit Authorization"})]}),i.jsxs("div",{style:{marginTop:"30px",padding:"20px",background:"#f9fafb",borderRadius:"6px",fontSize:"13px",color:"#666",textAlign:"center",borderTop:"2px solid #e5e7eb"},children:[i.jsxs("p",{style:{margin:"0 0 10px 0"},children:[i.jsx("strong",{children:"Date:"})," ",new Date().toLocaleDateString("en-NZ",{year:"numeric",month:"long",day:"numeric"})]}),i.jsx("p",{style:{margin:0},children:"Questions? Contact the hiring team for assistance."})]})]})})},mm=({data:e})=>{var t;return(t=e.metadata)!=null&&t.sentimentScore,i.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",padding:"40px 20px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',backgroundColor:"#fff"},children:[i.jsxs("div",{style:{backgroundColor:"white",color:"#1e3a8a",padding:"30px",borderRadius:"24px",marginBottom:"30px",border:"2px solid #1e3a8a"},children:[i.jsx("h1",{style:{margin:0,fontSize:"16px",fontWeight:"400",opacity:.7},children:"Reference Report"}),i.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"28px",fontWeight:"600"},children:[e.candidate.name," / ",e.candidate.role||"Position"]})]}),i.jsxs("section",{style:{marginBottom:"40px"},children:[i.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"16px",color:"#1a1a1a"},children:"Referee Details"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"30px",padding:"20px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:"Referee name"}),i.jsx("div",{style:{fontSize:"15px",fontWeight:"500",color:"#1a1a1a"},children:e.referee.name})]}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:"Submission date"}),i.jsx("div",{style:{fontSize:"15px",fontWeight:"500",color:"#1a1a1a"},children:new Date(e.referee.submissionDate).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:"Relationship"}),i.jsx("div",{style:{fontSize:"15px",fontWeight:"500",color:"#1a1a1a"},children:e.referee.relationship})]}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:"Organization"}),i.jsx("div",{style:{fontSize:"15px",fontWeight:"500",color:"#1a1a1a"},children:e.referee.organization||"N/A"})]})]})]}),i.jsxs("section",{style:{marginBottom:"40px"},children:[i.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"16px",color:"#1a1a1a"},children:"Referee Feedback"}),i.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"20px"},children:"The referee's responses to the reference survey."}),e.responses.map((n,r)=>i.jsx("div",{style:{marginBottom:"24px",padding:"20px",backgroundColor:"#f9fafb",borderRadius:"8px",borderLeft:"4px solid #1e3a8a"},children:i.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"16px"},children:[i.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"600",flexShrink:0},children:r+1}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:n.question}),i.jsx("div",{style:{fontSize:"15px",color:"#1a1a1a",lineHeight:"1.6"},children:n.answer})]})]})},r))]}),i.jsxs("section",{style:{marginTop:"60px",padding:"24px",backgroundColor:"#f9fafb",borderRadius:"8px",fontSize:"12px",color:"#666",lineHeight:"1.6"},children:[i.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"12px",color:"#1a1a1a"},children:"Disclaimer"}),i.jsx("p",{style:{margin:0},children:"This reference report has been generated from feedback provided by the referee listed above. The candidate has consented to the collection and use of this data. While we strive for accuracy, this information is provided to assist in your assessment and should be considered alongside other evaluation methods. The information is confidential and should not be shared without proper authorization."})]})]})},gm=({apiUrl:e="http://localhost:5001/api"})=>{var g;const{requestId:t,refereeId:n}=sd(),[r,o]=x.useState(null),[l,s]=x.useState(!0),[a,u]=x.useState("");x.useEffect(()=>{t&&n&&c()},[t,n]);const c=async()=>{try{s(!0),u("");const k=await fetch(`${e}/reports/${t}/referee/${n}`);if(!k.ok){const v=await k.json();throw new Error(v.error||"Failed to load report")}const w=await k.json();o(w)}catch(k){console.error("Error fetching report:",k),u(k.message||"Failed to load report")}finally{s(!1)}},m=()=>{window.print()},h=async()=>{var k;try{const{default:w}=await _r(async()=>{const{default:Z}=await import("./jspdf.es.min-DwDHAbZl-v2.js");return{default:Z}},__vite__mapDeps([3,1])),v=(await _r(async()=>{const{default:Z}=await import("./html2canvas.esm-DZlvpFNH-v2.js").then(Q=>Q.h);return{default:Z}},[])).default,E=document.getElementById("professional-report");if(!E){alert("Report element not found");return}const f=await v(E,{scale:2,useCORS:!0,logging:!1}),d=f.toDataURL("image/png"),p=new w("p","mm","a4"),C=p.internal.pageSize.getWidth(),_=p.internal.pageSize.getHeight(),F=f.width,D=f.height,I=Math.min(C/F,_/D),q=(C-F*I)/2;p.addImage(d,"PNG",q,0,F*I,D*I);const L=`Reference_Report_${(k=r.candidate)==null?void 0:k.name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;p.save(L)}catch(w){console.error("Error generating PDF:",w),alert("Failed to generate PDF. Please try the Print option instead.")}};return l?i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",flexDirection:"column",gap:"16px"},children:[i.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),i.jsx("p",{style:{color:"#666",fontSize:"16px"},children:"Loading report..."}),i.jsx("style",{children:`
          @keyframes spin {
            to { transform: rotate(360deg); }
          }
        `})]}):a?i.jsxs("div",{style:{maxWidth:"600px",margin:"60px auto",padding:"40px",textAlign:"center",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[i.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",color:"#ef4444"},children:""}),i.jsx("h2",{style:{color:"#1a1a1a",marginBottom:"12px"},children:"Error Loading Report"}),i.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:a}),i.jsx("button",{onClick:c,style:{padding:"12px 24px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Try Again"})]}):r?i.jsxs("div",{style:{backgroundColor:"#f9fafb",minHeight:"100vh"},children:[i.jsxs("div",{className:"no-print",style:{position:"sticky",top:0,zIndex:100,backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"16px 24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx("h1",{style:{margin:0,fontSize:"20px",fontWeight:"600",color:"#1a1a1a"},children:"Reference Report"}),i.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"14px",color:"#666"},children:(g=r.candidate)==null?void 0:g.name})]}),i.jsxs("div",{style:{display:"flex",gap:"12px"},children:[i.jsx("button",{onClick:m,style:{padding:"10px 20px",backgroundColor:"white",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:" Print"}),i.jsx("button",{onClick:h,style:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:" Download PDF"})]})]}),i.jsx("div",{id:"professional-report",children:i.jsx(mm,{data:r})}),i.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
          body {
            background: white !important;
          }
        }
      `})]}):null},xm="10242198-4ee0-4540-8cfd-25343df1f41d",ym="17f28d64-e746-4d06-8949-9335bb4c1740",Ci="https://api-ref.getbrindleai.com/api";function vm(){return i.jsx(Yh,{children:i.jsxs(Hh,{children:[i.jsx(on,{path:"/",element:i.jsx("div",{className:"App",children:i.jsx(fm,{userId:xm,templateId:ym,apiUrl:Ci})})}),i.jsx(on,{path:"/referee/:token",element:i.jsx(pm,{apiUrl:Ci})}),i.jsx(on,{path:"/authorize",element:i.jsx(hm,{})}),i.jsx(on,{path:"/report/:requestId/referee/:refereeId",element:i.jsx(gm,{apiUrl:Ci})}),i.jsx(on,{path:"*",element:i.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center"},children:[i.jsx("h2",{children:"Page Not Found"}),i.jsx("p",{children:"The page you're looking for doesn't exist."}),i.jsx("a",{href:"/",children:"Go to Home"})]})})]})})}bi.createRoot(document.getElementById("root")).render(i.jsx(bl.StrictMode,{children:i.jsx(vm,{})}));export{_r as _,_d as a,wm as c,jm as g};
