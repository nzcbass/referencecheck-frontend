const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/html2pdf-DflpMrGE-v2.js","assets/browser-DhcdjZmX-v2.js","assets/html2canvas.esm-DZlvpFNH-v2.js","assets/jspdf.es.min-DFPx2MKl-v2.js"])))=>i.map(i=>d[i]);
function Sd(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var wm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Ma={exports:{}},Ro={},Wa={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cr=Symbol.for("react.element"),kd=Symbol.for("react.portal"),Cd=Symbol.for("react.fragment"),bd=Symbol.for("react.strict_mode"),Ed=Symbol.for("react.profiler"),Nd=Symbol.for("react.provider"),zd=Symbol.for("react.context"),Td=Symbol.for("react.forward_ref"),Rd=Symbol.for("react.suspense"),Pd=Symbol.for("react.memo"),Fd=Symbol.for("react.lazy"),Ss=Symbol.iterator;function Ld(e){return e===null||typeof e!="object"?null:(e=Ss&&e[Ss]||e["@@iterator"],typeof e=="function"?e:null)}var Ua={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ha=Object.assign,Va={};function Fn(e,t,n){this.props=e,this.context=t,this.refs=Va,this.updater=n||Ua}Fn.prototype.isReactComponent={};Fn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qa(){}qa.prototype=Fn.prototype;function Sl(e,t,n){this.props=e,this.context=t,this.refs=Va,this.updater=n||Ua}var _l=Sl.prototype=new qa;_l.constructor=Sl;Ha(_l,Fn.prototype);_l.isPureReactComponent=!0;var _s=Array.isArray,Qa=Object.prototype.hasOwnProperty,kl={current:null},Ya={key:!0,ref:!0,__self:!0,__source:!0};function Ka(e,t,n){var r,i={},l=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(l=""+t.key),t)Qa.call(t,r)&&!Ya.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Cr,type:e,key:l,ref:s,props:i,_owner:kl.current}}function Dd(e,t){return{$$typeof:Cr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cr}function $d(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ks=/\/+/g;function Zo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$d(""+e.key):t.toString(36)}function Yr(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Cr:case kd:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Zo(s,0):r,_s(i)?(n="",e!=null&&(n=e.replace(ks,"$&/")+"/"),Yr(i,t,n,"",function(c){return c})):i!=null&&(Cl(i)&&(i=Dd(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(ks,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",_s(e))for(var a=0;a<e.length;a++){l=e[a];var u=r+Zo(l,a);s+=Yr(l,t,n,u,i)}else if(u=Ld(e),typeof u=="function")for(e=u.call(e),a=0;!(l=e.next()).done;)l=l.value,u=r+Zo(l,a++),s+=Yr(l,t,n,u,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Rr(e,t,n){if(e==null)return e;var r=[],i=0;return Yr(e,r,"","",function(l){return t.call(n,l,i++)}),r}function Ad(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},Kr={transition:null},Id={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Kr,ReactCurrentOwner:kl};function Ga(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Rr,forEach:function(e,t,n){Rr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rr(e,function(){t++}),t},toArray:function(e){return Rr(e,function(t){return t})||[]},only:function(e){if(!Cl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=Fn;ee.Fragment=Cd;ee.Profiler=Ed;ee.PureComponent=Sl;ee.StrictMode=bd;ee.Suspense=Rd;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Id;ee.act=Ga;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ha({},e.props),i=e.key,l=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,s=kl.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Qa.call(t,u)&&!Ya.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Cr,type:e.type,key:i,ref:l,props:r,_owner:s}};ee.createContext=function(e){return e={$$typeof:zd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nd,_context:e},e.Consumer=e};ee.createElement=Ka;ee.createFactory=function(e){var t=Ka.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:Td,render:e}};ee.isValidElement=Cl;ee.lazy=function(e){return{$$typeof:Fd,_payload:{_status:-1,_result:e},_init:Ad}};ee.memo=function(e,t){return{$$typeof:Pd,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Kr.transition;Kr.transition={};try{e()}finally{Kr.transition=t}};ee.unstable_act=Ga;ee.useCallback=function(e,t){return Pe.current.useCallback(e,t)};ee.useContext=function(e){return Pe.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Pe.current.useEffect(e,t)};ee.useId=function(){return Pe.current.useId()};ee.useImperativeHandle=function(e,t,n){return Pe.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Pe.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return Pe.current.useReducer(e,t,n)};ee.useRef=function(e){return Pe.current.useRef(e)};ee.useState=function(e){return Pe.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Pe.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Pe.current.useTransition()};ee.version="18.3.1";Wa.exports=ee;var x=Wa.exports;const bl=_d(x),Od=Sd({__proto__:null,default:bl},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=x,Md=Symbol.for("react.element"),Wd=Symbol.for("react.fragment"),Ud=Object.prototype.hasOwnProperty,Hd=Bd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vd={key:!0,ref:!0,__self:!0,__source:!0};function Za(e,t,n){var r,i={},l=null,s=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Ud.call(t,r)&&!Vd.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Md,type:e,key:l,ref:s,props:i,_owner:Hd.current}}Ro.Fragment=Wd;Ro.jsx=Za;Ro.jsxs=Za;Ma.exports=Ro;var o=Ma.exports,bi={},Ja={exports:{}},He={},Xa={exports:{}},eu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,z){var I=R.length;R.push(z);e:for(;0<I;){var q=I-1>>>1,G=R[q];if(0<i(G,z))R[q]=z,R[I]=G,I=q;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var z=R[0],I=R.pop();if(I!==z){R[0]=I;e:for(var q=0,G=R.length,we=G>>>1;q<we;){var ce=2*(q+1)-1,A=R[ce],J=ce+1,me=R[J];if(0>i(A,I))J<G&&0>i(me,A)?(R[q]=me,R[J]=I,q=J):(R[q]=A,R[ce]=I,q=ce);else if(J<G&&0>i(me,I))R[q]=me,R[J]=I,q=J;else break e}}return z}function i(R,z){var I=R.sortIndex-z.sortIndex;return I!==0?I:R.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var u=[],c=[],m=1,h=null,g=3,_=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(R){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=R)r(c),z.sortIndex=z.expirationTime,t(u,z);else break;z=n(c)}}function k(R){if(v=!1,p(R),!w)if(n(u)!==null)w=!0,W(S);else{var z=n(c);z!==null&&Q(k,z.startTime-R)}}function S(R,z){w=!1,v&&(v=!1,f(O),O=-1),_=!0;var I=g;try{for(p(z),h=n(u);h!==null&&(!(h.expirationTime>z)||R&&!F());){var q=h.callback;if(typeof q=="function"){h.callback=null,g=h.priorityLevel;var G=q(h.expirationTime<=z);z=e.unstable_now(),typeof G=="function"?h.callback=G:h===n(u)&&r(u),p(z)}else r(u);h=n(u)}if(h!==null)var we=!0;else{var ce=n(c);ce!==null&&Q(k,ce.startTime-z),we=!1}return we}finally{h=null,g=I,_=!1}}var L=!1,D=null,O=-1,Y=5,B=-1;function F(){return!(e.unstable_now()-B<Y)}function X(){if(D!==null){var R=e.unstable_now();B=R;var z=!0;try{z=D(!0,R)}finally{z?K():(L=!1,D=null)}}else L=!1}var K;if(typeof d=="function")K=function(){d(X)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,T=E.port2;E.port1.onmessage=X,K=function(){T.postMessage(null)}}else K=function(){b(X,0)};function W(R){D=R,L||(L=!0,K())}function Q(R,z){O=b(function(){R(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||_||(w=!0,W(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var I=g;g=z;try{return R()}finally{g=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,z){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var I=g;g=R;try{return z()}finally{g=I}},e.unstable_scheduleCallback=function(R,z,I){var q=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?q+I:q):I=q,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=I+G,R={id:m++,callback:z,priorityLevel:R,startTime:I,expirationTime:G,sortIndex:-1},I>q?(R.sortIndex=I,t(c,R),n(u)===null&&R===n(c)&&(v?(f(O),O=-1):v=!0,Q(k,I-q))):(R.sortIndex=G,t(u,R),w||_||(w=!0,W(S))),R},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(R){var z=g;return function(){var I=g;g=z;try{return R.apply(this,arguments)}finally{g=I}}}})(eu);Xa.exports=eu;var qd=Xa.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=x,Ue=qd;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tu=new Set,ir={};function tn(e,t){bn(e,t),bn(e+"Capture",t)}function bn(e,t){for(ir[e]=t,e=0;e<t.length;e++)tu.add(t[e])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ei=Object.prototype.hasOwnProperty,Yd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cs={},bs={};function Kd(e){return Ei.call(bs,e)?!0:Ei.call(Cs,e)?!1:Yd.test(e)?bs[e]=!0:(Cs[e]=!0,!1)}function Gd(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zd(e,t,n,r){if(t===null||typeof t>"u"||Gd(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,n,r,i,l,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=s}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var El=/[\-:]([a-z])/g;function Nl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(El,Nl);Ce[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(El,Nl);Ce[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(El,Nl);Ce[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function zl(e,t,n,r){var i=Ce.hasOwnProperty(t)?Ce[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Zd(t,n,i,r)&&(n=null),r||i===null?Kd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wt=Qd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pr=Symbol.for("react.element"),an=Symbol.for("react.portal"),un=Symbol.for("react.fragment"),Tl=Symbol.for("react.strict_mode"),Ni=Symbol.for("react.profiler"),nu=Symbol.for("react.provider"),ru=Symbol.for("react.context"),Rl=Symbol.for("react.forward_ref"),zi=Symbol.for("react.suspense"),Ti=Symbol.for("react.suspense_list"),Pl=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),ou=Symbol.for("react.offscreen"),Es=Symbol.iterator;function In(e){return e===null||typeof e!="object"?null:(e=Es&&e[Es]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,Jo;function qn(e){if(Jo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jo=t&&t[1]||""}return`
`+Jo+e}var Xo=!1;function ei(e,t){if(!e||Xo)return"";Xo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),l=r.stack.split(`
`),s=i.length-1,a=l.length-1;1<=s&&0<=a&&i[s]!==l[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==l[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==l[a]){var u=`
`+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=a);break}}}finally{Xo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qn(e):""}function Jd(e){switch(e.tag){case 5:return qn(e.type);case 16:return qn("Lazy");case 13:return qn("Suspense");case 19:return qn("SuspenseList");case 0:case 2:case 15:return e=ei(e.type,!1),e;case 11:return e=ei(e.type.render,!1),e;case 1:return e=ei(e.type,!0),e;default:return""}}function Ri(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case un:return"Fragment";case an:return"Portal";case Ni:return"Profiler";case Tl:return"StrictMode";case zi:return"Suspense";case Ti:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ru:return(e.displayName||"Context")+".Consumer";case nu:return(e._context.displayName||"Context")+".Provider";case Rl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pl:return t=e.displayName||null,t!==null?t:Ri(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return Ri(e(t))}catch{}}return null}function Xd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ri(t);case 8:return t===Tl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function At(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ef(e){var t=iu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,l.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fr(e){e._valueTracker||(e._valueTracker=ef(e))}function lu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=iu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function lo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pi(e,t){var n=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ns(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=At(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function su(e,t){t=t.checked,t!=null&&zl(e,"checked",t,!1)}function Fi(e,t){su(e,t);var n=At(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Li(e,t.type,n):t.hasOwnProperty("defaultValue")&&Li(e,t.type,At(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zs(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Li(e,t,n){(t!=="number"||lo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qn=Array.isArray;function wn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+At(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Di(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ts(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(Qn(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:At(n)}}function au(e,t){var n=At(t.value),r=At(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Rs(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $i(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lr,cu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lr=Lr||document.createElement("div"),Lr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tf=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(e){tf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gn[t]=Gn[e]})});function du(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Gn.hasOwnProperty(e)&&Gn[e]?(""+t).trim():t+"px"}function fu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=du(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var nf=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ai(e,t){if(t){if(nf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Ii(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oi=null;function Fl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bi=null,jn=null,Sn=null;function Ps(e){if(e=Nr(e)){if(typeof Bi!="function")throw Error($(280));var t=e.stateNode;t&&(t=$o(t),Bi(e.stateNode,e.type,t))}}function pu(e){jn?Sn?Sn.push(e):Sn=[e]:jn=e}function hu(){if(jn){var e=jn,t=Sn;if(Sn=jn=null,Ps(e),t)for(e=0;e<t.length;e++)Ps(t[e])}}function mu(e,t){return e(t)}function gu(){}var ti=!1;function xu(e,t,n){if(ti)return e(t,n);ti=!0;try{return mu(e,t,n)}finally{ti=!1,(jn!==null||Sn!==null)&&(gu(),hu())}}function sr(e,t){var n=e.stateNode;if(n===null)return null;var r=$o(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var Mi=!1;if(gt)try{var On={};Object.defineProperty(On,"passive",{get:function(){Mi=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Mi=!1}function rf(e,t,n,r,i,l,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var Zn=!1,so=null,ao=!1,Wi=null,of={onError:function(e){Zn=!0,so=e}};function lf(e,t,n,r,i,l,s,a,u){Zn=!1,so=null,rf.apply(of,arguments)}function sf(e,t,n,r,i,l,s,a,u){if(lf.apply(this,arguments),Zn){if(Zn){var c=so;Zn=!1,so=null}else throw Error($(198));ao||(ao=!0,Wi=c)}}function nn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fs(e){if(nn(e)!==e)throw Error($(188))}function af(e){var t=e.alternate;if(!t){if(t=nn(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Fs(i),e;if(l===r)return Fs(i),t;l=l.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=l;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=l;break}if(a===r){s=!0,r=i,n=l;break}a=a.sibling}if(!s){for(a=l.child;a;){if(a===n){s=!0,n=l,r=i;break}if(a===r){s=!0,r=l,n=i;break}a=a.sibling}if(!s)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function vu(e){return e=af(e),e!==null?wu(e):null}function wu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wu(e);if(t!==null)return t;e=e.sibling}return null}var ju=Ue.unstable_scheduleCallback,Ls=Ue.unstable_cancelCallback,uf=Ue.unstable_shouldYield,cf=Ue.unstable_requestPaint,he=Ue.unstable_now,df=Ue.unstable_getCurrentPriorityLevel,Ll=Ue.unstable_ImmediatePriority,Su=Ue.unstable_UserBlockingPriority,uo=Ue.unstable_NormalPriority,ff=Ue.unstable_LowPriority,_u=Ue.unstable_IdlePriority,Po=null,at=null;function pf(e){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Po,e,void 0,(e.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:gf,hf=Math.log,mf=Math.LN2;function gf(e){return e>>>=0,e===0?32:31-(hf(e)/mf|0)|0}var Dr=64,$r=4194304;function Yn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function co(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Yn(a):(l&=s,l!==0&&(r=Yn(l)))}else s=n&~i,s!==0?r=Yn(s):l!==0&&(r=Yn(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-nt(t),i=1<<n,r|=e[n],t&=~i;return r}function xf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var s=31-nt(l),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=xf(a,t)):u<=t&&(e.expiredLanes|=a),l&=~a}}function Ui(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ku(){var e=Dr;return Dr<<=1,!(Dr&4194240)&&(Dr=64),e}function ni(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function br(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nt(t),e[t]=n}function vf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-nt(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function Dl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ne=0;function Cu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bu,$l,Eu,Nu,zu,Hi=!1,Ar=[],zt=null,Tt=null,Rt=null,ar=new Map,ur=new Map,kt=[],wf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ds(e,t){switch(e){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":ar.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ur.delete(t.pointerId)}}function Bn(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=Nr(t),t!==null&&$l(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jf(e,t,n,r,i){switch(t){case"focusin":return zt=Bn(zt,e,t,n,r,i),!0;case"dragenter":return Tt=Bn(Tt,e,t,n,r,i),!0;case"mouseover":return Rt=Bn(Rt,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return ar.set(l,Bn(ar.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,ur.set(l,Bn(ur.get(l)||null,e,t,n,r,i)),!0}return!1}function Tu(e){var t=Ht(e.target);if(t!==null){var n=nn(t);if(n!==null){if(t=n.tag,t===13){if(t=yu(n),t!==null){e.blockedOn=t,zu(e.priority,function(){Eu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Oi=r,n.target.dispatchEvent(r),Oi=null}else return t=Nr(n),t!==null&&$l(t),e.blockedOn=n,!1;t.shift()}return!0}function $s(e,t,n){Gr(e)&&n.delete(t)}function Sf(){Hi=!1,zt!==null&&Gr(zt)&&(zt=null),Tt!==null&&Gr(Tt)&&(Tt=null),Rt!==null&&Gr(Rt)&&(Rt=null),ar.forEach($s),ur.forEach($s)}function Mn(e,t){e.blockedOn===t&&(e.blockedOn=null,Hi||(Hi=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Sf)))}function cr(e){function t(i){return Mn(i,e)}if(0<Ar.length){Mn(Ar[0],e);for(var n=1;n<Ar.length;n++){var r=Ar[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zt!==null&&Mn(zt,e),Tt!==null&&Mn(Tt,e),Rt!==null&&Mn(Rt,e),ar.forEach(t),ur.forEach(t),n=0;n<kt.length;n++)r=kt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&(n=kt[0],n.blockedOn===null);)Tu(n),n.blockedOn===null&&kt.shift()}var _n=wt.ReactCurrentBatchConfig,fo=!0;function _f(e,t,n,r){var i=ne,l=_n.transition;_n.transition=null;try{ne=1,Al(e,t,n,r)}finally{ne=i,_n.transition=l}}function kf(e,t,n,r){var i=ne,l=_n.transition;_n.transition=null;try{ne=4,Al(e,t,n,r)}finally{ne=i,_n.transition=l}}function Al(e,t,n,r){if(fo){var i=Vi(e,t,n,r);if(i===null)fi(e,t,r,po,n),Ds(e,r);else if(jf(i,e,t,n,r))r.stopPropagation();else if(Ds(e,r),t&4&&-1<wf.indexOf(e)){for(;i!==null;){var l=Nr(i);if(l!==null&&bu(l),l=Vi(e,t,n,r),l===null&&fi(e,t,r,po,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else fi(e,t,r,null,n)}}var po=null;function Vi(e,t,n,r){if(po=null,e=Fl(r),e=Ht(e),e!==null)if(t=nn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return po=e,null}function Ru(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(df()){case Ll:return 1;case Su:return 4;case uo:case ff:return 16;case _u:return 536870912;default:return 16}default:return 16}}var bt=null,Il=null,Zr=null;function Pu(){if(Zr)return Zr;var e,t=Il,n=t.length,r,i="value"in bt?bt.value:bt.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[l-r];r++);return Zr=i.slice(e,1<r?1-r:void 0)}function Jr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ir(){return!0}function As(){return!1}function Ve(e){function t(n,r,i,l,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(l):l[a]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ir:As,this.isPropagationStopped=As,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),t}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Ve(Ln),Er=ue({},Ln,{view:0,detail:0}),Cf=Ve(Er),ri,oi,Wn,Fo=ue({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(ri=e.screenX-Wn.screenX,oi=e.screenY-Wn.screenY):oi=ri=0,Wn=e),ri)},movementY:function(e){return"movementY"in e?e.movementY:oi}}),Is=Ve(Fo),bf=ue({},Fo,{dataTransfer:0}),Ef=Ve(bf),Nf=ue({},Er,{relatedTarget:0}),ii=Ve(Nf),zf=ue({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Tf=Ve(zf),Rf=ue({},Ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pf=Ve(Rf),Ff=ue({},Ln,{data:0}),Os=Ve(Ff),Lf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Df={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Af(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$f[e])?!!t[e]:!1}function Bl(){return Af}var If=ue({},Er,{key:function(e){if(e.key){var t=Lf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Df[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bl,charCode:function(e){return e.type==="keypress"?Jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Of=Ve(If),Bf=ue({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bs=Ve(Bf),Mf=ue({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bl}),Wf=Ve(Mf),Uf=ue({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hf=Ve(Uf),Vf=ue({},Fo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qf=Ve(Vf),Qf=[9,13,27,32],Ml=gt&&"CompositionEvent"in window,Jn=null;gt&&"documentMode"in document&&(Jn=document.documentMode);var Yf=gt&&"TextEvent"in window&&!Jn,Fu=gt&&(!Ml||Jn&&8<Jn&&11>=Jn),Ms=" ",Ws=!1;function Lu(e,t){switch(e){case"keyup":return Qf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Du(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cn=!1;function Kf(e,t){switch(e){case"compositionend":return Du(t);case"keypress":return t.which!==32?null:(Ws=!0,Ms);case"textInput":return e=t.data,e===Ms&&Ws?null:e;default:return null}}function Gf(e,t){if(cn)return e==="compositionend"||!Ml&&Lu(e,t)?(e=Pu(),Zr=Il=bt=null,cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fu&&t.locale!=="ko"?null:t.data;default:return null}}var Zf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Us(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zf[e.type]:t==="textarea"}function $u(e,t,n,r){pu(r),t=ho(t,"onChange"),0<t.length&&(n=new Ol("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,dr=null;function Jf(e){Qu(e,0)}function Lo(e){var t=pn(e);if(lu(t))return e}function Xf(e,t){if(e==="change")return t}var Au=!1;if(gt){var li;if(gt){var si="oninput"in document;if(!si){var Hs=document.createElement("div");Hs.setAttribute("oninput","return;"),si=typeof Hs.oninput=="function"}li=si}else li=!1;Au=li&&(!document.documentMode||9<document.documentMode)}function Vs(){Xn&&(Xn.detachEvent("onpropertychange",Iu),dr=Xn=null)}function Iu(e){if(e.propertyName==="value"&&Lo(dr)){var t=[];$u(t,dr,e,Fl(e)),xu(Jf,t)}}function ep(e,t,n){e==="focusin"?(Vs(),Xn=t,dr=n,Xn.attachEvent("onpropertychange",Iu)):e==="focusout"&&Vs()}function tp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lo(dr)}function np(e,t){if(e==="click")return Lo(t)}function rp(e,t){if(e==="input"||e==="change")return Lo(t)}function op(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ot=typeof Object.is=="function"?Object.is:op;function fr(e,t){if(ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ei.call(t,i)||!ot(e[i],t[i]))return!1}return!0}function qs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qs(e,t){var n=qs(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qs(n)}}function Ou(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ou(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bu(){for(var e=window,t=lo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lo(e.document)}return t}function Wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ip(e){var t=Bu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ou(n.ownerDocument.documentElement,n)){if(r!==null&&Wl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=Qs(n,l);var s=Qs(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lp=gt&&"documentMode"in document&&11>=document.documentMode,dn=null,qi=null,er=null,Qi=!1;function Ys(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qi||dn==null||dn!==lo(r)||(r=dn,"selectionStart"in r&&Wl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),er&&fr(er,r)||(er=r,r=ho(qi,"onSelect"),0<r.length&&(t=new Ol("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dn)))}function Or(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fn={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionend:Or("Transition","TransitionEnd")},ai={},Mu={};gt&&(Mu=document.createElement("div").style,"AnimationEvent"in window||(delete fn.animationend.animation,delete fn.animationiteration.animation,delete fn.animationstart.animation),"TransitionEvent"in window||delete fn.transitionend.transition);function Do(e){if(ai[e])return ai[e];if(!fn[e])return e;var t=fn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mu)return ai[e]=t[n];return e}var Wu=Do("animationend"),Uu=Do("animationiteration"),Hu=Do("animationstart"),Vu=Do("transitionend"),qu=new Map,Ks="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ot(e,t){qu.set(e,t),tn(t,[e])}for(var ui=0;ui<Ks.length;ui++){var ci=Ks[ui],sp=ci.toLowerCase(),ap=ci[0].toUpperCase()+ci.slice(1);Ot(sp,"on"+ap)}Ot(Wu,"onAnimationEnd");Ot(Uu,"onAnimationIteration");Ot(Hu,"onAnimationStart");Ot("dblclick","onDoubleClick");Ot("focusin","onFocus");Ot("focusout","onBlur");Ot(Vu,"onTransitionEnd");bn("onMouseEnter",["mouseout","mouseover"]);bn("onMouseLeave",["mouseout","mouseover"]);bn("onPointerEnter",["pointerout","pointerover"]);bn("onPointerLeave",["pointerout","pointerover"]);tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),up=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kn));function Gs(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sf(r,t,void 0,e),e.currentTarget=null}function Qu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==l&&i.isPropagationStopped())break e;Gs(i,a,c),l=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==l&&i.isPropagationStopped())break e;Gs(i,a,c),l=u}}}if(ao)throw e=Wi,ao=!1,Wi=null,e}function oe(e,t){var n=t[Ji];n===void 0&&(n=t[Ji]=new Set);var r=e+"__bubble";n.has(r)||(Yu(t,e,2,!1),n.add(r))}function di(e,t,n){var r=0;t&&(r|=4),Yu(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function pr(e){if(!e[Br]){e[Br]=!0,tu.forEach(function(n){n!=="selectionchange"&&(up.has(n)||di(n,!1,e),di(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Br]||(t[Br]=!0,di("selectionchange",!1,t))}}function Yu(e,t,n,r){switch(Ru(t)){case 1:var i=_f;break;case 4:i=kf;break;default:i=Al}n=i.bind(null,t,n,e),i=void 0,!Mi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function fi(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ht(a),s===null)return;if(u=s.tag,u===5||u===6){r=l=s;continue e}a=a.parentNode}}r=r.return}xu(function(){var c=l,m=Fl(n),h=[];e:{var g=qu.get(e);if(g!==void 0){var _=Ol,w=e;switch(e){case"keypress":if(Jr(n)===0)break e;case"keydown":case"keyup":_=Of;break;case"focusin":w="focus",_=ii;break;case"focusout":w="blur",_=ii;break;case"beforeblur":case"afterblur":_=ii;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Wf;break;case Wu:case Uu:case Hu:_=Tf;break;case Vu:_=Hf;break;case"scroll":_=Cf;break;case"wheel":_=qf;break;case"copy":case"cut":case"paste":_=Pf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Bs}var v=(t&4)!==0,b=!v&&e==="scroll",f=v?g!==null?g+"Capture":null:g;v=[];for(var d=c,p;d!==null;){p=d;var k=p.stateNode;if(p.tag===5&&k!==null&&(p=k,f!==null&&(k=sr(d,f),k!=null&&v.push(hr(d,k,p)))),b)break;d=d.return}0<v.length&&(g=new _(g,w,null,n,m),h.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",g&&n!==Oi&&(w=n.relatedTarget||n.fromElement)&&(Ht(w)||w[xt]))break e;if((_||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,_?(w=n.relatedTarget||n.toElement,_=c,w=w?Ht(w):null,w!==null&&(b=nn(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(_=null,w=c),_!==w)){if(v=Is,k="onMouseLeave",f="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=Bs,k="onPointerLeave",f="onPointerEnter",d="pointer"),b=_==null?g:pn(_),p=w==null?g:pn(w),g=new v(k,d+"leave",_,n,m),g.target=b,g.relatedTarget=p,k=null,Ht(m)===c&&(v=new v(f,d+"enter",w,n,m),v.target=p,v.relatedTarget=b,k=v),b=k,_&&w)t:{for(v=_,f=w,d=0,p=v;p;p=ln(p))d++;for(p=0,k=f;k;k=ln(k))p++;for(;0<d-p;)v=ln(v),d--;for(;0<p-d;)f=ln(f),p--;for(;d--;){if(v===f||f!==null&&v===f.alternate)break t;v=ln(v),f=ln(f)}v=null}else v=null;_!==null&&Zs(h,g,_,v,!1),w!==null&&b!==null&&Zs(h,b,w,v,!0)}}e:{if(g=c?pn(c):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var S=Xf;else if(Us(g))if(Au)S=rp;else{S=tp;var L=ep}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=np);if(S&&(S=S(e,c))){$u(h,S,n,m);break e}L&&L(e,g,c),e==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&Li(g,"number",g.value)}switch(L=c?pn(c):window,e){case"focusin":(Us(L)||L.contentEditable==="true")&&(dn=L,qi=c,er=null);break;case"focusout":er=qi=dn=null;break;case"mousedown":Qi=!0;break;case"contextmenu":case"mouseup":case"dragend":Qi=!1,Ys(h,n,m);break;case"selectionchange":if(lp)break;case"keydown":case"keyup":Ys(h,n,m)}var D;if(Ml)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else cn?Lu(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Fu&&n.locale!=="ko"&&(cn||O!=="onCompositionStart"?O==="onCompositionEnd"&&cn&&(D=Pu()):(bt=m,Il="value"in bt?bt.value:bt.textContent,cn=!0)),L=ho(c,O),0<L.length&&(O=new Os(O,e,null,n,m),h.push({event:O,listeners:L}),D?O.data=D:(D=Du(n),D!==null&&(O.data=D)))),(D=Yf?Kf(e,n):Gf(e,n))&&(c=ho(c,"onBeforeInput"),0<c.length&&(m=new Os("onBeforeInput","beforeinput",null,n,m),h.push({event:m,listeners:c}),m.data=D))}Qu(h,t)})}function hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ho(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=sr(e,n),l!=null&&r.unshift(hr(e,l,i)),l=sr(e,t),l!=null&&r.push(hr(e,l,i))),e=e.return}return r}function ln(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zs(e,t,n,r,i){for(var l=t._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=sr(n,l),u!=null&&s.unshift(hr(n,u,a))):i||(u=sr(n,l),u!=null&&s.push(hr(n,u,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var cp=/\r\n?/g,dp=/\u0000|\uFFFD/g;function Js(e){return(typeof e=="string"?e:""+e).replace(cp,`
`).replace(dp,"")}function Mr(e,t,n){if(t=Js(t),Js(e)!==t&&n)throw Error($(425))}function mo(){}var Yi=null,Ki=null;function Gi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zi=typeof setTimeout=="function"?setTimeout:void 0,fp=typeof clearTimeout=="function"?clearTimeout:void 0,Xs=typeof Promise=="function"?Promise:void 0,pp=typeof queueMicrotask=="function"?queueMicrotask:typeof Xs<"u"?function(e){return Xs.resolve(null).then(e).catch(hp)}:Zi;function hp(e){setTimeout(function(){throw e})}function pi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),cr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cr(t)}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ea(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Dn=Math.random().toString(36).slice(2),st="__reactFiber$"+Dn,mr="__reactProps$"+Dn,xt="__reactContainer$"+Dn,Ji="__reactEvents$"+Dn,mp="__reactListeners$"+Dn,gp="__reactHandles$"+Dn;function Ht(e){var t=e[st];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xt]||n[st]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ea(e);e!==null;){if(n=e[st])return n;e=ea(e)}return t}e=n,n=e.parentNode}return null}function Nr(e){return e=e[st]||e[xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function $o(e){return e[mr]||null}var Xi=[],hn=-1;function Bt(e){return{current:e}}function ie(e){0>hn||(e.current=Xi[hn],Xi[hn]=null,hn--)}function re(e,t){hn++,Xi[hn]=e.current,e.current=t}var It={},ze=Bt(It),Ae=Bt(!1),Gt=It;function En(e,t){var n=e.type.contextTypes;if(!n)return It;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ie(e){return e=e.childContextTypes,e!=null}function go(){ie(Ae),ie(ze)}function ta(e,t,n){if(ze.current!==It)throw Error($(168));re(ze,t),re(Ae,n)}function Ku(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error($(108,Xd(e)||"Unknown",i));return ue({},n,r)}function xo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||It,Gt=ze.current,re(ze,e),re(Ae,Ae.current),!0}function na(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=Ku(e,t,Gt),r.__reactInternalMemoizedMergedChildContext=e,ie(Ae),ie(ze),re(ze,e)):ie(Ae),re(Ae,n)}var ft=null,Ao=!1,hi=!1;function Gu(e){ft===null?ft=[e]:ft.push(e)}function xp(e){Ao=!0,Gu(e)}function Mt(){if(!hi&&ft!==null){hi=!0;var e=0,t=ne;try{var n=ft;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ft=null,Ao=!1}catch(i){throw ft!==null&&(ft=ft.slice(e+1)),ju(Ll,Mt),i}finally{ne=t,hi=!1}}return null}var mn=[],gn=0,yo=null,vo=0,qe=[],Qe=0,Zt=null,pt=1,ht="";function Wt(e,t){mn[gn++]=vo,mn[gn++]=yo,yo=e,vo=t}function Zu(e,t,n){qe[Qe++]=pt,qe[Qe++]=ht,qe[Qe++]=Zt,Zt=e;var r=pt;e=ht;var i=32-nt(r)-1;r&=~(1<<i),n+=1;var l=32-nt(t)+i;if(30<l){var s=i-i%5;l=(r&(1<<s)-1).toString(32),r>>=s,i-=s,pt=1<<32-nt(t)+i|n<<i|r,ht=l+e}else pt=1<<l|n<<i|r,ht=e}function Ul(e){e.return!==null&&(Wt(e,1),Zu(e,1,0))}function Hl(e){for(;e===yo;)yo=mn[--gn],mn[gn]=null,vo=mn[--gn],mn[gn]=null;for(;e===Zt;)Zt=qe[--Qe],qe[Qe]=null,ht=qe[--Qe],qe[Qe]=null,pt=qe[--Qe],qe[Qe]=null}var We=null,Me=null,le=!1,tt=null;function Ju(e,t){var n=Ye(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ra(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,Me=Pt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,Me=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zt!==null?{id:pt,overflow:ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ye(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,We=e,Me=null,!0):!1;default:return!1}}function el(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tl(e){if(le){var t=Me;if(t){var n=t;if(!ra(e,t)){if(el(e))throw Error($(418));t=Pt(n.nextSibling);var r=We;t&&ra(e,t)?Ju(r,n):(e.flags=e.flags&-4097|2,le=!1,We=e)}}else{if(el(e))throw Error($(418));e.flags=e.flags&-4097|2,le=!1,We=e}}}function oa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function Wr(e){if(e!==We)return!1;if(!le)return oa(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gi(e.type,e.memoizedProps)),t&&(t=Me)){if(el(e))throw Xu(),Error($(418));for(;t;)Ju(e,t),t=Pt(t.nextSibling)}if(oa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Me=Pt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Me=null}}else Me=We?Pt(e.stateNode.nextSibling):null;return!0}function Xu(){for(var e=Me;e;)e=Pt(e.nextSibling)}function Nn(){Me=We=null,le=!1}function Vl(e){tt===null?tt=[e]:tt.push(e)}var yp=wt.ReactCurrentBatchConfig;function Un(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(s){var a=i.refs;s===null?delete a[l]:a[l]=s},t._stringRef=l,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Ur(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ia(e){var t=e._init;return t(e._payload)}function ec(e){function t(f,d){if(e){var p=f.deletions;p===null?(f.deletions=[d],f.flags|=16):p.push(d)}}function n(f,d){if(!e)return null;for(;d!==null;)t(f,d),d=d.sibling;return null}function r(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function i(f,d){return f=$t(f,d),f.index=0,f.sibling=null,f}function l(f,d,p){return f.index=p,e?(p=f.alternate,p!==null?(p=p.index,p<d?(f.flags|=2,d):p):(f.flags|=2,d)):(f.flags|=1048576,d)}function s(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,d,p,k){return d===null||d.tag!==6?(d=ji(p,f.mode,k),d.return=f,d):(d=i(d,p),d.return=f,d)}function u(f,d,p,k){var S=p.type;return S===un?m(f,d,p.props.children,k,p.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===St&&ia(S)===d.type)?(k=i(d,p.props),k.ref=Un(f,d,p),k.return=f,k):(k=io(p.type,p.key,p.props,null,f.mode,k),k.ref=Un(f,d,p),k.return=f,k)}function c(f,d,p,k){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=Si(p,f.mode,k),d.return=f,d):(d=i(d,p.children||[]),d.return=f,d)}function m(f,d,p,k,S){return d===null||d.tag!==7?(d=Yt(p,f.mode,k,S),d.return=f,d):(d=i(d,p),d.return=f,d)}function h(f,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=ji(""+d,f.mode,p),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Pr:return p=io(d.type,d.key,d.props,null,f.mode,p),p.ref=Un(f,null,d),p.return=f,p;case an:return d=Si(d,f.mode,p),d.return=f,d;case St:var k=d._init;return h(f,k(d._payload),p)}if(Qn(d)||In(d))return d=Yt(d,f.mode,p,null),d.return=f,d;Ur(f,d)}return null}function g(f,d,p,k){var S=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:a(f,d,""+p,k);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Pr:return p.key===S?u(f,d,p,k):null;case an:return p.key===S?c(f,d,p,k):null;case St:return S=p._init,g(f,d,S(p._payload),k)}if(Qn(p)||In(p))return S!==null?null:m(f,d,p,k,null);Ur(f,p)}return null}function _(f,d,p,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return f=f.get(p)||null,a(d,f,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Pr:return f=f.get(k.key===null?p:k.key)||null,u(d,f,k,S);case an:return f=f.get(k.key===null?p:k.key)||null,c(d,f,k,S);case St:var L=k._init;return _(f,d,p,L(k._payload),S)}if(Qn(k)||In(k))return f=f.get(p)||null,m(d,f,k,S,null);Ur(d,k)}return null}function w(f,d,p,k){for(var S=null,L=null,D=d,O=d=0,Y=null;D!==null&&O<p.length;O++){D.index>O?(Y=D,D=null):Y=D.sibling;var B=g(f,D,p[O],k);if(B===null){D===null&&(D=Y);break}e&&D&&B.alternate===null&&t(f,D),d=l(B,d,O),L===null?S=B:L.sibling=B,L=B,D=Y}if(O===p.length)return n(f,D),le&&Wt(f,O),S;if(D===null){for(;O<p.length;O++)D=h(f,p[O],k),D!==null&&(d=l(D,d,O),L===null?S=D:L.sibling=D,L=D);return le&&Wt(f,O),S}for(D=r(f,D);O<p.length;O++)Y=_(D,f,O,p[O],k),Y!==null&&(e&&Y.alternate!==null&&D.delete(Y.key===null?O:Y.key),d=l(Y,d,O),L===null?S=Y:L.sibling=Y,L=Y);return e&&D.forEach(function(F){return t(f,F)}),le&&Wt(f,O),S}function v(f,d,p,k){var S=In(p);if(typeof S!="function")throw Error($(150));if(p=S.call(p),p==null)throw Error($(151));for(var L=S=null,D=d,O=d=0,Y=null,B=p.next();D!==null&&!B.done;O++,B=p.next()){D.index>O?(Y=D,D=null):Y=D.sibling;var F=g(f,D,B.value,k);if(F===null){D===null&&(D=Y);break}e&&D&&F.alternate===null&&t(f,D),d=l(F,d,O),L===null?S=F:L.sibling=F,L=F,D=Y}if(B.done)return n(f,D),le&&Wt(f,O),S;if(D===null){for(;!B.done;O++,B=p.next())B=h(f,B.value,k),B!==null&&(d=l(B,d,O),L===null?S=B:L.sibling=B,L=B);return le&&Wt(f,O),S}for(D=r(f,D);!B.done;O++,B=p.next())B=_(D,f,O,B.value,k),B!==null&&(e&&B.alternate!==null&&D.delete(B.key===null?O:B.key),d=l(B,d,O),L===null?S=B:L.sibling=B,L=B);return e&&D.forEach(function(X){return t(f,X)}),le&&Wt(f,O),S}function b(f,d,p,k){if(typeof p=="object"&&p!==null&&p.type===un&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Pr:e:{for(var S=p.key,L=d;L!==null;){if(L.key===S){if(S=p.type,S===un){if(L.tag===7){n(f,L.sibling),d=i(L,p.props.children),d.return=f,f=d;break e}}else if(L.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===St&&ia(S)===L.type){n(f,L.sibling),d=i(L,p.props),d.ref=Un(f,L,p),d.return=f,f=d;break e}n(f,L);break}else t(f,L);L=L.sibling}p.type===un?(d=Yt(p.props.children,f.mode,k,p.key),d.return=f,f=d):(k=io(p.type,p.key,p.props,null,f.mode,k),k.ref=Un(f,d,p),k.return=f,f=k)}return s(f);case an:e:{for(L=p.key;d!==null;){if(d.key===L)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(f,d.sibling),d=i(d,p.children||[]),d.return=f,f=d;break e}else{n(f,d);break}else t(f,d);d=d.sibling}d=Si(p,f.mode,k),d.return=f,f=d}return s(f);case St:return L=p._init,b(f,d,L(p._payload),k)}if(Qn(p))return w(f,d,p,k);if(In(p))return v(f,d,p,k);Ur(f,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(f,d.sibling),d=i(d,p),d.return=f,f=d):(n(f,d),d=ji(p,f.mode,k),d.return=f,f=d),s(f)):n(f,d)}return b}var zn=ec(!0),tc=ec(!1),wo=Bt(null),jo=null,xn=null,ql=null;function Ql(){ql=xn=jo=null}function Yl(e){var t=wo.current;ie(wo),e._currentValue=t}function nl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function kn(e,t){jo=e,ql=xn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function Ge(e){var t=e._currentValue;if(ql!==e)if(e={context:e,memoizedValue:t,next:null},xn===null){if(jo===null)throw Error($(308));xn=e,jo.dependencies={lanes:0,firstContext:e}}else xn=xn.next=e;return t}var Vt=null;function Kl(e){Vt===null?Vt=[e]:Vt.push(e)}function nc(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Kl(t)):(n.next=i.next,i.next=n),t.interleaved=n,yt(e,r)}function yt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _t=!1;function Gl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ft(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,yt(e,n)}return i=r.interleaved,i===null?(t.next=t,Kl(r)):(t.next=i.next,i.next=t),r.interleaved=t,yt(e,n)}function Xr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dl(e,n)}}function la(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=s:l=l.next=s,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function So(e,t,n,r){var i=e.updateQueue;_t=!1;var l=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?l=c:s.next=c,s=u;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==s&&(a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=u))}if(l!==null){var h=i.baseState;s=0,m=c=u=null,a=l;do{var g=a.lane,_=a.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,v=a;switch(g=t,_=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(_,h,g);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,g=typeof w=="function"?w.call(_,h,g):w,g==null)break e;h=ue({},h,g);break e;case 2:_t=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else _={eventTime:_,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(c=m=_,u=h):m=m.next=_,s|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(m===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);Xt|=s,e.lanes=s,e.memoizedState=h}}function sa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var zr={},ut=Bt(zr),gr=Bt(zr),xr=Bt(zr);function qt(e){if(e===zr)throw Error($(174));return e}function Zl(e,t){switch(re(xr,t),re(gr,e),re(ut,zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$i(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$i(t,e)}ie(ut),re(ut,t)}function Tn(){ie(ut),ie(gr),ie(xr)}function oc(e){qt(xr.current);var t=qt(ut.current),n=$i(t,e.type);t!==n&&(re(gr,e),re(ut,n))}function Jl(e){gr.current===e&&(ie(ut),ie(gr))}var se=Bt(0);function _o(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mi=[];function Xl(){for(var e=0;e<mi.length;e++)mi[e]._workInProgressVersionPrimary=null;mi.length=0}var eo=wt.ReactCurrentDispatcher,gi=wt.ReactCurrentBatchConfig,Jt=0,ae=null,xe=null,je=null,ko=!1,tr=!1,yr=0,vp=0;function be(){throw Error($(321))}function es(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ot(e[n],t[n]))return!1;return!0}function ts(e,t,n,r,i,l){if(Jt=l,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,eo.current=e===null||e.memoizedState===null?_p:kp,e=n(r,i),tr){l=0;do{if(tr=!1,yr=0,25<=l)throw Error($(301));l+=1,je=xe=null,t.updateQueue=null,eo.current=Cp,e=n(r,i)}while(tr)}if(eo.current=Co,t=xe!==null&&xe.next!==null,Jt=0,je=xe=ae=null,ko=!1,t)throw Error($(300));return e}function ns(){var e=yr!==0;return yr=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ae.memoizedState=je=e:je=je.next=e,je}function Ze(){if(xe===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=je===null?ae.memoizedState:je.next;if(t!==null)je=t,xe=e;else{if(e===null)throw Error($(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},je===null?ae.memoizedState=je=e:je=je.next=e}return je}function vr(e,t){return typeof t=="function"?t(e):t}function xi(e){var t=Ze(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=xe,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var s=i.next;i.next=l.next,l.next=s}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var a=s=null,u=null,c=l;do{var m=c.lane;if((Jt&m)===m)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,s=r):u=u.next=h,ae.lanes|=m,Xt|=m}c=c.next}while(c!==null&&c!==l);u===null?s=r:u.next=a,ot(r,t.memoizedState)||($e=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,ae.lanes|=l,Xt|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yi(e){var t=Ze(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do l=e(l,s.action),s=s.next;while(s!==i);ot(l,t.memoizedState)||($e=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function ic(){}function lc(e,t){var n=ae,r=Ze(),i=t(),l=!ot(r.memoizedState,i);if(l&&(r.memoizedState=i,$e=!0),r=r.queue,rs(uc.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,wr(9,ac.bind(null,n,r,i,t),void 0,null),Se===null)throw Error($(349));Jt&30||sc(n,t,i)}return i}function sc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ac(e,t,n,r){t.value=n,t.getSnapshot=r,cc(t)&&dc(e)}function uc(e,t,n){return n(function(){cc(t)&&dc(e)})}function cc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ot(e,n)}catch{return!0}}function dc(e){var t=yt(e,1);t!==null&&rt(t,e,1,-1)}function aa(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:e},t.queue=e,e=e.dispatch=Sp.bind(null,ae,e),[t.memoizedState,e]}function wr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fc(){return Ze().memoizedState}function to(e,t,n,r){var i=lt();ae.flags|=e,i.memoizedState=wr(1|t,n,void 0,r===void 0?null:r)}function Io(e,t,n,r){var i=Ze();r=r===void 0?null:r;var l=void 0;if(xe!==null){var s=xe.memoizedState;if(l=s.destroy,r!==null&&es(r,s.deps)){i.memoizedState=wr(t,n,l,r);return}}ae.flags|=e,i.memoizedState=wr(1|t,n,l,r)}function ua(e,t){return to(8390656,8,e,t)}function rs(e,t){return Io(2048,8,e,t)}function pc(e,t){return Io(4,2,e,t)}function hc(e,t){return Io(4,4,e,t)}function mc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gc(e,t,n){return n=n!=null?n.concat([e]):null,Io(4,4,mc.bind(null,t,e),n)}function os(){}function xc(e,t){var n=Ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yc(e,t){var n=Ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&es(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vc(e,t,n){return Jt&21?(ot(n,t)||(n=ku(),ae.lanes|=n,Xt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=n)}function wp(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=gi.transition;gi.transition={};try{e(!1),t()}finally{ne=n,gi.transition=r}}function wc(){return Ze().memoizedState}function jp(e,t,n){var r=Dt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jc(e))Sc(t,n);else if(n=nc(e,t,n,r),n!==null){var i=Re();rt(n,e,r,i),_c(n,t,r)}}function Sp(e,t,n){var r=Dt(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jc(e))Sc(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var s=t.lastRenderedState,a=l(s,n);if(i.hasEagerState=!0,i.eagerState=a,ot(a,s)){var u=t.interleaved;u===null?(i.next=i,Kl(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=nc(e,t,i,r),n!==null&&(i=Re(),rt(n,e,r,i),_c(n,t,r))}}function jc(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Sc(e,t){tr=ko=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _c(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dl(e,n)}}var Co={readContext:Ge,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},_p={readContext:Ge,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Ge,useEffect:ua,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,to(4194308,4,mc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return to(4194308,4,e,t)},useInsertionEffect:function(e,t){return to(4,2,e,t)},useMemo:function(e,t){var n=lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jp.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:aa,useDebugValue:os,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=aa(!1),t=e[0];return e=wp.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ae,i=lt();if(le){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Se===null)throw Error($(349));Jt&30||sc(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,ua(uc.bind(null,r,l,e),[e]),r.flags|=2048,wr(9,ac.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=lt(),t=Se.identifierPrefix;if(le){var n=ht,r=pt;n=(r&~(1<<32-nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kp={readContext:Ge,useCallback:xc,useContext:Ge,useEffect:rs,useImperativeHandle:gc,useInsertionEffect:pc,useLayoutEffect:hc,useMemo:yc,useReducer:xi,useRef:fc,useState:function(){return xi(vr)},useDebugValue:os,useDeferredValue:function(e){var t=Ze();return vc(t,xe.memoizedState,e)},useTransition:function(){var e=xi(vr)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:ic,useSyncExternalStore:lc,useId:wc,unstable_isNewReconciler:!1},Cp={readContext:Ge,useCallback:xc,useContext:Ge,useEffect:rs,useImperativeHandle:gc,useInsertionEffect:pc,useLayoutEffect:hc,useMemo:yc,useReducer:yi,useRef:fc,useState:function(){return yi(vr)},useDebugValue:os,useDeferredValue:function(e){var t=Ze();return xe===null?t.memoizedState=e:vc(t,xe.memoizedState,e)},useTransition:function(){var e=yi(vr)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:ic,useSyncExternalStore:lc,useId:wc,unstable_isNewReconciler:!1};function Xe(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oo={isMounted:function(e){return(e=e._reactInternals)?nn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Re(),i=Dt(e),l=mt(r,i);l.payload=t,n!=null&&(l.callback=n),t=Ft(e,l,i),t!==null&&(rt(t,e,i,r),Xr(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Re(),i=Dt(e),l=mt(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Ft(e,l,i),t!==null&&(rt(t,e,i,r),Xr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),r=Dt(e),i=mt(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ft(e,i,r),t!==null&&(rt(t,e,r,n),Xr(t,e,r))}};function ca(e,t,n,r,i,l,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,s):t.prototype&&t.prototype.isPureReactComponent?!fr(n,r)||!fr(i,l):!0}function kc(e,t,n){var r=!1,i=It,l=t.contextType;return typeof l=="object"&&l!==null?l=Ge(l):(i=Ie(t)?Gt:ze.current,r=t.contextTypes,l=(r=r!=null)?En(e,i):It),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function da(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oo.enqueueReplaceState(t,t.state,null)}function ol(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Gl(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=Ge(l):(l=Ie(t)?Gt:ze.current,i.context=En(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(rl(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Oo.enqueueReplaceState(i,i.state,null),So(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Rn(e,t){try{var n="",r=t;do n+=Jd(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function vi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function il(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bp=typeof WeakMap=="function"?WeakMap:Map;function Cc(e,t,n){n=mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Eo||(Eo=!0,ml=r),il(e,t)},n}function bc(e,t,n){n=mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){il(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){il(e,t),typeof r!="function"&&(Lt===null?Lt=new Set([this]):Lt.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function fa(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bp;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Bp.bind(null,e,t,n),t.then(e,e))}function pa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ha(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mt(-1,1),t.tag=2,Ft(n,t,1))),n.lanes|=1),e)}var Ep=wt.ReactCurrentOwner,$e=!1;function Te(e,t,n,r){t.child=e===null?tc(t,null,n,r):zn(t,e.child,n,r)}function ma(e,t,n,r,i){n=n.render;var l=t.ref;return kn(t,i),r=ts(e,t,n,r,l,i),n=ns(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vt(e,t,i)):(le&&n&&Ul(t),t.flags|=1,Te(e,t,r,i),t.child)}function ga(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!fs(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Ec(e,t,l,r,i)):(e=io(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var s=l.memoizedProps;if(n=n.compare,n=n!==null?n:fr,n(s,r)&&e.ref===t.ref)return vt(e,t,i)}return t.flags|=1,e=$t(l,r),e.ref=t.ref,e.return=t,t.child=e}function Ec(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(fr(l,r)&&e.ref===t.ref)if($e=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,vt(e,t,i)}return ll(e,t,n,r,i)}function Nc(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(vn,Be),Be|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(vn,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,re(vn,Be),Be|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,re(vn,Be),Be|=r;return Te(e,t,i,n),t.child}function zc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ll(e,t,n,r,i){var l=Ie(n)?Gt:ze.current;return l=En(t,l),kn(t,i),n=ts(e,t,n,r,l,i),r=ns(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vt(e,t,i)):(le&&r&&Ul(t),t.flags|=1,Te(e,t,n,i),t.child)}function xa(e,t,n,r,i){if(Ie(n)){var l=!0;xo(t)}else l=!1;if(kn(t,i),t.stateNode===null)no(e,t),kc(t,n,r),ol(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ge(c):(c=Ie(n)?Gt:ze.current,c=En(t,c));var m=n.getDerivedStateFromProps,h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&da(t,s,r,c),_t=!1;var g=t.memoizedState;s.state=g,So(t,r,s,i),u=t.memoizedState,a!==r||g!==u||Ae.current||_t?(typeof m=="function"&&(rl(t,n,m,r),u=t.memoizedState),(a=_t||ca(t,n,a,r,g,u,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rc(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Xe(t.type,a),s.props=c,h=t.pendingProps,g=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ge(u):(u=Ie(n)?Gt:ze.current,u=En(t,u));var _=n.getDerivedStateFromProps;(m=typeof _=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||g!==u)&&da(t,s,r,u),_t=!1,g=t.memoizedState,s.state=g,So(t,r,s,i);var w=t.memoizedState;a!==h||g!==w||Ae.current||_t?(typeof _=="function"&&(rl(t,n,_,r),w=t.memoizedState),(c=_t||ca(t,n,c,r,g,w,u)||!1)?(m||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return sl(e,t,n,r,l,i)}function sl(e,t,n,r,i,l){zc(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&na(t,n,!1),vt(e,t,l);r=t.stateNode,Ep.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=zn(t,e.child,null,l),t.child=zn(t,null,a,l)):Te(e,t,a,l),t.memoizedState=r.state,i&&na(t,n,!0),t.child}function Tc(e){var t=e.stateNode;t.pendingContext?ta(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ta(e,t.context,!1),Zl(e,t.containerInfo)}function ya(e,t,n,r,i){return Nn(),Vl(i),t.flags|=256,Te(e,t,n,r),t.child}var al={dehydrated:null,treeContext:null,retryLane:0};function ul(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rc(e,t,n){var r=t.pendingProps,i=se.current,l=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),re(se,i&1),e===null)return tl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,l?(r=t.mode,l=t.child,s={mode:"hidden",children:s},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=s):l=Wo(s,r,0,null),e=Yt(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ul(n),t.memoizedState=al,e):is(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Np(e,t,s,r,a,i,n);if(l){l=r.fallback,s=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=$t(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?l=$t(a,l):(l=Yt(l,s,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,s=e.child.memoizedState,s=s===null?ul(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=al,r}return l=e.child,e=l.sibling,r=$t(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function is(e,t){return t=Wo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hr(e,t,n,r){return r!==null&&Vl(r),zn(t,e.child,null,n),e=is(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Np(e,t,n,r,i,l,s){if(n)return t.flags&256?(t.flags&=-257,r=vi(Error($(422))),Hr(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=Wo({mode:"visible",children:r.children},i,0,null),l=Yt(l,i,s,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&zn(t,e.child,null,s),t.child.memoizedState=ul(s),t.memoizedState=al,l);if(!(t.mode&1))return Hr(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,l=Error($(419)),r=vi(l,r,void 0),Hr(e,t,s,r)}if(a=(s&e.childLanes)!==0,$e||a){if(r=Se,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,yt(e,i),rt(r,e,i,-1))}return ds(),r=vi(Error($(421))),Hr(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Mp.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,Me=Pt(i.nextSibling),We=t,le=!0,tt=null,e!==null&&(qe[Qe++]=pt,qe[Qe++]=ht,qe[Qe++]=Zt,pt=e.id,ht=e.overflow,Zt=t),t=is(t,r.children),t.flags|=4096,t)}function va(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nl(e.return,t,n)}function wi(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function Pc(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(Te(e,t,r.children,n),r=se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&va(e,n,t);else if(e.tag===19)va(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(re(se,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_o(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),wi(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_o(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}wi(t,!0,n,null,l);break;case"together":wi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function no(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=$t(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$t(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zp(e,t,n){switch(t.tag){case 3:Tc(t),Nn();break;case 5:oc(t);break;case 1:Ie(t.type)&&xo(t);break;case 4:Zl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;re(wo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(re(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?Rc(e,t,n):(re(se,se.current&1),e=vt(e,t,n),e!==null?e.sibling:null);re(se,se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Pc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),re(se,se.current),r)break;return null;case 22:case 23:return t.lanes=0,Nc(e,t,n)}return vt(e,t,n)}var Fc,cl,Lc,Dc;Fc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cl=function(){};Lc=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,qt(ut.current);var l=null;switch(n){case"input":i=Pi(e,i),r=Pi(e,r),l=[];break;case"select":i=ue({},i,{value:void 0}),r=ue({},r,{value:void 0}),l=[];break;case"textarea":i=Di(e,i),r=Di(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=mo)}Ai(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ir.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(l||(l=[]),l.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(l=l||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ir.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&oe("scroll",e),l||a===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};Dc=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hn(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Tp(e,t,n){var r=t.pendingProps;switch(Hl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Ie(t.type)&&go(),Ee(t),null;case 3:return r=t.stateNode,Tn(),ie(Ae),ie(ze),Xl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Wr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tt!==null&&(yl(tt),tt=null))),cl(e,t),Ee(t),null;case 5:Jl(t);var i=qt(xr.current);if(n=t.type,e!==null&&t.stateNode!=null)Lc(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return Ee(t),null}if(e=qt(ut.current),Wr(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[st]=t,r[mr]=l,e=(t.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(i=0;i<Kn.length;i++)oe(Kn[i],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":Ns(r,l),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},oe("invalid",r);break;case"textarea":Ts(r,l),oe("invalid",r)}Ai(n,l),i=null;for(var s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="children"?typeof a=="string"?r.textContent!==a&&(l.suppressHydrationWarning!==!0&&Mr(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(l.suppressHydrationWarning!==!0&&Mr(r.textContent,a,e),i=["children",""+a]):ir.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&oe("scroll",r)}switch(n){case"input":Fr(r),zs(r,l,!0);break;case"textarea":Fr(r),Rs(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=mo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[st]=t,e[mr]=r,Fc(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ii(n,r),n){case"dialog":oe("cancel",e),oe("close",e),i=r;break;case"iframe":case"object":case"embed":oe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Kn.length;i++)oe(Kn[i],e);i=r;break;case"source":oe("error",e),i=r;break;case"img":case"image":case"link":oe("error",e),oe("load",e),i=r;break;case"details":oe("toggle",e),i=r;break;case"input":Ns(e,r),i=Pi(e,r),oe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ue({},r,{value:void 0}),oe("invalid",e);break;case"textarea":Ts(e,r),i=Di(e,r),oe("invalid",e);break;default:i=r}Ai(n,i),a=i;for(l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="style"?fu(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cu(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&lr(e,u):typeof u=="number"&&lr(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ir.hasOwnProperty(l)?u!=null&&l==="onScroll"&&oe("scroll",e):u!=null&&zl(e,l,u,s))}switch(n){case"input":Fr(e),zs(e,r,!1);break;case"textarea":Fr(e),Rs(e);break;case"option":r.value!=null&&e.setAttribute("value",""+At(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?wn(e,!!r.multiple,l,!1):r.defaultValue!=null&&wn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=mo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)Dc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=qt(xr.current),qt(ut.current),Wr(t)){if(r=t.stateNode,n=t.memoizedProps,r[st]=t,(l=r.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:Mr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mr(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[st]=t,t.stateNode=r}return Ee(t),null;case 13:if(ie(se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&Me!==null&&t.mode&1&&!(t.flags&128))Xu(),Nn(),t.flags|=98560,l=!1;else if(l=Wr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error($(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error($(317));l[st]=t}else Nn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),l=!1}else tt!==null&&(yl(tt),tt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?ye===0&&(ye=3):ds())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return Tn(),cl(e,t),e===null&&pr(t.stateNode.containerInfo),Ee(t),null;case 10:return Yl(t.type._context),Ee(t),null;case 17:return Ie(t.type)&&go(),Ee(t),null;case 19:if(ie(se),l=t.memoizedState,l===null)return Ee(t),null;if(r=(t.flags&128)!==0,s=l.rendering,s===null)if(r)Hn(l,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=_o(e),s!==null){for(t.flags|=128,Hn(l,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,s=l.alternate,s===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,e=s.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return re(se,se.current&1|2),t.child}e=e.sibling}l.tail!==null&&he()>Pn&&(t.flags|=128,r=!0,Hn(l,!1),t.lanes=4194304)}else{if(!r)if(e=_o(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!le)return Ee(t),null}else 2*he()-l.renderingStartTime>Pn&&n!==1073741824&&(t.flags|=128,r=!0,Hn(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(n=l.last,n!==null?n.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=he(),t.sibling=null,n=se.current,re(se,r?n&1|2:n&1),t):(Ee(t),null);case 22:case 23:return cs(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Be&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Rp(e,t){switch(Hl(t),t.tag){case 1:return Ie(t.type)&&go(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(),ie(Ae),ie(ze),Xl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jl(t),null;case 13:if(ie(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Nn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(se),null;case 4:return Tn(),null;case 10:return Yl(t.type._context),null;case 22:case 23:return cs(),null;case 24:return null;default:return null}}var Vr=!1,Ne=!1,Pp=typeof WeakSet=="function"?WeakSet:Set,H=null;function yn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(e,t,r)}else n.current=null}function dl(e,t,n){try{n()}catch(r){fe(e,t,r)}}var wa=!1;function Fp(e,t){if(Yi=fo,e=Bu(),Wl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,m=0,h=e,g=null;t:for(;;){for(var _;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==l||r!==0&&h.nodeType!==3||(u=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(_=h.firstChild)!==null;)g=h,h=_;for(;;){if(h===e)break t;if(g===n&&++c===i&&(a=s),g===l&&++m===r&&(u=s),(_=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=_}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ki={focusedElem:e,selectionRange:n},fo=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,b=w.memoizedState,f=t.stateNode,d=f.getSnapshotBeforeUpdate(t.elementType===t.type?v:Xe(t.type,v),b);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(k){fe(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return w=wa,wa=!1,w}function nr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&dl(t,n,l)}i=i.next}while(i!==r)}}function Bo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $c(e){var t=e.alternate;t!==null&&(e.alternate=null,$c(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[st],delete t[mr],delete t[Ji],delete t[mp],delete t[gp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ac(e){return e.tag===5||e.tag===3||e.tag===4}function ja(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mo));else if(r!==4&&(e=e.child,e!==null))for(pl(e,t,n),e=e.sibling;e!==null;)pl(e,t,n),e=e.sibling}function hl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hl(e,t,n),e=e.sibling;e!==null;)hl(e,t,n),e=e.sibling}var _e=null,et=!1;function jt(e,t,n){for(n=n.child;n!==null;)Ic(e,t,n),n=n.sibling}function Ic(e,t,n){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Po,n)}catch{}switch(n.tag){case 5:Ne||yn(n,t);case 6:var r=_e,i=et;_e=null,jt(e,t,n),_e=r,et=i,_e!==null&&(et?(e=_e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_e.removeChild(n.stateNode));break;case 18:_e!==null&&(et?(e=_e,n=n.stateNode,e.nodeType===8?pi(e.parentNode,n):e.nodeType===1&&pi(e,n),cr(e)):pi(_e,n.stateNode));break;case 4:r=_e,i=et,_e=n.stateNode.containerInfo,et=!0,jt(e,t,n),_e=r,et=i;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,s=l.destroy;l=l.tag,s!==void 0&&(l&2||l&4)&&dl(n,t,s),i=i.next}while(i!==r)}jt(e,t,n);break;case 1:if(!Ne&&(yn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fe(n,t,a)}jt(e,t,n);break;case 21:jt(e,t,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,jt(e,t,n),Ne=r):jt(e,t,n);break;default:jt(e,t,n)}}function Sa(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Pp),t.forEach(function(r){var i=Wp.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Je(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:_e=a.stateNode,et=!1;break e;case 3:_e=a.stateNode.containerInfo,et=!0;break e;case 4:_e=a.stateNode.containerInfo,et=!0;break e}a=a.return}if(_e===null)throw Error($(160));Ic(l,s,i),_e=null,et=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){fe(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Oc(t,e),t=t.sibling}function Oc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(t,e),it(e),r&4){try{nr(3,e,e.return),Bo(3,e)}catch(v){fe(e,e.return,v)}try{nr(5,e,e.return)}catch(v){fe(e,e.return,v)}}break;case 1:Je(t,e),it(e),r&512&&n!==null&&yn(n,n.return);break;case 5:if(Je(t,e),it(e),r&512&&n!==null&&yn(n,n.return),e.flags&32){var i=e.stateNode;try{lr(i,"")}catch(v){fe(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,s=n!==null?n.memoizedProps:l,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&l.type==="radio"&&l.name!=null&&su(i,l),Ii(a,s);var c=Ii(a,l);for(s=0;s<u.length;s+=2){var m=u[s],h=u[s+1];m==="style"?fu(i,h):m==="dangerouslySetInnerHTML"?cu(i,h):m==="children"?lr(i,h):zl(i,m,h,c)}switch(a){case"input":Fi(i,l);break;case"textarea":au(i,l);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var _=l.value;_!=null?wn(i,!!l.multiple,_,!1):g!==!!l.multiple&&(l.defaultValue!=null?wn(i,!!l.multiple,l.defaultValue,!0):wn(i,!!l.multiple,l.multiple?[]:"",!1))}i[mr]=l}catch(v){fe(e,e.return,v)}}break;case 6:if(Je(t,e),it(e),r&4){if(e.stateNode===null)throw Error($(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(v){fe(e,e.return,v)}}break;case 3:if(Je(t,e),it(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cr(t.containerInfo)}catch(v){fe(e,e.return,v)}break;case 4:Je(t,e),it(e);break;case 13:Je(t,e),it(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(as=he())),r&4&&Sa(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(c=Ne)||m,Je(t,e),Ne=c):Je(t,e),it(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!m&&e.mode&1)for(H=e,m=e.child;m!==null;){for(h=H=m;H!==null;){switch(g=H,_=g.child,g.tag){case 0:case 11:case 14:case 15:nr(4,g,g.return);break;case 1:yn(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){fe(r,n,v)}}break;case 5:yn(g,g.return);break;case 22:if(g.memoizedState!==null){ka(h);continue}}_!==null?(_.return=g,H=_):ka(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{i=h.stateNode,c?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(a=h.stateNode,u=h.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=du("display",s))}catch(v){fe(e,e.return,v)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){fe(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Je(t,e),it(e),r&4&&Sa(e);break;case 21:break;default:Je(t,e),it(e)}}function it(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ac(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(lr(i,""),r.flags&=-33);var l=ja(e);hl(e,l,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=ja(e);pl(e,a,s);break;default:throw Error($(161))}}catch(u){fe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lp(e,t,n){H=e,Bc(e)}function Bc(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var i=H,l=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Vr;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ne;a=Vr;var c=Ne;if(Vr=s,(Ne=u)&&!c)for(H=i;H!==null;)s=H,u=s.child,s.tag===22&&s.memoizedState!==null?Ca(i):u!==null?(u.return=s,H=u):Ca(i);for(;l!==null;)H=l,Bc(l),l=l.sibling;H=i,Vr=a,Ne=c}_a(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,H=l):_a(e)}}function _a(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||Bo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Xe(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&sa(t,l,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sa(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&cr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Ne||t.flags&512&&fl(t)}catch(g){fe(t,t.return,g)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function ka(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function Ca(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bo(4,t)}catch(u){fe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){fe(t,i,u)}}var l=t.return;try{fl(t)}catch(u){fe(t,l,u)}break;case 5:var s=t.return;try{fl(t)}catch(u){fe(t,s,u)}}}catch(u){fe(t,t.return,u)}if(t===e){H=null;break}var a=t.sibling;if(a!==null){a.return=t.return,H=a;break}H=t.return}}var Dp=Math.ceil,bo=wt.ReactCurrentDispatcher,ls=wt.ReactCurrentOwner,Ke=wt.ReactCurrentBatchConfig,te=0,Se=null,ge=null,ke=0,Be=0,vn=Bt(0),ye=0,jr=null,Xt=0,Mo=0,ss=0,rr=null,De=null,as=0,Pn=1/0,dt=null,Eo=!1,ml=null,Lt=null,qr=!1,Et=null,No=0,or=0,gl=null,ro=-1,oo=0;function Re(){return te&6?he():ro!==-1?ro:ro=he()}function Dt(e){return e.mode&1?te&2&&ke!==0?ke&-ke:yp.transition!==null?(oo===0&&(oo=ku()),oo):(e=ne,e!==0||(e=window.event,e=e===void 0?16:Ru(e.type)),e):1}function rt(e,t,n,r){if(50<or)throw or=0,gl=null,Error($(185));br(e,n,r),(!(te&2)||e!==Se)&&(e===Se&&(!(te&2)&&(Mo|=n),ye===4&&Ct(e,ke)),Oe(e,r),n===1&&te===0&&!(t.mode&1)&&(Pn=he()+500,Ao&&Mt()))}function Oe(e,t){var n=e.callbackNode;yf(e,t);var r=co(e,e===Se?ke:0);if(r===0)n!==null&&Ls(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ls(n),t===1)e.tag===0?xp(ba.bind(null,e)):Gu(ba.bind(null,e)),pp(function(){!(te&6)&&Mt()}),n=null;else{switch(Cu(r)){case 1:n=Ll;break;case 4:n=Su;break;case 16:n=uo;break;case 536870912:n=_u;break;default:n=uo}n=Yc(n,Mc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Mc(e,t){if(ro=-1,oo=0,te&6)throw Error($(327));var n=e.callbackNode;if(Cn()&&e.callbackNode!==n)return null;var r=co(e,e===Se?ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zo(e,r);else{t=r;var i=te;te|=2;var l=Uc();(Se!==e||ke!==t)&&(dt=null,Pn=he()+500,Qt(e,t));do try{Ip();break}catch(a){Wc(e,a)}while(!0);Ql(),bo.current=l,te=i,ge!==null?t=0:(Se=null,ke=0,t=ye)}if(t!==0){if(t===2&&(i=Ui(e),i!==0&&(r=i,t=xl(e,i))),t===1)throw n=jr,Qt(e,0),Ct(e,r),Oe(e,he()),n;if(t===6)Ct(e,r);else{if(i=e.current.alternate,!(r&30)&&!$p(i)&&(t=zo(e,r),t===2&&(l=Ui(e),l!==0&&(r=l,t=xl(e,l))),t===1))throw n=jr,Qt(e,0),Ct(e,r),Oe(e,he()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:Ut(e,De,dt);break;case 3:if(Ct(e,r),(r&130023424)===r&&(t=as+500-he(),10<t)){if(co(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Re(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zi(Ut.bind(null,e,De,dt),t);break}Ut(e,De,dt);break;case 4:if(Ct(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-nt(r);l=1<<s,s=t[s],s>i&&(i=s),r&=~l}if(r=i,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dp(r/1960))-r,10<r){e.timeoutHandle=Zi(Ut.bind(null,e,De,dt),r);break}Ut(e,De,dt);break;case 5:Ut(e,De,dt);break;default:throw Error($(329))}}}return Oe(e,he()),e.callbackNode===n?Mc.bind(null,e):null}function xl(e,t){var n=rr;return e.current.memoizedState.isDehydrated&&(Qt(e,t).flags|=256),e=zo(e,t),e!==2&&(t=De,De=n,t!==null&&yl(t)),e}function yl(e){De===null?De=e:De.push.apply(De,e)}function $p(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!ot(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ct(e,t){for(t&=~ss,t&=~Mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nt(t),r=1<<n;e[n]=-1,t&=~r}}function ba(e){if(te&6)throw Error($(327));Cn();var t=co(e,0);if(!(t&1))return Oe(e,he()),null;var n=zo(e,t);if(e.tag!==0&&n===2){var r=Ui(e);r!==0&&(t=r,n=xl(e,r))}if(n===1)throw n=jr,Qt(e,0),Ct(e,t),Oe(e,he()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ut(e,De,dt),Oe(e,he()),null}function us(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(Pn=he()+500,Ao&&Mt())}}function en(e){Et!==null&&Et.tag===0&&!(te&6)&&Cn();var t=te;te|=1;var n=Ke.transition,r=ne;try{if(Ke.transition=null,ne=1,e)return e()}finally{ne=r,Ke.transition=n,te=t,!(te&6)&&Mt()}}function cs(){Be=vn.current,ie(vn)}function Qt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fp(n)),ge!==null)for(n=ge.return;n!==null;){var r=n;switch(Hl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&go();break;case 3:Tn(),ie(Ae),ie(ze),Xl();break;case 5:Jl(r);break;case 4:Tn();break;case 13:ie(se);break;case 19:ie(se);break;case 10:Yl(r.type._context);break;case 22:case 23:cs()}n=n.return}if(Se=e,ge=e=$t(e.current,null),ke=Be=t,ye=0,jr=null,ss=Mo=Xt=0,De=rr=null,Vt!==null){for(t=0;t<Vt.length;t++)if(n=Vt[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var s=l.next;l.next=i,r.next=s}n.pending=r}Vt=null}return e}function Wc(e,t){do{var n=ge;try{if(Ql(),eo.current=Co,ko){for(var r=ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ko=!1}if(Jt=0,je=xe=ae=null,tr=!1,yr=0,ls.current=null,n===null||n.return===null){ye=1,jr=t,ge=null;break}e:{var l=e,s=n.return,a=n,u=t;if(t=ke,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,m=a,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var _=pa(s);if(_!==null){_.flags&=-257,ha(_,s,a,l,t),_.mode&1&&fa(l,c,t),t=_,u=c;var w=t.updateQueue;if(w===null){var v=new Set;v.add(u),t.updateQueue=v}else w.add(u);break e}else{if(!(t&1)){fa(l,c,t),ds();break e}u=Error($(426))}}else if(le&&a.mode&1){var b=pa(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ha(b,s,a,l,t),Vl(Rn(u,a));break e}}l=u=Rn(u,a),ye!==4&&(ye=2),rr===null?rr=[l]:rr.push(l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var f=Cc(l,u,t);la(l,f);break e;case 1:a=u;var d=l.type,p=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Lt===null||!Lt.has(p)))){l.flags|=65536,t&=-t,l.lanes|=t;var k=bc(l,a,t);la(l,k);break e}}l=l.return}while(l!==null)}Vc(n)}catch(S){t=S,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function Uc(){var e=bo.current;return bo.current=Co,e===null?Co:e}function ds(){(ye===0||ye===3||ye===2)&&(ye=4),Se===null||!(Xt&268435455)&&!(Mo&268435455)||Ct(Se,ke)}function zo(e,t){var n=te;te|=2;var r=Uc();(Se!==e||ke!==t)&&(dt=null,Qt(e,t));do try{Ap();break}catch(i){Wc(e,i)}while(!0);if(Ql(),te=n,bo.current=r,ge!==null)throw Error($(261));return Se=null,ke=0,ye}function Ap(){for(;ge!==null;)Hc(ge)}function Ip(){for(;ge!==null&&!uf();)Hc(ge)}function Hc(e){var t=Qc(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?Vc(e):ge=t,ls.current=null}function Vc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Rp(n,t),n!==null){n.flags&=32767,ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,ge=null;return}}else if(n=Tp(n,t,Be),n!==null){ge=n;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);ye===0&&(ye=5)}function Ut(e,t,n){var r=ne,i=Ke.transition;try{Ke.transition=null,ne=1,Op(e,t,n,r)}finally{Ke.transition=i,ne=r}return null}function Op(e,t,n,r){do Cn();while(Et!==null);if(te&6)throw Error($(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(vf(e,l),e===Se&&(ge=Se=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qr||(qr=!0,Yc(uo,function(){return Cn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ke.transition,Ke.transition=null;var s=ne;ne=1;var a=te;te|=4,ls.current=null,Fp(e,n),Oc(n,e),ip(Ki),fo=!!Yi,Ki=Yi=null,e.current=n,Lp(n),cf(),te=a,ne=s,Ke.transition=l}else e.current=n;if(qr&&(qr=!1,Et=e,No=i),l=e.pendingLanes,l===0&&(Lt=null),pf(n.stateNode),Oe(e,he()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Eo)throw Eo=!1,e=ml,ml=null,e;return No&1&&e.tag!==0&&Cn(),l=e.pendingLanes,l&1?e===gl?or++:(or=0,gl=e):or=0,Mt(),null}function Cn(){if(Et!==null){var e=Cu(No),t=Ke.transition,n=ne;try{if(Ke.transition=null,ne=16>e?16:e,Et===null)var r=!1;else{if(e=Et,Et=null,No=0,te&6)throw Error($(331));var i=te;for(te|=4,H=e.current;H!==null;){var l=H,s=l.child;if(H.flags&16){var a=l.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(H=c;H!==null;){var m=H;switch(m.tag){case 0:case 11:case 15:nr(8,m,l)}var h=m.child;if(h!==null)h.return=m,H=h;else for(;H!==null;){m=H;var g=m.sibling,_=m.return;if($c(m),m===c){H=null;break}if(g!==null){g.return=_,H=g;break}H=_}}}var w=l.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}H=l}}if(l.subtreeFlags&2064&&s!==null)s.return=l,H=s;else e:for(;H!==null;){if(l=H,l.flags&2048)switch(l.tag){case 0:case 11:case 15:nr(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,H=f;break e}H=l.return}}var d=e.current;for(H=d;H!==null;){s=H;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,H=p;else e:for(s=d;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bo(9,a)}}catch(S){fe(a,a.return,S)}if(a===s){H=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,H=k;break e}H=a.return}}if(te=i,Mt(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Po,e)}catch{}r=!0}return r}finally{ne=n,Ke.transition=t}}return!1}function Ea(e,t,n){t=Rn(n,t),t=Cc(e,t,1),e=Ft(e,t,1),t=Re(),e!==null&&(br(e,1,t),Oe(e,t))}function fe(e,t,n){if(e.tag===3)Ea(e,e,n);else for(;t!==null;){if(t.tag===3){Ea(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lt===null||!Lt.has(r))){e=Rn(n,e),e=bc(t,e,1),t=Ft(t,e,1),e=Re(),t!==null&&(br(t,1,e),Oe(t,e));break}}t=t.return}}function Bp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,Se===e&&(ke&n)===n&&(ye===4||ye===3&&(ke&130023424)===ke&&500>he()-as?Qt(e,0):ss|=n),Oe(e,t)}function qc(e,t){t===0&&(e.mode&1?(t=$r,$r<<=1,!($r&130023424)&&($r=4194304)):t=1);var n=Re();e=yt(e,t),e!==null&&(br(e,t,n),Oe(e,n))}function Mp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qc(e,n)}function Wp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),qc(e,n)}var Qc;Qc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)$e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $e=!1,zp(e,t,n);$e=!!(e.flags&131072)}else $e=!1,le&&t.flags&1048576&&Zu(t,vo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;no(e,t),e=t.pendingProps;var i=En(t,ze.current);kn(t,n),i=ts(null,t,r,e,i,n);var l=ns();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ie(r)?(l=!0,xo(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gl(t),i.updater=Oo,t.stateNode=i,i._reactInternals=t,ol(t,r,e,n),t=sl(null,t,r,!0,l,n)):(t.tag=0,le&&l&&Ul(t),Te(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(no(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Hp(r),e=Xe(r,e),i){case 0:t=ll(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=ma(null,t,r,e,n);break e;case 14:t=ga(null,t,r,Xe(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xe(r,i),ll(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xe(r,i),xa(e,t,r,i,n);case 3:e:{if(Tc(t),e===null)throw Error($(387));r=t.pendingProps,l=t.memoizedState,i=l.element,rc(e,t),So(t,r,null,n);var s=t.memoizedState;if(r=s.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=Rn(Error($(423)),t),t=ya(e,t,r,n,i);break e}else if(r!==i){i=Rn(Error($(424)),t),t=ya(e,t,r,n,i);break e}else for(Me=Pt(t.stateNode.containerInfo.firstChild),We=t,le=!0,tt=null,n=tc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nn(),r===i){t=vt(e,t,n);break e}Te(e,t,r,n)}t=t.child}return t;case 5:return oc(t),e===null&&tl(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,s=i.children,Gi(r,i)?s=null:l!==null&&Gi(r,l)&&(t.flags|=32),zc(e,t),Te(e,t,s,n),t.child;case 6:return e===null&&tl(t),null;case 13:return Rc(e,t,n);case 4:return Zl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zn(t,null,r,n):Te(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xe(r,i),ma(e,t,r,i,n);case 7:return Te(e,t,t.pendingProps,n),t.child;case 8:return Te(e,t,t.pendingProps.children,n),t.child;case 12:return Te(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,s=i.value,re(wo,r._currentValue),r._currentValue=s,l!==null)if(ot(l.value,s)){if(l.children===i.children&&!Ae.current){t=vt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){s=l.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=mt(-1,n&-n),u.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?u.next=u:(u.next=m.next,m.next=u),c.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),nl(l.return,n,t),a.lanes|=n;break}u=u.next}}else if(l.tag===10)s=l.type===t.type?null:l.child;else if(l.tag===18){if(s=l.return,s===null)throw Error($(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),nl(s,n,t),s=l.sibling}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===t){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}Te(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,kn(t,n),i=Ge(i),r=r(i),t.flags|=1,Te(e,t,r,n),t.child;case 14:return r=t.type,i=Xe(r,t.pendingProps),i=Xe(r.type,i),ga(e,t,r,i,n);case 15:return Ec(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xe(r,i),no(e,t),t.tag=1,Ie(r)?(e=!0,xo(t)):e=!1,kn(t,n),kc(t,r,i),ol(t,r,i,n),sl(null,t,r,!0,e,n);case 19:return Pc(e,t,n);case 22:return Nc(e,t,n)}throw Error($(156,t.tag))};function Yc(e,t){return ju(e,t)}function Up(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,n,r){return new Up(e,t,n,r)}function fs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hp(e){if(typeof e=="function")return fs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rl)return 11;if(e===Pl)return 14}return 2}function $t(e,t){var n=e.alternate;return n===null?(n=Ye(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function io(e,t,n,r,i,l){var s=2;if(r=e,typeof e=="function")fs(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case un:return Yt(n.children,i,l,t);case Tl:s=8,i|=8;break;case Ni:return e=Ye(12,n,t,i|2),e.elementType=Ni,e.lanes=l,e;case zi:return e=Ye(13,n,t,i),e.elementType=zi,e.lanes=l,e;case Ti:return e=Ye(19,n,t,i),e.elementType=Ti,e.lanes=l,e;case ou:return Wo(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nu:s=10;break e;case ru:s=9;break e;case Rl:s=11;break e;case Pl:s=14;break e;case St:s=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Ye(s,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function Yt(e,t,n,r){return e=Ye(7,e,r,t),e.lanes=n,e}function Wo(e,t,n,r){return e=Ye(22,e,r,t),e.elementType=ou,e.lanes=n,e.stateNode={isHidden:!1},e}function ji(e,t,n){return e=Ye(6,e,null,t),e.lanes=n,e}function Si(e,t,n){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vp(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ni(0),this.expirationTimes=ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ps(e,t,n,r,i,l,s,a,u){return e=new Vp(e,t,n,a,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ye(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gl(l),e}function qp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:an,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Kc(e){if(!e)return It;e=e._reactInternals;e:{if(nn(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ie(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Ie(n))return Ku(e,n,t)}return t}function Gc(e,t,n,r,i,l,s,a,u){return e=ps(n,r,!0,e,i,l,s,a,u),e.context=Kc(null),n=e.current,r=Re(),i=Dt(n),l=mt(r,i),l.callback=t??null,Ft(n,l,i),e.current.lanes=i,br(e,i,r),Oe(e,r),e}function Uo(e,t,n,r){var i=t.current,l=Re(),s=Dt(i);return n=Kc(n),t.context===null?t.context=n:t.pendingContext=n,t=mt(l,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ft(i,t,s),e!==null&&(rt(e,i,s,l),Xr(e,i,s)),s}function To(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Na(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hs(e,t){Na(e,t),(e=e.alternate)&&Na(e,t)}function Qp(){return null}var Zc=typeof reportError=="function"?reportError:function(e){console.error(e)};function ms(e){this._internalRoot=e}Ho.prototype.render=ms.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Uo(e,t,null,null)};Ho.prototype.unmount=ms.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;en(function(){Uo(null,e,null,null)}),t[xt]=null}};function Ho(e){this._internalRoot=e}Ho.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kt.length&&t!==0&&t<kt[n].priority;n++);kt.splice(n,0,e),n===0&&Tu(e)}};function gs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function za(){}function Yp(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var c=To(s);l.call(c)}}var s=Gc(t,r,e,0,null,!1,!1,"",za);return e._reactRootContainer=s,e[xt]=s.current,pr(e.nodeType===8?e.parentNode:e),en(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=To(u);a.call(c)}}var u=ps(e,0,!1,null,null,!1,!1,"",za);return e._reactRootContainer=u,e[xt]=u.current,pr(e.nodeType===8?e.parentNode:e),en(function(){Uo(t,u,n,r)}),u}function qo(e,t,n,r,i){var l=n._reactRootContainer;if(l){var s=l;if(typeof i=="function"){var a=i;i=function(){var u=To(s);a.call(u)}}Uo(t,s,e,i)}else s=Yp(n,t,e,i,r);return To(s)}bu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Yn(t.pendingLanes);n!==0&&(Dl(t,n|1),Oe(t,he()),!(te&6)&&(Pn=he()+500,Mt()))}break;case 13:en(function(){var r=yt(e,1);if(r!==null){var i=Re();rt(r,e,1,i)}}),hs(e,1)}};$l=function(e){if(e.tag===13){var t=yt(e,134217728);if(t!==null){var n=Re();rt(t,e,134217728,n)}hs(e,134217728)}};Eu=function(e){if(e.tag===13){var t=Dt(e),n=yt(e,t);if(n!==null){var r=Re();rt(n,e,t,r)}hs(e,t)}};Nu=function(){return ne};zu=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};Bi=function(e,t,n){switch(t){case"input":if(Fi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=$o(r);if(!i)throw Error($(90));lu(r),Fi(r,i)}}}break;case"textarea":au(e,n);break;case"select":t=n.value,t!=null&&wn(e,!!n.multiple,t,!1)}};mu=us;gu=en;var Kp={usingClientEntryPoint:!1,Events:[Nr,pn,$o,pu,hu,us]},Vn={findFiberByHostInstance:Ht,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gp={bundleType:Vn.bundleType,version:Vn.version,rendererPackageName:Vn.rendererPackageName,rendererConfig:Vn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vu(e),e===null?null:e.stateNode},findFiberByHostInstance:Vn.findFiberByHostInstance||Qp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qr.isDisabled&&Qr.supportsFiber)try{Po=Qr.inject(Gp),at=Qr}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kp;He.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gs(t))throw Error($(200));return qp(e,t,null,n)};He.createRoot=function(e,t){if(!gs(e))throw Error($(299));var n=!1,r="",i=Zc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ps(e,1,!1,null,null,n,!1,r,i),e[xt]=t.current,pr(e.nodeType===8?e.parentNode:e),new ms(t)};He.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=vu(t),e=e===null?null:e.stateNode,e};He.flushSync=function(e){return en(e)};He.hydrate=function(e,t,n){if(!Vo(t))throw Error($(200));return qo(null,e,t,!0,n)};He.hydrateRoot=function(e,t,n){if(!gs(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",s=Zc;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Gc(t,null,e,1,n??null,i,!1,l,s),e[xt]=t.current,pr(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ho(t)};He.render=function(e,t,n){if(!Vo(t))throw Error($(200));return qo(null,e,t,!1,n)};He.unmountComponentAtNode=function(e){if(!Vo(e))throw Error($(40));return e._reactRootContainer?(en(function(){qo(null,null,e,!1,function(){e._reactRootContainer=null,e[xt]=null})}),!0):!1};He.unstable_batchedUpdates=us;He.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vo(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return qo(e,t,n,!1,r)};He.version="18.3.1-next-f1338f8080-20240426";function Jc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jc)}catch(e){console.error(e)}}Jc(),Ja.exports=He;var Zp=Ja.exports,Ta=Zp;bi.createRoot=Ta.createRoot,bi.hydrateRoot=Ta.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sr(){return Sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sr.apply(this,arguments)}var Nt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nt||(Nt={}));const Ra="popstate";function Jp(e){e===void 0&&(e={});function t(r,i){let{pathname:l,search:s,hash:a}=r.location;return vl("",{pathname:l,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ed(i)}return eh(t,n,null,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xp(){return Math.random().toString(36).substr(2,8)}function Pa(e,t){return{usr:e.state,key:e.key,idx:t}}function vl(e,t,n,r){return n===void 0&&(n=null),Sr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$n(t):t,{state:n,key:t&&t.key||r||Xp()})}function ed(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $n(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function eh(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:l=!1}=r,s=i.history,a=Nt.Pop,u=null,c=m();c==null&&(c=0,s.replaceState(Sr({},s.state,{idx:c}),""));function m(){return(s.state||{idx:null}).idx}function h(){a=Nt.Pop;let b=m(),f=b==null?null:b-c;c=b,u&&u({action:a,location:v.location,delta:f})}function g(b,f){a=Nt.Push;let d=vl(v.location,b,f);c=m()+1;let p=Pa(d,c),k=v.createHref(d);try{s.pushState(p,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(k)}l&&u&&u({action:a,location:v.location,delta:1})}function _(b,f){a=Nt.Replace;let d=vl(v.location,b,f);c=m();let p=Pa(d,c),k=v.createHref(d);s.replaceState(p,"",k),l&&u&&u({action:a,location:v.location,delta:0})}function w(b){let f=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof b=="string"?b:ed(b);return d=d.replace(/ $/,"%20"),ve(f,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,f)}let v={get action(){return a},get location(){return e(i,s)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Ra,h),u=b,()=>{i.removeEventListener(Ra,h),u=null}},createHref(b){return t(i,b)},createURL:w,encodeLocation(b){let f=w(b);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:g,replace:_,go(b){return s.go(b)}};return v}var Fa;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fa||(Fa={}));function th(e,t,n){return n===void 0&&(n="/"),nh(e,t,n)}function nh(e,t,n,r){let i=typeof t=="string"?$n(t):t,l=rd(i.pathname||"/",n);if(l==null)return null;let s=td(e);rh(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let c=mh(l);a=fh(s[u],c)}return a}function td(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(l,s,a)=>{let u={relativePath:a===void 0?l.path||"":a,caseSensitive:l.caseSensitive===!0,childrenIndex:s,route:l};u.relativePath.startsWith("/")&&(ve(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Kt([r,u.relativePath]),m=n.concat(u);l.children&&l.children.length>0&&(ve(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),td(l.children,t,m,c)),!(l.path==null&&!l.index)&&t.push({path:c,score:ch(c,l.index),routesMeta:m})};return e.forEach((l,s)=>{var a;if(l.path===""||!((a=l.path)!=null&&a.includes("?")))i(l,s);else for(let u of nd(l.path))i(l,s,u)}),t}function nd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let s=nd(r.join("/")),a=[];return a.push(...s.map(u=>u===""?l:[l,u].join("/"))),i&&a.push(...s),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function rh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dh(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oh=/^:[\w-]+$/,ih=3,lh=2,sh=1,ah=10,uh=-2,La=e=>e==="*";function ch(e,t){let n=e.split("/"),r=n.length;return n.some(La)&&(r+=uh),t&&(r+=lh),n.filter(i=>!La(i)).reduce((i,l)=>i+(oh.test(l)?ih:l===""?sh:ah),r)}function dh(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function fh(e,t,n){let{routesMeta:r}=e,i={},l="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,m=l==="/"?t:t.slice(l.length)||"/",h=ph({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},m),g=u.route;if(!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Kt([l,h.pathname]),pathnameBase:jh(Kt([l,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(l=Kt([l,h.pathnameBase]))}return s}function ph(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=hh(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let l=i[0],s=l.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,m,h)=>{let{paramName:g,isOptional:_}=m;if(g==="*"){let v=a[h]||"";s=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[h];return _&&!w?c[g]=void 0:c[g]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:s,pattern:e}}function hh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Xc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function mh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function gh(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?$n(e):e;return{pathname:n?n.startsWith("/")?n:xh(n,t):t,search:Sh(r),hash:_h(i)}}function xh(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _i(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yh(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vh(e,t){let n=yh(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wh(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=$n(e):(i=Sr({},e),ve(!i.pathname||!i.pathname.includes("?"),_i("?","pathname","search",i)),ve(!i.pathname||!i.pathname.includes("#"),_i("#","pathname","hash",i)),ve(!i.search||!i.search.includes("#"),_i("#","search","hash",i)));let l=e===""||i.pathname==="",s=l?"/":i.pathname,a;if(s==null)a=n;else{let h=t.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}a=h>=0?t[h]:"/"}let u=gh(i,a),c=s&&s!=="/"&&s.endsWith("/"),m=(l||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||m)&&(u.pathname+="/"),u}const Kt=e=>e.join("/").replace(/\/\/+/g,"/"),jh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_h=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const od=["post","put","patch","delete"];new Set(od);const Ch=["get",...od];new Set(Ch);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _r(){return _r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_r.apply(this,arguments)}const xs=x.createContext(null),bh=x.createContext(null),Qo=x.createContext(null),Yo=x.createContext(null),rn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),id=x.createContext(null);function Ko(){return x.useContext(Yo)!=null}function ys(){return Ko()||ve(!1),x.useContext(Yo).location}function ld(e){x.useContext(Qo).static||x.useLayoutEffect(e)}function Eh(){let{isDataRoute:e}=x.useContext(rn);return e?Bh():Nh()}function Nh(){Ko()||ve(!1);let e=x.useContext(xs),{basename:t,future:n,navigator:r}=x.useContext(Qo),{matches:i}=x.useContext(rn),{pathname:l}=ys(),s=JSON.stringify(vh(i,n.v7_relativeSplatPath)),a=x.useRef(!1);return ld(()=>{a.current=!0}),x.useCallback(function(c,m){if(m===void 0&&(m={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=wh(c,JSON.parse(s),l,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Kt([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,s,l,e])}function sd(){let{matches:e}=x.useContext(rn),t=e[e.length-1];return t?t.params:{}}function zh(e,t){return Th(e,t)}function Th(e,t,n,r){Ko()||ve(!1);let{navigator:i}=x.useContext(Qo),{matches:l}=x.useContext(rn),s=l[l.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=ys(),m;if(t){var h;let b=typeof t=="string"?$n(t):t;u==="/"||(h=b.pathname)!=null&&h.startsWith(u)||ve(!1),m=b}else m=c;let g=m.pathname||"/",_=g;if(u!=="/"){let b=u.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=th(e,{pathname:_}),v=Dh(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Kt([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Kt([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,n,r);return t&&v?x.createElement(Yo.Provider,{value:{location:_r({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Nt.Pop}},v):v}function Rh(){let e=Oh(),t=kh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,null)}const Ph=x.createElement(Rh,null);class Fh extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(rn.Provider,{value:this.props.routeContext},x.createElement(id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lh(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(xs);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(rn.Provider,{value:t},r)}function Dh(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let m=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);m>=0||ve(!1),s=s.slice(0,Math.min(s.length,m+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<s.length;m++){let h=s[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=m),h.route.id){let{loaderData:g,errors:_}=n,w=h.route.loader&&g[h.route.id]===void 0&&(!_||_[h.route.id]===void 0);if(h.route.lazy||w){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((m,h,g)=>{let _,w=!1,v=null,b=null;n&&(_=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||Ph,u&&(c<0&&g===0?(Mh("route-fallback"),w=!0,b=null):c===g&&(w=!0,b=h.route.hydrateFallbackElement||null)));let f=t.concat(s.slice(0,g+1)),d=()=>{let p;return _?p=v:w?p=b:h.route.Component?p=x.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=m,x.createElement(Lh,{match:h,routeContext:{outlet:m,matches:f,isDataRoute:n!=null},children:p})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?x.createElement(Fh,{location:n.location,revalidation:n.revalidation,component:v,error:_,children:d(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):d()},null)}var ad=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ad||{}),ud=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ud||{});function $h(e){let t=x.useContext(xs);return t||ve(!1),t}function Ah(e){let t=x.useContext(bh);return t||ve(!1),t}function Ih(e){let t=x.useContext(rn);return t||ve(!1),t}function cd(e){let t=Ih(),n=t.matches[t.matches.length-1];return n.route.id||ve(!1),n.route.id}function Oh(){var e;let t=x.useContext(id),n=Ah(),r=cd();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Bh(){let{router:e}=$h(ad.UseNavigateStable),t=cd(ud.UseNavigateStable),n=x.useRef(!1);return ld(()=>{n.current=!0}),x.useCallback(function(i,l){l===void 0&&(l={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,_r({fromRouteId:t},l)))},[e,t])}const Da={};function Mh(e,t,n){Da[e]||(Da[e]=!0)}function Wh(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function sn(e){ve(!1)}function Uh(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Nt.Pop,navigator:l,static:s=!1,future:a}=e;Ko()&&ve(!1);let u=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:u,navigator:l,static:s,future:_r({v7_relativeSplatPath:!1},a)}),[u,a,l,s]);typeof r=="string"&&(r=$n(r));let{pathname:m="/",search:h="",hash:g="",state:_=null,key:w="default"}=r,v=x.useMemo(()=>{let b=rd(m,u);return b==null?null:{location:{pathname:b,search:h,hash:g,state:_,key:w},navigationType:i}},[u,m,h,g,_,w,i]);return v==null?null:x.createElement(Qo.Provider,{value:c},x.createElement(Yo.Provider,{children:n,value:v}))}function Hh(e){let{children:t,location:n}=e;return zh(wl(t),n)}new Promise(()=>{});function wl(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let l=[...t,i];if(r.type===x.Fragment){n.push.apply(n,wl(r.props.children,l));return}r.type!==sn&&ve(!1),!r.props.index||!r.props.children||ve(!1);let s={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=wl(r.props.children,l)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Vh(e,t){let n=jl(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(l=>{n.append(i,l)})}),n}const qh="6";try{window.__reactRouterVersion=qh}catch{}const Qh="startTransition",$a=Od[Qh];function Yh(e){let{basename:t,children:n,future:r,window:i}=e,l=x.useRef();l.current==null&&(l.current=Jp({window:i,v5Compat:!0}));let s=l.current,[a,u]=x.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},m=x.useCallback(h=>{c&&$a?$a(()=>u(h)):u(h)},[u,c]);return x.useLayoutEffect(()=>s.listen(m),[s,m]),x.useEffect(()=>Wh(r),[r]),x.createElement(Uh,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Aa;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Aa||(Aa={}));var Ia;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ia||(Ia={}));function Kh(e){let t=x.useRef(jl(e)),n=x.useRef(!1),r=ys(),i=x.useMemo(()=>Vh(r.search,n.current?null:t.current),[r.search]),l=Eh(),s=x.useCallback((a,u)=>{const c=jl(typeof a=="function"?a(i):a);n.current=!0,l("?"+c,u)},[l,i]);return[i,s]}const Gh=({userId:e,templateId:t,onSuccess:n,onError:r,apiUrl:i="http://localhost:5001/api"})=>{const[l,s]=x.useState({user_id:e,template_id:t,candidate_first_name:"",candidate_last_name:"",candidate_email:"",candidate_phone_number:"",position_applied_for:"",notes:""}),[a,u]=x.useState(!1),[c,m]=x.useState({}),h=()=>{const w={};return l.candidate_first_name.trim()||(w.candidate_first_name="First name is required"),l.candidate_last_name.trim()||(w.candidate_last_name="Last name is required"),l.position_applied_for.trim()||(w.position_applied_for="Position is required"),l.candidate_email&&!l.candidate_email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)&&(w.candidate_email="Invalid email format"),m(w),Object.keys(w).length===0},g=async w=>{if(w.preventDefault(),!!h()){u(!0),m({});try{const v=await fetch(`${i}/requests`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),b=await v.json();if(!v.ok)throw new Error(b.error||"Failed to create request");n&&b.request&&n(b.request.id),s({...l,candidate_first_name:"",candidate_last_name:"",candidate_email:"",candidate_phone_number:"",position_applied_for:"",notes:""})}catch(v){const b=v instanceof Error?v.message:"An error occurred";m({submit:b}),r&&r(b)}finally{u(!1)}}},_=w=>{const{name:v,value:b}=w.target;s(f=>({...f,[v]:b})),c[v]&&m(f=>{const d={...f};return delete d[v],d})};return o.jsxs("div",{className:"create-reference-request",children:[o.jsx("h2",{children:"Create Reference Check Request"}),o.jsxs("form",{onSubmit:g,children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{htmlFor:"candidate_first_name",children:["Candidate First Name ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"text",id:"candidate_first_name",name:"candidate_first_name",value:l.candidate_first_name,onChange:_,placeholder:"John",required:!0,className:c.candidate_first_name?"error":""}),c.candidate_first_name&&o.jsx("span",{className:"error-message",children:c.candidate_first_name})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{htmlFor:"candidate_last_name",children:["Candidate Last Name ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"text",id:"candidate_last_name",name:"candidate_last_name",value:l.candidate_last_name,onChange:_,placeholder:"Doe",required:!0,className:c.candidate_last_name?"error":""}),c.candidate_last_name&&o.jsx("span",{className:"error-message",children:c.candidate_last_name})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{htmlFor:"position_applied_for",children:["Position Applied For ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"text",id:"position_applied_for",name:"position_applied_for",value:l.position_applied_for,onChange:_,placeholder:"Senior Product Manager",required:!0,className:c.position_applied_for?"error":""}),c.position_applied_for&&o.jsx("span",{className:"error-message",children:c.position_applied_for})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"candidate_email",children:"Candidate Email"}),o.jsx("input",{type:"email",id:"candidate_email",name:"candidate_email",value:l.candidate_email,onChange:_,placeholder:"john.doe@email.com",className:c.candidate_email?"error":""}),c.candidate_email&&o.jsx("span",{className:"error-message",children:c.candidate_email})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"candidate_phone_number",children:"Candidate Phone Number"}),o.jsx("input",{type:"tel",id:"candidate_phone_number",name:"candidate_phone_number",value:l.candidate_phone_number,onChange:_,placeholder:"+1-555-1234"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"notes",children:"Notes"}),o.jsx("textarea",{id:"notes",name:"notes",value:l.notes,onChange:_,placeholder:"Additional information about the candidate...",rows:4})]}),c.submit&&o.jsx("div",{className:"alert alert-error",children:c.submit}),o.jsx("div",{className:"form-actions",children:o.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Creating...":"Create Request"})})]})]})},Zh=({requestId:e,onSuccess:t,onError:n,apiUrl:r="http://localhost:5001/api"})=>{const[i,l]=x.useState([{first_name:"",last_name:"",email:"",phone_number:"",relationship:"",company:""}]),[s,a]=x.useState(!1),[u,c]=x.useState({}),[m,h]=x.useState(!0),g=()=>{l([...i,{first_name:"",last_name:"",email:"",phone_number:"",relationship:"",company:""}])},_=f=>{i.length>1&&l(i.filter((d,p)=>p!==f))},w=(f,d,p)=>{const k=[...i];k[f][d]=p,l(k);const S=`${f}_${d}`;u[S]&&c(L=>{const D={...L};return delete D[S],D})},v=()=>{const f={};return i.forEach((d,p)=>{d.first_name.trim()||(f[`${p}_first_name`]="First name is required"),d.last_name.trim()||(f[`${p}_last_name`]="Last name is required"),d.email.trim()?d.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(f[`${p}_email`]="Invalid email format"):f[`${p}_email`]="Email is required",d.relationship.trim()||(f[`${p}_relationship`]="Relationship is required")}),c(f),Object.keys(f).length===0},b=async f=>{if(f.preventDefault(),!!v()){a(!0),c({});try{const d=m?`${r}/requests/${e}/referees/send`:`${r}/requests/${e}/referees`,p=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({referees:i})}),k=await p.json();if(!p.ok)throw new Error(k.error||"Failed to add referees");t&&k.contacts&&t(k.contacts),l([{first_name:"",last_name:"",email:"",phone_number:"",relationship:"",company:""}])}catch(d){const p=d instanceof Error?d.message:"An error occurred";c({submit:p}),n&&n(p)}finally{a(!1)}}};return o.jsxs("div",{className:"add-referees",children:[o.jsx("h2",{children:"Add Referees"}),o.jsx("p",{className:"help-text",children:"Add one or more people to provide references"}),o.jsxs("form",{onSubmit:b,children:[i.map((f,d)=>o.jsxs("div",{className:"referee-card",children:[o.jsxs("div",{className:"referee-header",children:[o.jsxs("h3",{children:["Referee ",d+1]}),i.length>1&&o.jsx("button",{type:"button",onClick:()=>_(d),className:"btn-remove","aria-label":"Remove referee",children:""})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{htmlFor:`first_name_${d}`,children:["First Name ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"text",id:`first_name_${d}`,value:f.first_name,onChange:p=>w(d,"first_name",p.target.value),placeholder:"Jane",className:u[`${d}_first_name`]?"error":""}),u[`${d}_first_name`]&&o.jsx("span",{className:"error-message",children:u[`${d}_first_name`]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{htmlFor:`last_name_${d}`,children:["Last Name ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"text",id:`last_name_${d}`,value:f.last_name,onChange:p=>w(d,"last_name",p.target.value),placeholder:"Smith",className:u[`${d}_last_name`]?"error":""}),u[`${d}_last_name`]&&o.jsx("span",{className:"error-message",children:u[`${d}_last_name`]})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{htmlFor:`email_${d}`,children:["Email ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"email",id:`email_${d}`,value:f.email,onChange:p=>w(d,"email",p.target.value),placeholder:"jane.smith@company.com",className:u[`${d}_email`]?"error":""}),u[`${d}_email`]&&o.jsx("span",{className:"error-message",children:u[`${d}_email`]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:`phone_number_${d}`,children:"Phone Number"}),o.jsx("input",{type:"tel",id:`phone_number_${d}`,value:f.phone_number,onChange:p=>w(d,"phone_number",p.target.value),placeholder:"+1-555-0100"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{htmlFor:`relationship_${d}`,children:["Relationship ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"text",id:`relationship_${d}`,value:f.relationship,onChange:p=>w(d,"relationship",p.target.value),placeholder:"Direct Manager, Colleague, Team Lead...",className:u[`${d}_relationship`]?"error":""}),u[`${d}_relationship`]&&o.jsx("span",{className:"error-message",children:u[`${d}_relationship`]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:`company_${d}`,children:"Company/Organization"}),o.jsx("input",{type:"text",id:`company_${d}`,value:f.company,onChange:p=>w(d,"company",p.target.value),placeholder:"e.g., Google, Acme Corp, or Personal Friend"}),o.jsx("span",{className:"help-text",style:{fontSize:"12px",color:"#6b7280",marginTop:"4px",display:"block"},children:"Where you worked together (or context for personal references)"})]})]},d)),o.jsx("button",{type:"button",onClick:g,className:"btn-secondary",children:"+ Add Another Referee"}),u.submit&&o.jsx("div",{className:"alert alert-error",children:u.submit}),o.jsx("div",{style:{marginBottom:"20px",padding:"15px",background:"#f0f9ff",border:"1px solid #bfdbfe",borderRadius:"6px"},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:m,onChange:f=>h(f.target.checked),style:{marginRight:"10px",width:"18px",height:"18px",cursor:"pointer"}}),o.jsxs("span",{style:{fontSize:"14px",lineHeight:"1.5"},children:[o.jsx("strong",{children:"Send invitation emails immediately"}),o.jsx("br",{}),o.jsx("span",{style:{color:"#6b7280",fontSize:"13px"},children:"Automatically email referees after adding them (recommended)"})]})]})}),o.jsx("div",{className:"form-actions",children:o.jsx("button",{type:"submit",disabled:s,className:"btn-primary",children:s?m?"Adding & Sending...":"Adding Referees...":m?`Add & Send to ${i.length} Referee${i.length>1?"s":""}`:`Add ${i.length} Referee${i.length>1?"s":""}`})})]})]})},Jh="modulepreload",Xh=function(e){return"/"+e},Oa={},kr=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=Xh(u),u in Oa)return;Oa[u]=!0;const c=u.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Jh,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((g,_)=>{h.addEventListener("load",g),h.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function l(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&l(a.reason);return t().catch(l)})},em=({isOpen:e,onClose:t,responseId:n,questions:r,currentAnswers:i,apiUrl:l,userId:s,onSaveSuccess:a})=>{const[u,c]=x.useState(i),[m,h]=x.useState(""),[g,_]=x.useState(!1),[w,v]=x.useState(""),[b,f]=x.useState([]),[d,p]=x.useState(!1),[k,S]=x.useState(null),[L,D]=x.useState(!1);x.useEffect(()=>{e&&n&&O()},[e,n]),x.useEffect(()=>{e&&(c(i),h(""),v(""),D(!1),S(null))},[e,i]);const O=async()=>{try{p(!0);const E=await fetch(`${l}/responses/${n}/versions`);if(!E.ok){const W=await E.json();throw console.error("Failed to fetch versions - server response:",W),new Error(W.message||W.error||"Failed to fetch versions")}const T=await E.json();f(T.versions||[])}catch(E){console.error("Error fetching versions:",E)}finally{p(!1)}},Y=(E,T)=>{c(W=>({...W,[E]:T}))},B=async()=>{try{_(!0),v("");const E=r.filter(Q=>{var R;return Q.required&&!((R=u[Q.id])!=null&&R.trim())});if(E.length>0){v(`Please answer all required questions: ${E.map(Q=>Q.text).join(", ")}`);return}const T=await fetch(`${l}/responses/${n}/versions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:s,answers_json:u,edit_notes:m.trim()})});if(!T.ok){const Q=await T.json();console.error("Server error details:",Q);const R=Q.message||Q.error||"Failed to save edited version";throw new Error(R)}const W=await T.json();alert(` Version ${W.version.version} saved successfully!`),await O(),a(),t()}catch(E){const T=E instanceof Error?E.message:"Failed to save";v(T),console.error("Save error:",E)}finally{_(!1)}},F=E=>{S(E),c(E.answers_json)},X=()=>{const E=b.find(T=>T.is_original);E&&(c(E.answers_json),S(E))},K=()=>{c(i),S(null)};return e?o.jsx("div",{className:"modal-overlay",onClick:t,children:o.jsxs("div",{className:"modal-content edit-response-modal",onClick:E=>E.stopPropagation(),style:{maxWidth:"900px",maxHeight:"90vh",overflow:"auto"},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:" Edit Reference Response"}),o.jsx("button",{onClick:t,className:"btn-close",children:""})]}),w&&o.jsx("div",{className:"error-message",style:{margin:"16px 0"},children:o.jsxs("p",{children:[" ",w]})}),k&&o.jsxs("div",{className:"version-info-banner",style:{background:k.is_original?"#fff3cd":"#d1ecf1",padding:"12px",borderRadius:"6px",marginBottom:"16px",border:`2px solid ${k.is_original?"#ffc107":"#0dcaf0"}`},children:[o.jsx("strong",{children:k.is_original?" Viewing Original Version":` Viewing Version ${k.version}`}),!k.is_original&&o.jsxs("div",{style:{fontSize:"13px",marginTop:"4px",color:"#666"},children:["Edited ",new Date(k.edited_at).toLocaleString(),k.edit_notes&&` - ${k.edit_notes}`]})]}),o.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"12px",alignItems:"center"},children:[o.jsxs("button",{onClick:()=>D(!L),className:"btn btn-secondary",style:{fontSize:"14px"},children:[L?" Hide":" Show"," Version History (",b.length,")"]}),b.length>1&&!k&&o.jsx("button",{onClick:X,className:"btn btn-secondary",style:{fontSize:"14px"},children:" Reset to Original"}),k&&o.jsx("button",{onClick:K,className:"btn btn-secondary",style:{fontSize:"14px"},children:" Reset to Latest"})]}),L&&o.jsxs("div",{className:"version-history",style:{marginBottom:"24px",maxHeight:"200px",overflow:"auto",border:"2px solid #e2e8f0",borderRadius:"8px",padding:"12px"},children:[o.jsx("h3",{style:{fontSize:"16px",marginBottom:"12px"},children:"Version History"}),d?o.jsx("p",{children:"Loading versions..."}):o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:b.map(E=>o.jsx("div",{style:{padding:"12px",background:(k==null?void 0:k.id)===E.id?"#f0f9ff":"white",border:`2px solid ${(k==null?void 0:k.id)===E.id?"#0ea5e9":"#e2e8f0"}`,borderRadius:"6px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>F(E),children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("strong",{children:E.is_original?" Original":` Version ${E.version}`}),o.jsx("div",{style:{fontSize:"13px",color:"#666",marginTop:"4px"},children:E.is_original?o.jsxs(o.Fragment,{children:["Submitted: ",new Date(E.submitted_at).toLocaleString()]}):o.jsxs(o.Fragment,{children:["Edited: ",new Date(E.edited_at).toLocaleString(),E.edit_notes&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("em",{children:E.edit_notes})]})]})})]}),(k==null?void 0:k.id)===E.id&&o.jsx("span",{style:{color:"#0ea5e9",fontSize:"20px"},children:""})]})},E.id))})]}),o.jsxs("div",{className:"edit-form",children:[o.jsx("h3",{style:{fontSize:"16px",marginBottom:"16px"},children:"Edit Answers"}),r.map(E=>o.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:[E.text,E.required&&o.jsx("span",{style:{color:"#dc2626"},children:" *"})]}),o.jsx("textarea",{value:u[E.id]||"",onChange:T=>Y(E.id,T.target.value),rows:4,style:{width:"100%",padding:"12px",border:"2px solid #e2e8f0",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",resize:"vertical"},placeholder:"Enter answer..."})]},E.id)),o.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Edit Notes (optional)"}),o.jsx("input",{type:"text",value:m,onChange:E=>h(E.target.value),placeholder:"e.g., Corrected typos, clarified answer to Q3",style:{width:"100%",padding:"12px",border:"2px solid #e2e8f0",borderRadius:"6px",fontSize:"14px"}}),o.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"These notes will be saved with this version for reference."})]})]}),o.jsxs("div",{className:"modal-actions",style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"24px",paddingTop:"16px",borderTop:"2px solid #e2e8f0"},children:[o.jsx("button",{onClick:t,className:"btn btn-secondary",disabled:g,children:"Cancel"}),o.jsx("button",{onClick:B,className:"btn btn-primary",disabled:g,style:{background:"#10b981",minWidth:"120px"},children:g?"Saving...":" Save New Version"})]})]})}):null},tm=({requestId:e,refereeId:t,apiUrl:n="http://localhost:5001/api",userId:r="user-test-1",onClose:i})=>{const[l,s]=x.useState(null),[a,u]=x.useState(!0),[c,m]=x.useState(""),[h,g]=x.useState(!1);x.useEffect(()=>{_()},[e,t]);const _=async()=>{u(!0),m("");try{const b=await fetch(`${n}/requests/${e}/referees/${t}/report`),f=await b.json();if(!b.ok)throw new Error(f.error||"Failed to fetch reference data");s(f.data)}catch(b){const f=b instanceof Error?b.message:"An error occurred";m(f)}finally{u(!1)}},w=()=>{kr(()=>import("./html2pdf-DflpMrGE-v2.js").then(b=>b.h),__vite__mapDeps([0,1,2])).then(b=>{const f=document.querySelector(".reference-report"),d=l!=null&&l.candidate?`${l.candidate.first_name}_${l.candidate.last_name}`:"reference",p=l!=null&&l.referee?`${l.referee.first_name}_${l.referee.last_name}`:"report",S={margin:.5,filename:`${d}_reference_${p}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};b.default().set(S).from(f).save()}).catch(()=>{alert("PDF generation library not loaded. Please use Print functionality."),window.print()})},v=b=>new Date(b).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?o.jsx("div",{className:"reference-report-modal",children:o.jsx("div",{className:"reference-report-container",children:o.jsx("div",{className:"loading",children:"Loading reference..."})})}):c?o.jsx("div",{className:"reference-report-modal",children:o.jsxs("div",{className:"reference-report-container",children:[o.jsx("div",{className:"alert alert-error",children:c}),o.jsx("button",{onClick:i,className:"btn-secondary",children:"Close"})]})}):l?o.jsxs("div",{className:"reference-report-modal",children:[o.jsxs("div",{className:"reference-report-container",children:[o.jsxs("div",{className:"report-actions no-print",children:[o.jsx("button",{onClick:()=>g(!0),className:"btn-primary",style:{background:"#f59e0b"},children:" Edit Response"}),o.jsx("button",{onClick:w,className:"btn-primary",children:" Download PDF"}),o.jsx("button",{onClick:i,className:"btn-secondary",children:"Close"})]}),o.jsxs("div",{className:"reference-report",children:[o.jsxs("div",{className:"report-header",children:[o.jsx("div",{className:"logo-placeholder",children:o.jsx("div",{className:"logo-box",children:"COMPANY LOGO"})}),o.jsx("h1",{children:"Reference Check Report"}),o.jsxs("div",{className:"report-date",children:["Generated: ",v(new Date().toISOString())]}),l.submission.version&&l.submission.version>1&&o.jsxs("div",{style:{marginTop:"12px",padding:"8px 16px",background:"#d1ecf1",border:"2px solid #0dcaf0",borderRadius:"6px",fontSize:"14px",textAlign:"center"},children:[" ",o.jsxs("strong",{children:["Version ",l.submission.version]}),l.submission.edited_at&&o.jsxs("span",{children:[" - Edited ",v(l.submission.edited_at)]}),l.submission.edit_notes&&o.jsx("div",{style:{fontSize:"12px",marginTop:"4px",fontStyle:"italic"},children:l.submission.edit_notes})]})]}),o.jsxs("div",{className:"report-section",children:[o.jsx("h2",{children:"Candidate Information"}),o.jsxs("div",{className:"info-grid",children:[o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"Name:"}),o.jsxs("span",{className:"info-value",children:[l.candidate.first_name," ",l.candidate.last_name]})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"Position Applied For:"}),o.jsx("span",{className:"info-value",children:l.candidate.position_applied_for})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"Email:"}),o.jsx("span",{className:"info-value",children:l.candidate.email})]}),l.candidate.phone_number&&o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"Phone:"}),o.jsx("span",{className:"info-value",children:l.candidate.phone_number})]})]})]}),o.jsxs("div",{className:"report-section",children:[o.jsx("h2",{children:"Referee Information"}),o.jsxs("div",{className:"info-grid",children:[o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"Name:"}),o.jsxs("span",{className:"info-value",children:[l.referee.first_name," ",l.referee.last_name]})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"Relationship:"}),o.jsx("span",{className:"info-value",children:l.referee.relationship})]}),l.referee.company&&o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"Company:"}),o.jsx("span",{className:"info-value",children:l.referee.company})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"Email:"}),o.jsx("span",{className:"info-value",children:l.referee.email})]}),l.referee.phone_number&&o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"Phone:"}),o.jsx("span",{className:"info-value",children:l.referee.phone_number})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-label",children:"Submitted:"}),o.jsx("span",{className:"info-value",children:v(l.submission.submitted_at)})]})]})]}),o.jsxs("div",{className:"report-section",children:[o.jsx("h2",{children:"Reference Details"}),o.jsx("div",{className:"questions-answers",children:Object.entries(l.submission.answers).map(([b,f],d)=>{const p=l.template.questions.find(L=>L.id===b),k=(p==null?void 0:p.text)||b,S=typeof f=="object"&&f!==null&&"original_answer"in f&&"follow_up_answer"in f;return o.jsxs("div",{className:"qa-item",children:[o.jsxs("div",{className:"question-label",children:[o.jsxs("strong",{children:["Q",d+1,":"]})," ",k]}),S?o.jsxs("div",{children:[o.jsx("div",{className:"answer-text",children:f.original_answer}),o.jsxs("div",{className:"follow-up-section",style:{marginTop:"12px"},children:[o.jsx("div",{className:"follow-up-label",style:{fontSize:"16px",fontWeight:"600",color:"#667eea",marginBottom:"8px"},children:"Follow-up Response:"}),o.jsx("div",{className:"answer-text",style:{background:"#f0f4ff",borderLeft:"3px solid #667eea"},children:f.follow_up_answer})]})]}):o.jsx("div",{className:"answer-text",children:typeof f=="object"?JSON.stringify(f,null,2):f})]},b)})})]}),o.jsxs("div",{className:"report-footer",children:[o.jsx("p",{children:"This reference was provided voluntarily by the referee listed above. The information contained in this report is confidential and should be treated accordingly."}),o.jsxs("p",{className:"report-id",children:["Reference ID: ",t]})]})]})]}),h&&o.jsx(em,{isOpen:h,onClose:()=>g(!1),responseId:l.submission.id,questions:l.template.questions,currentAnswers:l.submission.answers,apiUrl:n,userId:r,onSaveSuccess:()=>{_()}})]}):null},nm=({token:e,apiUrl:t="http://localhost:5001/api",onAuthorizationComplete:n})=>{const[r,i]=x.useState(!0),[l,s]=x.useState(""),[a,u]=x.useState(null),[c,m]=x.useState(""),[h,g]=x.useState(!1),[_,w]=x.useState(!1),[v,b]=x.useState(!1),[f,d]=x.useState(!1);x.useEffect(()=>{if(!e){s("Invalid authorization link"),i(!1);return}fetch(`${t}/public/referee-authorization?token=${e}`).then(S=>S.json()).then(S=>{S.ok?u(S.data):s(S.error||"Failed to load authorization form"),i(!1)}).catch(S=>{console.error("Authorization fetch error:",S),s("Failed to load authorization. Please try again."),i(!1)})},[e,t]);const p=async S=>{if(S.preventDefault(),!c.trim()){alert("Please enter your full name as signature");return}if(!h){alert("You must agree to the consent terms to proceed");return}w(!0);try{const L=await fetch(`${t}/public/referee-authorization/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,signature:c.trim(),agreed:h,user_agent:navigator.userAgent,signed_at:new Date().toISOString()})}),D=await L.json();L.ok?n&&n():alert(`Error: ${D.error||"Failed to submit authorization"}`)}catch{alert("Network error. Please check your connection and try again.")}finally{w(!1)}},k=async()=>{if(confirm("Are you sure you do not wish to provide a reference? The hiring company will be notified.")){b(!0);try{const S=await fetch(`${t}/public/referee-authorization/decline`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,user_agent:navigator.userAgent,declined_at:new Date().toISOString()})}),L=await S.json();S.ok?d(!0):alert(`Error: ${L.error||"Failed to record decline"}`)}catch{alert("Network error. Please check your connection and try again.")}finally{b(!1)}}};return r?o.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center",background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[o.jsx("h2",{children:"Loading..."}),o.jsx("p",{children:"Please wait while we load your consent form."})]}):f?o.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"40px",textAlign:"center",background:"#f0f9ff",border:"2px solid #3b82f6",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[o.jsx("h2",{style:{color:"#1e40af",marginTop:0},children:"Thank You for Your Time"}),o.jsxs("p",{style:{fontSize:"16px",lineHeight:"1.6",marginBottom:"20px"},children:["We've notified ",(a==null?void 0:a.recruiting_company)||"the hiring company"," that you do not wish to be a reference."]}),o.jsx("p",{style:{marginTop:"20px",fontSize:"14px",color:"#666"},children:"You may now close this window."})]}):l||!a?o.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center",background:"#fee2e2",border:"2px solid #ef4444",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[o.jsx("h2",{style:{color:"#dc2626",marginTop:0},children:" Authorization Error"}),o.jsx("p",{style:{fontSize:"16px",lineHeight:"1.6"},children:l||"Failed to load authorization data"}),o.jsx("p",{style:{marginTop:"20px",fontSize:"14px",color:"#666"},children:"If you believe this is an error, please contact the hiring team for assistance."})]}):o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,minHeight:"100vh",background:"linear-gradient(to bottom, #f3f4f6, #e5e7eb)",padding:"40px 20px",overflow:"auto",zIndex:9999},children:o.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"40px",background:"white",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsx("h1",{style:{marginTop:0,marginBottom:"10px",color:"#1f2937",fontSize:"28px"},children:"Referee Authorisation and Consent Form"}),o.jsx("p",{style:{color:"#666",fontSize:"15px",lineHeight:"1.6",marginBottom:"30px"},children:"This form confirms that you, as a referee, understand the purpose of the reference process and consent to providing information about the named candidate. It also outlines how your information and the information you provide will be collected, used, and stored in compliance with privacy laws."}),o.jsx("div",{style:{padding:"15px",background:"#f9fafb",borderRadius:"6px",marginBottom:"30px",borderLeft:"4px solid #2563eb"},children:o.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#666"},children:[o.jsx("strong",{children:"Referee:"})," ",a.referee_name,o.jsx("br",{}),o.jsx("strong",{children:"Candidate:"})," ",a.candidate_name,o.jsx("br",{}),o.jsx("strong",{children:"Position:"})," ",a.position,o.jsx("br",{}),o.jsx("strong",{children:"Company:"})," ",a.recruiting_company]})}),o.jsxs("form",{onSubmit:p,children:[o.jsxs("div",{style:{background:"#f9fafb",padding:"25px",borderRadius:"8px",marginBottom:"25px",border:"1px solid #e5e7eb"},children:[o.jsx("h3",{style:{marginTop:0,color:"#1f2937",fontSize:"18px"},children:"1. Consent to Provide Information"}),o.jsxs("p",{style:{lineHeight:"1.7",marginBottom:"20px"},children:["I understand that I am being asked to provide information about ",o.jsx("strong",{children:a.candidate_name})," for the purpose of assessing their suitability for employment or engagement with ",o.jsx("strong",{children:a.recruiting_company}),". I confirm that all information I provide will be true and accurate to the best of my knowledge."]}),o.jsx("h3",{style:{marginTop:"20px",color:"#1f2937",fontSize:"18px"},children:"2. Consent to Collection and Use of Information"}),o.jsxs("p",{style:{lineHeight:"1.7",marginBottom:"10px"},children:["I understand that my responses, including opinions and factual information about the candidate, will be collected and stored by ",o.jsx("strong",{children:a.recruiting_company})," for the purpose of completing a reference check."]}),o.jsx("p",{style:{lineHeight:"1.7",marginBottom:"10px",fontWeight:"600"},children:"This information may be shared with:"}),o.jsxs("ul",{style:{textAlign:"left",lineHeight:"1.8",paddingLeft:"20px",marginBottom:"20px"},children:[o.jsx("li",{children:"The hiring organisation or client for whom the reference is being conducted"}),o.jsx("li",{children:"The candidate"}),o.jsx("li",{children:"Regulatory or compliance bodies where required by law"})]}),o.jsx("h3",{style:{marginTop:"20px",color:"#1f2937",fontSize:"18px"},children:"3. Consent to Disclose Information"}),o.jsxs("p",{style:{lineHeight:"1.7",marginBottom:"20px"},children:["I consent to ",o.jsx("strong",{children:a.recruiting_company})," disclosing my reference responses to the hiring organisation, the candidate (where required), and any third-party service providers engaged to perform the reference process on their behalf."]}),o.jsx("h3",{style:{marginTop:"20px",color:"#1f2937",fontSize:"18px"},children:"4. Data Storage & Retention"}),o.jsxs("p",{style:{lineHeight:"1.7",marginBottom:"20px"},children:["I understand that my reference responses and contact information will be securely stored in accordance with ",o.jsx("strong",{children:a.recruiting_company})," privacy policy and may be retained for audit, compliance, or quality assurance purposes."]}),o.jsx("h3",{style:{marginTop:"20px",color:"#1f2937",fontSize:"18px"},children:"5. Right to Withdraw Consent"}),o.jsxs("p",{style:{lineHeight:"1.7",marginBottom:"20px"},children:["I acknowledge that I may withdraw my consent to the collection and use of my information at any time by contacting ",o.jsx("strong",{children:a.contact_email}),", though this may affect the ability to complete the reference process."]}),o.jsx("h3",{style:{marginTop:"20px",color:"#1f2937",fontSize:"18px"},children:"6. Acknowledgment"}),o.jsx("p",{style:{lineHeight:"1.7",marginBottom:"0"},children:"I have read and understood the information above and consent to participate as a referee. I understand that my participation is voluntary."})]}),o.jsxs("div",{style:{marginBottom:"25px"},children:[o.jsx("h3",{style:{marginTop:0,color:"#1f2937",fontSize:"18px"},children:"7. Signature Section"}),o.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#1f2937"},children:["Electronic Signature (type your full name) ",o.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),o.jsx("input",{type:"text",value:c,onChange:S=>m(S.target.value),placeholder:"Jane Smith",disabled:_,required:!0,style:{width:"100%",padding:"12px",border:"2px solid #d1d5db",borderRadius:"6px",fontSize:"16px",fontFamily:"Georgia, serif",fontStyle:"italic",transition:"border-color 0.2s"},onFocus:S=>S.target.style.borderColor="#2563eb",onBlur:S=>S.target.style.borderColor="#d1d5db"}),o.jsx("small",{style:{color:"#666",display:"block",marginTop:"8px",fontSize:"13px"},children:"By typing your name above, you are providing a legally binding electronic signature"})]}),o.jsx("div",{style:{marginBottom:"30px",padding:"15px",background:"#fef3c7",borderRadius:"6px",border:"1px solid #fbbf24"},children:o.jsxs("label",{style:{display:"flex",alignItems:"flex-start",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:h,onChange:S=>g(S.target.checked),disabled:_,required:!0,style:{marginRight:"12px",marginTop:"4px",width:"18px",height:"18px",cursor:"pointer"}}),o.jsxs("span",{style:{fontSize:"14px",lineHeight:"1.6"},children:["I have read and understood the information above and consent to participate as a referee. I understand that my participation is voluntary and that all information I provide will be true and accurate to the best of my knowledge. ",o.jsx("span",{style:{color:"#dc2626",fontWeight:"600"},children:"*"})]})]})}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.jsx("button",{type:"submit",disabled:_||v||!c.trim()||!h,style:{width:"100%",padding:"16px",background:_||v||!c.trim()||!h?"#9ca3af":"#2563eb",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"600",cursor:_||v||!c.trim()||!h?"not-allowed":"pointer",transition:"background-color 0.2s"},onMouseEnter:S=>{!_&&!v&&c.trim()&&h&&(S.currentTarget.style.background="#1d4ed8")},onMouseLeave:S=>{!_&&!v&&c.trim()&&h&&(S.currentTarget.style.background="#2563eb")},children:_?" Submitting...":" I Consent - Proceed to Reference Questions"}),o.jsx("button",{type:"button",onClick:k,disabled:_||v,style:{width:"100%",padding:"14px",background:_||v?"#d1d5db":"#ffffff",color:"#dc2626",border:"2px solid #dc2626",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:_||v?"not-allowed":"pointer",transition:"all 0.2s"},onMouseEnter:S=>{!_&&!v&&(S.currentTarget.style.background="#fee2e2")},onMouseLeave:S=>{!_&&!v&&(S.currentTarget.style.background="#ffffff")},children:v?" Processing...":" I Don't Consent"})]})]}),o.jsxs("div",{style:{marginTop:"30px",padding:"20px",background:"#f9fafb",borderRadius:"6px",fontSize:"13px",color:"#666",textAlign:"center",borderTop:"2px solid #e5e7eb"},children:[o.jsxs("p",{style:{margin:"0 0 10px 0"},children:[o.jsx("strong",{children:"Date:"})," ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),o.jsxs("p",{style:{margin:0},children:["Questions? Contact ",o.jsx("strong",{children:a.contact_email})," for assistance."]})]})]})})},rm=({token:e,apiUrl:t="http://localhost:5001/api",onComplete:n,onSessionIdChange:r})=>{const[i,l]=x.useState(null),[s,a]=x.useState([]),[u,c]=x.useState(null),[m,h]=x.useState(""),[g,_]=x.useState(!0),[w,v]=x.useState(!1),[b,f]=x.useState(""),[d,p]=x.useState({answered:0,total:0,percent:0}),[k,S]=x.useState("in_progress"),L=x.useRef(null),D=x.useRef(null);x.useEffect(()=>{var K;console.log("ConversationalChat: messages changed, count:",s.length),(K=L.current)==null||K.scrollIntoView({behavior:"smooth"})},[s]),x.useEffect(()=>{e&&(console.log("ConversationalChat: Initializing session with token:",e),O())},[e]),x.useEffect(()=>{var K;u&&!w&&((K=D.current)==null||K.focus())},[u,w]);const O=async()=>{var K,E;console.log("ConversationalChat: initializeSession called"),console.log("ConversationalChat: apiUrl =",t),console.log("ConversationalChat: token =",e),_(!0),f("");try{const T=`${t}/conversation/init?token=${e}`;console.log("ConversationalChat: Fetching:",T);const W=await fetch(T);console.log("ConversationalChat: Response received:",W.status,W.statusText);const Q=await W.json();if(console.log("ConversationalChat: Data received:",Q),!W.ok)throw console.log("ConversationalChat: Response not OK, throwing error"),new Error(Q.error||"Failed to initialize session");if(console.log("ConversationalChat: Setting session state..."),l(Q.session_id),S(Q.status),p(Q.progress),r&&Q.session_id&&(console.log("ConversationalChat: Notifying parent of sessionId:",Q.session_id),r(Q.session_id)),Q.status==="completed")console.log("ConversationalChat: Session already completed"),Y("assistant","Thank you! Your reference check has already been completed."),S("completed");else if(Q.status==="in_review"||Q.status==="ready_for_review")console.log("ConversationalChat: All questions answered, ready for review"),Y("assistant"," Great! You've answered all the questions. Please review your answers before submitting."),S("ready_for_review"),n&&setTimeout(()=>n(),1e3);else if(Q.question){console.log("ConversationalChat: Adding question to chat:",Q.question);const R=((K=Q.context)==null?void 0:K.candidate_name)||"",z=((E=Q.context)==null?void 0:E.position)||"";let I=`Thank you for providing a reference${R?` for ${R}`:""}.`;z&&(I+=` They have applied for the position of ${z}.`),I+=" I'll ask you a series of questions about your experience working together. Please answer naturally and honestly.",Y("assistant",I),setTimeout(()=>{c(Q.question),Y("assistant",Q.question.text)},300)}else console.log("ConversationalChat: No question in response!")}catch(T){console.error("ConversationalChat: Error in initializeSession:",T);const W=T instanceof Error?T.message:"An error occurred";f(W),Y("assistant",`Error: ${W}`)}finally{_(!1)}},Y=(K,E)=>{console.log("ConversationalChat: addMessage called",{role:K,content:E,contentLength:E==null?void 0:E.length}),a(T=>{const W=[...T,{role:K,content:E,timestamp:new Date}];return console.log("ConversationalChat: New messages array:",W),W})},B=async K=>{if(K.preventDefault(),!m.trim()||!i||!u)return;v(!0),f(""),Y("user",m.trim());const E=m.trim();h("");try{const T=await fetch(`${t}/conversation/answer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:i,question_index:u.index,answer:E,skip_proofreading:!1})}),W=await T.json();if(!T.ok)throw new Error(W.error||"Failed to save answer");p(W.progress),S(W.status);let Q=!1;W.status==="needs_clarification"?(W.message&&Y("assistant",W.message),W.same_question&&c(W.same_question)):W.status==="ready_for_review"?(Y("assistant"," Great! You've answered all the questions. Please review your answers before submitting."),c(null),S("ready_for_review")):W.next_question&&(W.acknowledgment?(Y("assistant",W.acknowledgment),Q=!0,setTimeout(()=>{c(W.next_question),Y("assistant",W.next_question.text),v(!1)},600)):(c(W.next_question),Y("assistant",W.next_question.text))),Q||v(!1)}catch(T){const W=T instanceof Error?T.message:"An error occurred";f(W),Y("assistant",`Error: ${W}. Please try again.`),v(!1)}},F=()=>{n&&n()},X=K=>K.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return g?o.jsx("div",{style:{padding:"40px",textAlign:"center"},children:o.jsx("div",{style:{fontSize:"16px",color:"#6b7280"},children:"Loading conversation..."})}):o.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",maxHeight:"800px",backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden"},children:[o.jsxs("div",{style:{padding:"20px",backgroundColor:"#ffffff",borderBottom:"1px solid #e5e7eb"},children:[o.jsx("h2",{style:{margin:0,fontSize:"20px",color:"#111827"},children:"Reference Check"}),o.jsxs("div",{style:{marginTop:"8px",display:"flex",alignItems:"center",gap:"12px",fontSize:"14px",color:"#6b7280"},children:[o.jsxs("span",{children:["Progress: ",d.answered," / ",d.total," questions"]}),o.jsx("div",{style:{flex:1,height:"6px",backgroundColor:"#e5e7eb",borderRadius:"3px",overflow:"hidden"},children:o.jsx("div",{style:{height:"100%",width:`${d.percent}%`,backgroundColor:"#3b82f6",transition:"width 0.3s ease"}})}),o.jsxs("span",{children:[d.percent,"%"]})]})]}),o.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:[s.map((K,E)=>o.jsx("div",{style:{display:"flex",justifyContent:K.role==="user"?"flex-end":"flex-start",animation:"fadeIn 0.3s ease"},children:o.jsxs("div",{style:{maxWidth:"70%",padding:"12px 16px",borderRadius:"12px",backgroundColor:K.role==="user"?"#3b82f6":"#ffffff",color:K.role==="user"?"#ffffff":"#111827",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",border:K.role==="assistant"?"1px solid #e5e7eb":"none"},children:[o.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:K.content}),o.jsx("div",{style:{marginTop:"4px",fontSize:"11px",opacity:.7},children:X(K.timestamp)})]})},E)),w&&o.jsx("div",{style:{display:"flex",justifyContent:"flex-start",animation:"fadeIn 0.3s ease"},children:o.jsxs("div",{style:{maxWidth:"70%",padding:"12px 16px",borderRadius:"12px",backgroundColor:"#ffffff",color:"#6b7280",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",border:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsxs("div",{className:"typing-indicator",children:[o.jsx("span",{}),o.jsx("span",{}),o.jsx("span",{})]}),o.jsx("span",{style:{fontSize:"14px"},children:"Thinking..."})]})}),o.jsx("div",{ref:L})]}),(k==="in_progress"||k==="needs_clarification")&&u&&o.jsxs("form",{onSubmit:B,style:{padding:"20px",backgroundColor:"#ffffff",borderTop:"1px solid #e5e7eb"},children:[b&&o.jsx("div",{style:{marginBottom:"12px",padding:"12px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",color:"#dc2626",fontSize:"14px"},children:b}),o.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end"},children:[o.jsx("textarea",{ref:D,value:m,onChange:K=>h(K.target.value),placeholder:"Type your answer here...",disabled:w,spellCheck:!0,rows:3,style:{flex:1,padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",resize:"vertical",fontFamily:"inherit"},onKeyDown:K=>{K.key==="Enter"&&(K.ctrlKey||K.metaKey)&&(K.preventDefault(),B(K))}}),o.jsx("button",{type:"submit",disabled:!m.trim()||w,style:{padding:"12px 24px",backgroundColor:!m.trim()||w?"#d1d5db":"#3b82f6",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:!m.trim()||w?"not-allowed":"pointer",minWidth:"100px"},children:w?"Sending...":"Send"})]}),o.jsx("div",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:"Press Ctrl+Enter to send  Browser spell-check enabled"})]}),k==="ready_for_review"&&o.jsx("div",{style:{padding:"20px",backgroundColor:"#ffffff",borderTop:"1px solid #e5e7eb",textAlign:"center"},children:o.jsx("button",{onClick:F,style:{padding:"12px 32px",backgroundColor:"#10b981",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"500",cursor:"pointer"},children:"Review & Submit Answers"})}),k==="completed"&&o.jsx("div",{style:{padding:"20px",backgroundColor:"#ecfdf5",borderTop:"1px solid #a7f3d0",textAlign:"center"},children:o.jsx("div",{style:{fontSize:"16px",color:"#059669",fontWeight:"500"},children:" Reference check completed"})}),o.jsx("style",{children:`
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }

          .typing-indicator {
            display: flex;
            gap: 4px;
            align-items: center;
          }

          .typing-indicator span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #9ca3af;
            animation: typing 1.4s infinite;
          }

          .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
          }

          .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
          }

          @keyframes typing {
            0%, 60%, 100% {
              transform: translateY(0);
              opacity: 0.7;
            }
            30% {
              transform: translateY(-10px);
              opacity: 1;
            }
          }
        `})]})},om=({sessionId:e,apiUrl:t="http://localhost:5001/api",onComplete:n,onBack:r})=>{const[i,l]=x.useState([]),[s,a]=x.useState(!0),[u,c]=x.useState(!1),[m,h]=x.useState(""),[g,_]=x.useState(null),[w,v]=x.useState(""),[b,f]=x.useState(""),[d,p]=x.useState(null),[k,S]=x.useState(""),[L,D]=x.useState(0);x.useEffect(()=>{O()},[e]);const O=async()=>{a(!0),h("");try{const E=await fetch(`${t}/conversation/review/${e}`),T=await E.json();if(!E.ok)throw new Error(T.error||"Failed to fetch review data");l(T.review_items),S(T.status),D(T.total_questions)}catch(E){const T=E instanceof Error?E.message:"An error occurred";h(T)}finally{a(!1)}},Y=E=>{_(E.answer_id),v(E.polished_answer),f("")},B=()=>{_(null),v(""),f("")},F=async E=>{if(!w.trim()){alert("Answer cannot be empty");return}try{const T=await fetch(`${t}/conversation/revise`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answer_id:E,new_answer:w.trim(),revision_reason:b||"User revision during review"})}),W=await T.json();if(!T.ok)throw new Error(W.error||"Failed to save revision");l(Q=>Q.map(R=>{var z;if(R.answer_id===E){const I=((z=R.conversation_turns)==null?void 0:z.map(q=>q.type==="user_answer"?{...q,content:w.trim()}:q))||[];return{...R,polished_answer:w.trim(),conversation_turns:I.length>0?I:R.conversation_turns}}return R})),_(null),v(""),f("")}catch(T){const W=T instanceof Error?T.message:"An error occurred";alert(`Error saving changes: ${W}`)}},X=async()=>{if(confirm(`Submit your reference check?

This will finalize your responses and they cannot be changed after submission.`)){c(!0),h("");try{const E=await fetch(`${t}/conversation/complete/${e}`,{method:"POST"}),T=await E.json();if(!E.ok)throw new Error(T.error||"Failed to complete session");alert(` Reference check submitted successfully!

Your responses have been recorded and secured with a tamper-proof hash.

Thank you for your time!`),n&&n()}catch(E){const T=E instanceof Error?E.message:"An error occurred";h(T),alert(`Error submitting: ${T}`)}finally{c(!1)}}},K=E=>new Date(E).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return s?o.jsx("div",{style:{padding:"40px",textAlign:"center"},children:o.jsx("div",{style:{fontSize:"16px",color:"#6b7280"},children:"Loading review data..."})}):o.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"20px"},children:[o.jsxs("div",{style:{marginBottom:"30px"},children:[r&&o.jsx("button",{onClick:r,style:{padding:"8px 16px",backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",marginBottom:"16px"},children:" Back to Chat"}),o.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"24px",color:"#111827"},children:"Review Your Answers"}),o.jsxs("p",{style:{margin:0,color:"#6b7280",fontSize:"14px"},children:["Please review your ",i.length," answers before submitting. You can edit any answer if needed."]})]}),m&&o.jsx("div",{style:{marginBottom:"20px",padding:"16px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626"},children:m}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:i.map((E,T)=>o.jsxs("div",{style:{padding:"20px",backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"},children:[o.jsxs("div",{style:{marginBottom:"12px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[o.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#3b82f6",color:"#ffffff",fontSize:"12px",fontWeight:"600"},children:T+1}),o.jsx("strong",{style:{fontSize:"16px",color:"#111827"},children:E.question_text})]}),o.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af",marginLeft:"32px"},children:["Answered ",K(E.answered_at),"  ",E.word_count," words"]})]}),g===E.answer_id?o.jsxs("div",{style:{marginTop:"16px"},children:[o.jsx("textarea",{value:w,onChange:W=>v(W.target.value),spellCheck:E.answer_type!=="number"&&E.answer_type!=="rating",rows:6,style:{width:"100%",padding:"12px",border:"2px solid #3b82f6",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",resize:"vertical"}}),o.jsx("div",{style:{marginTop:"12px"},children:o.jsx("input",{type:"text",placeholder:"Optional: Reason for change",value:b,onChange:W=>f(W.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})}),o.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px"},children:[o.jsx("button",{onClick:()=>F(E.answer_id),style:{padding:"8px 16px",backgroundColor:"#10b981",color:"#ffffff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Save Changes"}),o.jsx("button",{onClick:B,style:{padding:"8px 16px",backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Cancel"})]})]}):o.jsxs("div",{children:[o.jsxs("div",{style:{padding:"16px",backgroundColor:"#f0f4ff",border:"1px solid #c7d2fe",borderRadius:"6px"},children:[o.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#4338ca",marginBottom:"12px"},children:"Conversation History:"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:E.conversation_turns&&E.conversation_turns.length>0?E.conversation_turns.map((W,Q)=>{if(W.type==="question"&&Q===0||W.type==="acknowledgment")return null;const R=W.type==="user_answer",z=W.type==="clarification";return o.jsxs("div",{style:{padding:"10px 12px",backgroundColor:R?"#ffffff":"#e0e7ff",border:`1px solid ${R?"#d1d5db":"#a5b4fc"}`,borderRadius:"4px",fontSize:"13px"},children:[o.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:R?"#6b7280":"#4338ca",marginBottom:"4px",textTransform:"uppercase"},children:R?"Your Response:":z?"Follow-up:":"System:"}),o.jsx("div",{style:{color:"#374151",whiteSpace:"pre-wrap",lineHeight:"1.5"},children:W.content})]},Q)}):o.jsxs("div",{style:{padding:"10px 12px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"13px"},children:[o.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"4px",textTransform:"uppercase"},children:"Your Response:"}),o.jsx("div",{style:{color:"#374151",whiteSpace:"pre-wrap",lineHeight:"1.5"},children:E.polished_answer})]})})]}),o.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px",alignItems:"center"},children:[o.jsx("button",{onClick:()=>Y(E),style:{padding:"6px 12px",backgroundColor:"#ffffff",color:"#3b82f6",border:"1px solid #3b82f6",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:" Edit Answer"}),E.raw_answer!==E.polished_answer&&o.jsxs("button",{onClick:()=>p(d===E.answer_id?null:E.answer_id),style:{padding:"6px 12px",backgroundColor:"#ffffff",color:"#6b7280",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:[d===E.answer_id?"Hide":"Show"," Original"]})]}),d===E.answer_id&&o.jsxs("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#fffbeb",border:"1px solid #fcd34d",borderRadius:"6px"},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#92400e",marginBottom:"8px"},children:"Original Answer (before AI proofreading):"}),o.jsx("div",{style:{fontSize:"13px",color:"#78350f",whiteSpace:"pre-wrap",lineHeight:"1.5"},children:E.raw_answer})]})]})]},E.answer_id))}),o.jsxs("div",{style:{marginTop:"40px",padding:"24px",backgroundColor:"#f0fdf4",border:"2px solid #86efac",borderRadius:"8px",textAlign:"center"},children:[o.jsx("h3",{style:{margin:"0 0 12px 0",color:"#166534"},children:"Ready to Submit?"}),o.jsx("p",{style:{margin:"0 0 20px 0",color:"#15803d",fontSize:"14px"},children:"Once submitted, your answers will be finalized and cannot be changed."}),o.jsx("button",{onClick:X,disabled:u||g!==null,style:{padding:"14px 32px",backgroundColor:u||g!==null?"#d1d5db":"#10b981",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:u||g!==null?"not-allowed":"pointer"},children:u?"Submitting...":" Submit Reference Check"}),g&&o.jsx("div",{style:{marginTop:"12px",fontSize:"13px",color:"#dc2626"},children:"Please save or cancel your current edit before submitting."})]})]})},dd=({token:e,apiUrl:t="http://localhost:5001/api",onComplete:n})=>{const[r,i]=x.useState("authorization"),[l,s]=x.useState(null),a=()=>{i("chat")},u=g=>{s(g)},c=()=>{i("review")},m=()=>{i("complete")},h=()=>{i("chat")};return r==="authorization"?o.jsx(nm,{token:e,apiUrl:t,onAuthorizationComplete:a}):r==="complete"?o.jsxs("div",{style:{maxWidth:"600px",margin:"60px auto",padding:"40px",textAlign:"center",backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},children:[o.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto 24px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#d1fae5",borderRadius:"50%",fontSize:"40px"},children:""}),o.jsx("h1",{style:{margin:"0 0 16px 0",fontSize:"28px",color:"#111827",fontWeight:"600"},children:"Thank You!"}),o.jsx("p",{style:{margin:"0 0 24px 0",fontSize:"16px",color:"#6b7280",lineHeight:"1.6"},children:"Your reference check has been completed successfully. Your responses have been securely recorded and will be reviewed by the hiring team."}),o.jsx("div",{style:{padding:"16px",backgroundColor:"#f0fdf4",border:"1px solid #86efac",borderRadius:"8px",marginBottom:"24px"},children:o.jsx("p",{style:{margin:0,fontSize:"14px",color:"#166534"},children:"Your responses have been secured with a tamper-proof hash to ensure integrity."})}),n?o.jsx("button",{onClick:n,style:{marginTop:"24px",padding:"12px 24px",backgroundColor:"#3b82f6",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"500",cursor:"pointer"},children:" Back to All Requests"}):o.jsx("p",{style:{margin:0,fontSize:"14px",color:"#9ca3af"},children:"You can now close this window."})]}):r==="review"?l?o.jsx(om,{sessionId:l,apiUrl:t,onComplete:m,onBack:h}):o.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[o.jsx("p",{children:"Error: No session found. Please start over."}),o.jsx("button",{onClick:h,children:"Back to Chat"})]}):o.jsx("div",{style:{minHeight:"100vh",width:"100%",background:"#f7fafc",padding:"20px",overflow:"auto"},children:o.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:o.jsx(rm,{token:e,apiUrl:t,onComplete:c,onSessionIdChange:u})})})},im=({userId:e,apiUrl:t="http://localhost:5001/api",onSelectRequest:n})=>{const[r,i]=x.useState([]),[l,s]=x.useState(!0),[a,u]=x.useState(""),[c,m]=x.useState("all"),[h,g]=x.useState(null),[_,w]=x.useState({}),[v,b]=x.useState(null),[f,d]=x.useState(null),[p,k]=x.useState("start_date"),[S,L]=x.useState("desc"),[D,O]=x.useState(null),[Y,B]=x.useState(""),[F,X]=x.useState(null),[K,E]=x.useState(!1),[T,W]=x.useState(null),[Q,R]=x.useState(!1),[z,I]=x.useState(null),q=async(j,N=3,V=500)=>{for(let M=0;M<N;M++)try{const Z=`_t=${Date.now()}`,C=j.includes("?")?"&":"?",pe=`${j}${C}${Z}`,y=await fetch(pe,{cache:"no-store",headers:{"Cache-Control":"no-cache"}}),de=await y.json();if(y.ok)return de;if(y.status>=500&&M<N-1){await new Promise(P=>setTimeout(P,V*(M+1)));continue}throw new Error(de.error||"Request failed")}catch(Z){if(M===N-1)throw Z;await new Promise(C=>setTimeout(C,V*(M+1)))}throw new Error("Max retries reached")},G=async(j=!0)=>{j&&s(!0),u("");try{const N=new URLSearchParams({user_id:e});c!=="all"&&N.append("status",c);let M=(await q(`${t}/requests?${N}`)).requests||[];M=M.filter(y=>!!(y.status!=="draft_candidate"||y.authorization_sent_at));const Z=2,C=[];for(let y=0;y<M.length;y+=Z){const P=M.slice(y,y+Z).map(async U=>{try{return await q(`${t}/requests/${U.id}`)}catch(on){return console.error(`Failed to fetch details for request ${U.id}:`,on),{request:U,referees:[],summary:{total_referees:0,completed:0,pending:0}}}}),ct=await Promise.all(P);C.push(...ct),y+Z<M.length&&await new Promise(U=>setTimeout(U,100))}const pe=C.filter(y=>y&&y.request).map(y=>({...y.request,referees:y.referees||[],summary:y.summary||{total_referees:0,completed:0,pending:0}}));i(pe),O(new Date)}catch(N){const V=N instanceof Error?N.message:"An error occurred";u(V)}finally{s(!1)}},we=async(j,N)=>{if(confirm(` DELETE CANDIDATE?

Are you sure you want to delete ${N} and all their referees?

This action cannot be undone.`))try{const V=await fetch(`${t}/requests/${j}`,{method:"DELETE"});if(!V.ok){const M=await V.json();throw new Error(M.error||"Failed to delete request")}await G(),alert(` Deleted ${N} and all associated referees`)}catch(V){const M=V instanceof Error?V.message:"An error occurred";alert(` Error: ${M}`)}},ce=async(j,N,V)=>{if(confirm(` SEND REMINDER?

Send a reminder email to ${V}?`))try{const M=await fetch(`${t}/requests/${j}/referees/${N}/remind`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channel:"email"})}),Z=await M.json();if(!M.ok)throw new Error(Z.error||"Failed to send reminder");await G(),alert(` Reminder sent to ${V}`)}catch(M){const Z=M instanceof Error?M.message:"An error occurred";alert(` Error: ${Z}`)}},A=async(j,N,V)=>{if(confirm(` COMPLETE PHONE REFERENCE

Complete reference for ${V} via phone?

This will open the conversational form where you can enter their responses as you speak with them.`))try{const M=await fetch(`${t}/requests/${j}/referees/${N}/phone-token`,{method:"POST",headers:{"Content-Type":"application/json"}}),Z=await M.json();if(!M.ok)throw new Error(Z.error||"Failed to get reference token");d({token:Z.token})}catch(M){const Z=M instanceof Error?M.message:"An error occurred";alert(` Error: ${Z}`)}},J=async(j,N)=>{if(z===j){alert(" Already sending authorization email to this candidate. Please wait...");return}if(confirm(` SEND AUTHORIZATION REQUEST

Send authorization email to ${N}?

They will receive an email with a link to sign the authorization form online.

 Note: Only the most recent email link will work. Previous links will be invalidated.`)){I(j);try{const V=await fetch(`${t}/requests/${j}/send-authorization`,{method:"POST",headers:{"Content-Type":"application/json"}}),M=await V.json();if(!V.ok)throw new Error(M.error||"Failed to send authorization");i(Z=>Z.map(C=>C.id===j?{...C,authorization_status:"pending"}:C)),g(null),alert(` Authorization request sent to ${N}!

They will receive an email shortly. Only this latest link will work - any previous authorization links are now invalid.`),G(!1)}catch(V){const M=V instanceof Error?V.message:"An error occurred";alert(` Error: ${M}`)}finally{I(null)}}},me=async(j,N)=>{if(confirm(` VERBAL AUTHORIZATION

Mark ${N} as VERBALLY authorized?

 ONLY click YES if you have spoken to the candidate and they have given permission to contact their referees.

This will allow you to immediately proceed with sending reference requests.`))try{const V=await fetch(`${t}/requests/${j}/verbal-authorization`,{method:"POST",headers:{"Content-Type":"application/json"}}),M=await V.json();if(console.log("Verbal authorization response:",V.status,M),!V.ok){console.error("Verbal authorization failed:",M);const Z=M.message||M.error||"Failed to mark as verbally authorized",C=M.traceback?`

Details: ${M.type||"Unknown error"}`:"";throw new Error(Z+C)}i(Z=>Z.map(C=>C.id===j?{...C,authorization_status:"verbal",authorization_method:"verbal",authorization_completed_at:new Date().toISOString()}:C)),g(null),alert(` ${N} marked as verbally authorized!

You can now add referees and send invitations.`),G(!1)}catch(V){const M=V instanceof Error?V.message:"An error occurred";console.error("Error marking verbal authorization:",V),alert(` Error: ${M}`)}},Le=j=>{p===j?L(S==="asc"?"desc":"asc"):(k(j),L(j==="created"||j==="last_contact"||j==="start_date"?"desc":"asc"))},vs=j=>{if(!j)return"";const N=new Date(j),V=N.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});let M=N.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return M=M.replace(/^0/,""),o.jsxs("div",{style:{textAlign:"center",fontSize:"12px"},children:[o.jsx("div",{children:V}),o.jsx("div",{style:{color:"#666"},children:M})]})},Tr=j=>{let V=new Date(j).toLocaleTimeString("en-NZ",{hour:"2-digit",minute:"2-digit",timeZone:"Pacific/Auckland"});return V=V.replace(/^0/,""),V},fd=()=>{let j=r;if(Y.trim()){const V=Y.toLowerCase();j=r.filter(M=>`${M.candidate_first_name} ${M.candidate_last_name}`.toLowerCase().includes(V)?!0:M.referees.some(C=>`${C.first_name} ${C.last_name}`.toLowerCase().includes(V)))}const N=[...j];return N.sort((V,M)=>{let Z,C;switch(p){case"start_date":Z=V.authorization_sent_at?new Date(V.authorization_sent_at).getTime():0,C=M.authorization_sent_at?new Date(M.authorization_sent_at).getTime():0;break;case"candidate":Z=`${V.candidate_first_name||""} ${V.candidate_last_name||""}`.trim().toLowerCase(),C=`${M.candidate_first_name||""} ${M.candidate_last_name||""}`.trim().toLowerCase();break;case"position":Z=(V.position_applied_for||"").toLowerCase(),C=(M.position_applied_for||"").toLowerCase();break;case"created":Z=new Date(V.created_at).getTime(),C=new Date(M.created_at).getTime();break;case"last_contact":const pe=y=>{if(!y.referees||y.referees.length===0)return 0;const de=y.referees.map(P=>P.last_contacted_at?new Date(P.last_contacted_at).getTime():0).filter(P=>P>0);return de.length>0?Math.max(...de):0};Z=pe(V),C=pe(M);break;default:return 0}return Z<C?S==="asc"?-1:1:Z>C?S==="asc"?1:-1:0}),N},Go=j=>p!==j?" ":S==="asc"?" ":" ",pd=async j=>{try{const N=await fetch(`${t}/referees/${j.id}`),V=await N.json();N.ok&&V.referee?X(V.referee):X({...j})}catch(N){console.error("Failed to fetch referee details:",N),X({...j})}},ws=(j,N)=>{if(N.stopPropagation(),h===j){g(null);return}const M=N.currentTarget.getBoundingClientRect(),Z=window.innerHeight,C=Z-M.bottom,pe=400,y=M.bottom>Z*.6;w(de=>({...de,[j]:C<pe||y?"up":"down"})),g(j)},hd=async()=>{if(F){E(!0);try{const j=await fetch(`${t}/referees/${F.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:F.first_name,last_name:F.last_name,email:F.email,phone:F.phone||null,relationship:F.relationship,company:F.company||null})}),N=await j.json();if(!j.ok)throw new Error(N.error||"Failed to update referee");i(V=>V.map(M=>({...M,referees:M.referees.map(Z=>Z.id===F.id?{...Z,first_name:F.first_name,last_name:F.last_name,email:F.email,phone:F.phone||null,relationship:F.relationship,company:F.company||null}:Z)}))),X(null),E(!1),alert(" Referee details updated successfully!"),G(!1)}catch(j){const N=j instanceof Error?j.message:"An error occurred";alert(` Error: ${N}`),E(!1)}}},js=j=>{W({id:j.id,candidate_first_name:j.candidate_first_name,candidate_last_name:j.candidate_last_name,candidate_email:j.candidate_email,candidate_phone_number:j.candidate_phone_number,position_applied_for:j.position_applied_for,authorization_status:j.authorization_status,authorization_method:j.authorization_method,authorization_completed_at:j.authorization_completed_at,authorization_signature:j.authorization_signature})},md=async()=>{if(!T)return;if(!(T.authorization_status==="authorized"||T.authorization_status==="verbal")){alert(" This candidate has not completed authorization yet.");return}try{const{jsPDF:N}=await kr(async()=>{const{jsPDF:on}=await import("./jspdf.es.min-DFPx2MKl-v2.js");return{jsPDF:on}},__vite__mapDeps([3,1])),V=T.authorization_method==="online"?"Online Form":"Verbal",M=T.authorization_completed_at?new Date(T.authorization_completed_at).toLocaleString("en-NZ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Pacific/Auckland"}):"N/A",Z=new Date().toLocaleString("en-NZ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Pacific/Auckland"}),C=new N,pe=C.internal.pageSize.getWidth(),y=20,de=pe-y*2;let P=20;C.setFillColor(37,99,235),C.rect(0,0,pe,40,"F"),C.setTextColor(255,255,255),C.setFontSize(22),C.setFont("helvetica","bold"),C.text("Reference Check Authorization Form",pe/2,18,{align:"center"}),C.setFontSize(12),C.setFont("helvetica","normal"),C.text("Official Record of Candidate Authorization",pe/2,28,{align:"center"}),P=55,C.setTextColor(0,0,0),C.setFontSize(16),C.setFont("helvetica","bold"),C.setTextColor(31,41,55),C.text("Candidate Information",y,P),P+=10,C.setFillColor(249,250,251),C.rect(y,P-5,de,50+(T.candidate_phone_number?10:0),"F"),C.setDrawColor(37,99,235),C.setLineWidth(2),C.line(y,P-5,y,P+45+(T.candidate_phone_number?10:0)),C.setFontSize(11),C.setFont("helvetica","bold"),C.setTextColor(55,65,81),C.text("Full Name:",y+5,P),C.setFont("helvetica","normal"),C.setTextColor(0,0,0),C.text(`${T.candidate_first_name} ${T.candidate_last_name}`,y+5,P+5),P+=15,C.setFont("helvetica","bold"),C.setTextColor(55,65,81),C.text("Email:",y+5,P),C.setFont("helvetica","normal"),C.setTextColor(0,0,0),C.text(T.candidate_email,y+5,P+5),P+=15,T.candidate_phone_number&&(C.setFont("helvetica","bold"),C.setTextColor(55,65,81),C.text("Phone:",y+5,P),C.setFont("helvetica","normal"),C.setTextColor(0,0,0),C.text(T.candidate_phone_number,y+5,P+5),P+=15),C.setFont("helvetica","bold"),C.setTextColor(55,65,81),C.text("Position Applied For:",y+5,P),C.setFont("helvetica","normal"),C.setTextColor(0,0,0),C.text(T.position_applied_for,y+5,P+5),P+=20,C.setFontSize(16),C.setFont("helvetica","bold"),C.setTextColor(31,41,55),C.text("Authorization Details",y,P),P+=10,C.setFillColor(249,250,251),C.rect(y,P-5,de,40,"F"),C.setDrawColor(37,99,235),C.line(y,P-5,y,P+35),C.setFontSize(11),C.setFont("helvetica","bold"),C.setTextColor(55,65,81),C.text("Authorization Method:",y+5,P),C.setFont("helvetica","normal"),C.setTextColor(0,0,0),C.text(V,y+5,P+5),P+=15,C.setFont("helvetica","bold"),C.setTextColor(55,65,81),C.text("Date Completed:",y+5,P),C.setFont("helvetica","normal"),C.setTextColor(0,0,0),C.text(M,y+5,P+5),P+=15,C.setFont("helvetica","bold"),C.setTextColor(55,65,81),C.text("Status:",y+5,P),C.setFont("helvetica","normal"),C.setTextColor(21,128,61),C.text(" Authorized",y+5,P+5),P+=20,C.setFontSize(16),C.setFont("helvetica","bold"),C.setTextColor(31,41,55),C.text("Authorization Statement",y,P),P+=10,C.setFillColor(254,243,199),C.rect(y,P-5,de,40,"F"),C.setDrawColor(245,158,11),C.setLineWidth(2),C.line(y,P-5,y,P+35),C.setFontSize(11),C.setFont("helvetica","bold"),C.setTextColor(0,0,0),C.text("The candidate has authorized the following:",y+5,P),P+=7,C.setFont("helvetica","normal"),C.setTextColor(0,0,0),[" Permission to contact their professional referees"," Collection of feedback about their work history and performance"," Use of this information in the hiring decision process"].forEach(on=>{C.text(on,y+5,P),P+=7}),P+=8,T.authorization_signature&&(C.setFontSize(16),C.setFont("helvetica","bold"),C.setTextColor(31,41,55),C.text("Electronic Signature",y,P),P+=10,C.setFillColor(240,249,255),C.rect(y,P-5,de,25,"F"),C.setDrawColor(37,99,235),C.setLineWidth(1),C.rect(y,P-5,de,25),C.setFontSize(18),C.setFont("helvetica","italic"),C.setTextColor(37,99,235),C.text(T.authorization_signature,y+5,P+5),P+=12,C.setFontSize(9),C.setFont("helvetica","normal"),C.setTextColor(107,114,128),C.text(`Signed electronically on ${M}`,y+5,P+5),P+=15),C.setDrawColor(229,231,235),C.setLineWidth(.5),C.line(y,270,pe-y,270),C.setFontSize(9),C.setFont("helvetica","normal"),C.setTextColor(107,114,128),C.text(`This document was generated on ${Z}`,pe/2,277,{align:"center"}),C.text("Reference Check System - Official Authorization Record",pe/2,282,{align:"center"});const U=`Authorization_${T.candidate_first_name}_${T.candidate_last_name}_${new Date().toISOString().split("T")[0]}.pdf`;C.save(U)}catch(N){console.error("Failed to generate PDF:",N),alert(" Failed to generate PDF. Please try again or contact support.")}},gd=async()=>{if(!F)return;if(!(F.consent_agreed&&F.consent_signature)){alert(" This referee has not completed the consent form yet.");return}try{const{jsPDF:N}=await kr(async()=>{const{jsPDF:An}=await import("./jspdf.es.min-DFPx2MKl-v2.js");return{jsPDF:An}},__vite__mapDeps([3,1])),V=F.consent_signed_at?new Date(F.consent_signed_at).toLocaleString("en-NZ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Pacific/Auckland"}):"N/A",M=new Date().toLocaleString("en-NZ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Pacific/Auckland"}),Z=r.find(An=>An.referees.some(jd=>jd.id===F.id)),C=Z?`${Z.candidate_first_name} ${Z.candidate_last_name}`:"the candidate",pe=(Z==null?void 0:Z.position_applied_for)||"the position",y=new N,de=y.internal.pageSize.getWidth(),P=20,ct=de-P*2;let U=20;y.setFillColor(139,92,246),y.rect(0,0,de,40,"F"),y.setTextColor(255,255,255),y.setFontSize(22),y.setFont("helvetica","bold"),y.text("Referee Consent Form",de/2,18,{align:"center"}),y.setFontSize(12),y.setFont("helvetica","normal"),y.text("Official Record of Referee Authorization",de/2,28,{align:"center"}),U=55,y.setTextColor(0,0,0),y.setFontSize(16),y.setFont("helvetica","bold"),y.setTextColor(31,41,55),y.text("Referee Information",P,U),U+=10,y.setFillColor(249,250,251),y.rect(P,U-5,ct,50+(F.phone?10:0)+(F.company?10:0),"F"),y.setDrawColor(139,92,246),y.setLineWidth(2),y.line(P,U-5,P,U+45+(F.phone?10:0)+(F.company?10:0)),y.setFontSize(11),y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Full Name:",P+5,U),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(`${F.first_name} ${F.last_name}`,P+5,U+5),U+=15,y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Email:",P+5,U),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(F.email,P+5,U+5),U+=15,F.phone&&(y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Phone:",P+5,U),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(F.phone,P+5,U+5),U+=15),F.company&&(y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Company:",P+5,U),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(F.company,P+5,U+5),U+=15),y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Relationship:",P+5,U),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(F.relationship,P+5,U+5),U+=20,y.setFontSize(16),y.setFont("helvetica","bold"),y.setTextColor(31,41,55),y.text("Reference Details",P,U),U+=10,y.setFillColor(249,250,251),y.rect(P,U-5,ct,30,"F"),y.setDrawColor(139,92,246),y.line(P,U-5,P,U+25),y.setFontSize(11),y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Candidate:",P+5,U),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(C,P+5,U+5),U+=15,y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Position:",P+5,U),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(pe,P+5,U+5),U+=20,y.setFontSize(16),y.setFont("helvetica","bold"),y.setTextColor(31,41,55),y.text("Consent Details",P,U),U+=10,y.setFillColor(249,250,251),y.rect(P,U-5,ct,30,"F"),y.setDrawColor(139,92,246),y.line(P,U-5,P,U+25),y.setFontSize(11),y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Date Signed:",P+5,U),y.setFont("helvetica","normal"),y.setTextColor(0,0,0),y.text(V,P+5,U+5),U+=15,y.setFont("helvetica","bold"),y.setTextColor(55,65,81),y.text("Status:",P+5,U),y.setFont("helvetica","normal"),y.setTextColor(21,128,61),y.text(" Consent Given",P+5,U+5),U+=20,y.setFontSize(16),y.setFont("helvetica","bold"),y.setTextColor(31,41,55),y.text("Consent Statement",P,U),U+=10,y.setFillColor(243,232,255),y.rect(P,U-5,ct,48,"F"),y.setDrawColor(139,92,246),y.setLineWidth(2),y.line(P,U-5,P,U+43),y.setFontSize(11),y.setFont("helvetica","bold"),y.setTextColor(0,0,0),y.text("The referee has consented to the following:",P+5,U),U+=7,y.setFont("helvetica","normal"),y.setTextColor(0,0,0),[` Providing a professional reference for ${C}`," Sharing information about their work history and performance"," Acknowledging that their responses may be used in hiring decisions"," Understanding that this reference is confidential"].forEach(An=>{y.text(An,P+5,U),U+=7}),U+=8,F.consent_signature&&(y.setFontSize(16),y.setFont("helvetica","bold"),y.setTextColor(31,41,55),y.text("Electronic Signature",P,U),U+=10,y.setFillColor(245,243,255),y.rect(P,U-5,ct,25,"F"),y.setDrawColor(139,92,246),y.setLineWidth(1),y.rect(P,U-5,ct,25),y.setFontSize(18),y.setFont("helvetica","italic"),y.setTextColor(139,92,246),y.text(F.consent_signature,P+5,U+5),U+=12,y.setFontSize(9),y.setFont("helvetica","normal"),y.setTextColor(107,114,128),y.text(`Signed electronically on ${V}`,P+5,U+5),U+=15),y.setDrawColor(229,231,235),y.setLineWidth(.5),y.line(P,270,de-P,270),y.setFontSize(9),y.setFont("helvetica","normal"),y.setTextColor(107,114,128),y.text(`This document was generated on ${M}`,de/2,277,{align:"center"}),y.text("Reference Check System - Official Referee Consent Record",de/2,282,{align:"center"});const wd=`Referee_Consent_${F.first_name}_${F.last_name}_${new Date().toISOString().split("T")[0]}.pdf`;y.save(wd)}catch(N){console.error("Failed to generate PDF:",N),alert(" Failed to generate PDF. Please try again or contact support.")}},xd=async()=>{if(T){R(!0);try{const j=await fetch(`${t}/requests/${T.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({candidate_first_name:T.candidate_first_name,candidate_last_name:T.candidate_last_name,candidate_email:T.candidate_email,candidate_phone_number:T.candidate_phone_number||null,position_applied_for:T.position_applied_for})}),N=await j.json();if(!j.ok)throw new Error(N.error||"Failed to update candidate");i(V=>V.map(M=>M.id===T.id?{...M,candidate_first_name:T.candidate_first_name,candidate_last_name:T.candidate_last_name,candidate_email:T.candidate_email,candidate_phone_number:T.candidate_phone_number||null,position_applied_for:T.position_applied_for}:M)),W(null),R(!1),alert(" Candidate details updated successfully!"),G(!1)}catch(j){const N=j instanceof Error?j.message:"An error occurred";alert(` Error: ${N}`),R(!1)}}};x.useEffect(()=>{G()},[e,c]),x.useEffect(()=>{const j=N=>{h&&!N.target.closest(".actions-menu, .btn-action")&&g(null)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[h]);const yd=(j,N)=>N||j==="completed"?"status-completed":j==="bounced"||j==="declined"?"status-bounced":j==="started"?"status-sent":"status-draft",vd=j=>{const N=j.authorization_status,V=j.authorization_method;return N==="authorized"&&V==="online"?o.jsx("span",{className:"status-badge status-completed",title:"Authorized via online form",children:"Authorized"}):N==="authorized"||N==="verbal"?o.jsx("span",{className:"status-badge status-completed",title:"Verbally authorized by admin",children:"Authorized"}):N==="pending"?o.jsx("span",{className:"status-badge status-draft",title:"Authorization email sent, awaiting response",children:"Auth Pending"}):null};if(l)return o.jsx("div",{className:"loading",children:"Loading requests..."});if(a)return o.jsxs("div",{className:"alert alert-error",children:[a,o.jsx("button",{onClick:()=>G(),className:"btn-retry",children:"Retry"})]});if(f){const j=()=>{d(null),G(!1)};return o.jsxs("div",{children:[o.jsx("button",{onClick:j,style:{margin:"20px",padding:"10px 20px",background:"#e5e7eb",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:" Back to Request List"}),o.jsx(dd,{token:f.token,apiUrl:t,onComplete:j})]})}return v?o.jsx(tm,{requestId:v.requestId,refereeId:v.refereeId,apiUrl:t,onClose:()=>b(null)}):o.jsxs("div",{className:"request-list",children:[o.jsx("div",{className:"list-controls",children:o.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("label",{htmlFor:"search-input",children:" Search:"}),o.jsx("input",{id:"search-input",type:"text",value:Y,onChange:j=>B(j.target.value),placeholder:"Candidate or referee name...",style:{padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",minWidth:"250px"}}),Y&&o.jsx("button",{onClick:()=>B(""),style:{padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",background:"white",cursor:"pointer",fontSize:"14px"},title:"Clear search",children:""})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("label",{htmlFor:"status-filter",children:"Filter by status:"}),o.jsxs("select",{id:"status-filter",value:c,onChange:j=>m(j.target.value),className:"status-filter",children:[o.jsx("option",{value:"all",children:"All"}),o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"sent",children:"Sent"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"expired",children:"Expired"})]})]}),o.jsx("button",{onClick:()=>G(!0),className:"btn-refresh",disabled:l,children:l?" Refreshing...":" Refresh"}),D&&o.jsxs("span",{style:{fontSize:"12px",color:"#666"},children:["Last updated: ",D.toLocaleTimeString()]})]})}),r.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("p",{children:"No reference requests found."}),o.jsx("p",{className:"help-text",children:"Create a new request to get started."})]}):o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"requests-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsxs("th",{onClick:()=>Le("start_date"),style:{cursor:"pointer",userSelect:"none"},children:["Start Date",Go("start_date")]}),o.jsxs("th",{onClick:()=>Le("candidate"),style:{cursor:"pointer",userSelect:"none"},children:["Candidate",Go("candidate")]}),o.jsxs("th",{onClick:()=>Le("position"),style:{cursor:"pointer",userSelect:"none"},children:["Position",Go("position")]}),o.jsx("th",{children:"Referee Name"}),o.jsx("th",{children:"Relationship"}),o.jsx("th",{children:"Status"}),o.jsx("th",{style:{width:"100px"},children:"Actions"})]})}),o.jsx("tbody",{children:fd().map(j=>o.jsx(bl.Fragment,{children:j.referees.length===0?o.jsxs("tr",{children:[o.jsx("td",{children:vs(j.authorization_sent_at)}),o.jsx("td",{className:"candidate-name",children:o.jsxs("span",{onClick:()=>js(j),style:{color:"#2563eb",cursor:"pointer",textDecoration:"underline"},title:"Click to view/edit details",children:[j.candidate_first_name," ",j.candidate_last_name]})}),o.jsx("td",{children:j.position_applied_for}),o.jsx("td",{colSpan:3,style:{textAlign:"center",color:"#999"},children:"No referees added yet"}),o.jsx("td",{children:""}),o.jsxs("td",{style:{position:"relative"},children:[o.jsx("button",{onClick:N=>ws(j.id,N),className:"btn-action",style:{background:"#6366f1",color:"white"},children:""}),h===j.id&&o.jsxs("div",{className:`actions-menu ${(_[j.id]||"down")==="up"?"actions-menu-up":""}`,children:[(!j.authorization_status||j.authorization_status==="pending")&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{g(null),J(j.id,`${j.candidate_first_name} ${j.candidate_last_name}`)},style:{color:"#2563eb"},children:" Send Authorization Email"}),o.jsx("button",{onClick:()=>{g(null),me(j.id,`${j.candidate_first_name} ${j.candidate_last_name}`)},style:{color:"#10b981",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"8px"},children:" Mark Verbal Authorization"})]}),o.jsx("button",{onClick:()=>{g(null),n&&n(j.id)},children:" Add Referee"}),o.jsx("button",{onClick:()=>{g(null),we(j.id,`${j.candidate_first_name} ${j.candidate_last_name}`)},style:{color:"#dc2626"},children:" Delete Candidate"})]})]})]}):j.referees.map((N,V)=>o.jsxs("tr",{children:[V===0?o.jsxs(o.Fragment,{children:[o.jsx("td",{rowSpan:j.referees.length,style:{verticalAlign:"top",paddingTop:"20px"},children:vs(j.authorization_sent_at)}),o.jsxs("td",{className:"candidate-name",rowSpan:j.referees.length,style:{verticalAlign:"top",paddingTop:"20px"},children:[o.jsx("span",{onClick:()=>js(j),style:{color:"#2563eb",cursor:"pointer",textDecoration:"underline"},title:"Click to view/edit details",children:o.jsxs("strong",{children:[j.candidate_first_name," ",j.candidate_last_name]})}),o.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:[j.summary.completed,"/",j.summary.total_referees," completed"]}),o.jsx("div",{style:{marginTop:"8px"},children:vd(j)})]}),o.jsx("td",{rowSpan:j.referees.length,style:{verticalAlign:"top",paddingTop:"20px"},children:j.position_applied_for})]}):null,o.jsx("td",{children:o.jsxs("span",{onClick:()=>pd(N),style:{color:"#2563eb",cursor:"pointer",textDecoration:"underline"},title:"Click to view/edit details",children:[N.first_name," ",N.last_name]})}),o.jsx("td",{children:N.relationship}),o.jsx("td",{children:(()=>{const M=j.authorization_status==="pending",Z=!j.authorization_status||j.authorization_status==="pending";if(M)return o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"status-badge status-draft",style:{background:"#fef5e7",color:"#856404"},children:"Awaiting Auth"}),j.authorization_sent_at&&o.jsxs("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"},children:["Sent ",new Date(j.authorization_sent_at).toLocaleDateString("en-NZ",{year:"numeric",month:"short",day:"numeric",timeZone:"Pacific/Auckland"})," ",Tr(j.authorization_sent_at)]})]});if(Z)return o.jsx(o.Fragment,{children:o.jsx("span",{className:"status-badge",style:{background:"#fee",color:"#c00",border:"1px solid #fcc"},children:" Auth Required"})});const C=!N.has_completed&&N.last_contacted_at&&N.initial_sent_at&&new Date(N.last_contacted_at)>new Date(N.initial_sent_at),pe=N.has_completed?"Completed":N.status==="bounced"?"Bounced":N.status==="declined"?"Ref Declined":C?"Reminder":N.status==="draft_ref"||N.status==="pending"?"Pending":N.status==="started"?"Started":N.status==="sent"?"Sent":N.status;return o.jsxs(o.Fragment,{children:[o.jsx("span",{className:`status-badge ${yd(N.status,N.has_completed)}`,children:pe}),N.submitted_at&&o.jsxs("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"},children:[new Date(N.submitted_at).toLocaleDateString("en-NZ",{year:"numeric",month:"short",day:"numeric",timeZone:"Pacific/Auckland"})," ",Tr(N.submitted_at)]}),C&&N.last_contacted_at&&o.jsxs("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"},children:[new Date(N.last_contacted_at).toLocaleDateString("en-NZ",{year:"numeric",month:"short",day:"numeric",timeZone:"Pacific/Auckland"})," ",Tr(N.last_contacted_at)]}),!N.has_completed&&!C&&(N.last_contacted_at||N.initial_sent_at)&&o.jsxs("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"},children:[new Date(N.last_contacted_at||N.initial_sent_at).toLocaleDateString("en-NZ",{year:"numeric",month:"short",day:"numeric",timeZone:"Pacific/Auckland"})," ",Tr(N.last_contacted_at||N.initial_sent_at)]})]})})()}),o.jsxs("td",{style:{position:"relative"},children:[o.jsx("button",{onClick:M=>ws(N.id,M),className:"btn-action",style:{background:"#6366f1",color:"white"},children:""}),h===N.id&&o.jsxs("div",{className:`actions-menu ${(_[N.id]||"down")==="up"?"actions-menu-up":""}`,children:[N.status!=="declined"&&o.jsx(o.Fragment,{children:j.authorization_status==="authorized"||j.authorization_status==="verbal"?o.jsx(o.Fragment,{children:N.has_completed||N.status==="completed"?o.jsx("button",{onClick:()=>{g(null),window.location.href=`/report/${j.id}/referee/${N.id}`},style:{color:"#6366f1",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"8px"},children:" View Report"}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{g(null),ce(j.id,N.id,`${N.first_name} ${N.last_name}`)},style:{color:"#2563eb"},children:" Send Reminder"}),o.jsx("button",{onClick:()=>{g(null),A(j.id,N.id,`${N.first_name} ${N.last_name}`)},style:{color:"#059669",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"8px"},children:" Complete Over Phone"})]})}):o.jsx(o.Fragment,{children:o.jsxs("div",{style:{padding:"8px 12px",color:"#dc2626",fontSize:"13px",textAlign:"center",borderBottom:"1px solid #e5e7eb",marginBottom:"8px"},children:[" Authorization Required",o.jsx("div",{style:{fontSize:"11px",color:"#666",marginTop:"4px"},children:"Candidate must authorize first"})]})})}),V===0&&N.status!=="declined"&&o.jsx(o.Fragment,{children:(!j.authorization_status||j.authorization_status==="pending")&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{g(null),J(j.id,`${j.candidate_first_name} ${j.candidate_last_name}`)},style:{color:"#2563eb"},children:" Send Authorization Email"}),o.jsx("button",{onClick:()=>{g(null),me(j.id,`${j.candidate_first_name} ${j.candidate_last_name}`)},style:{color:"#10b981",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"8px"},children:" Mark Verbal Authorization"})]})}),o.jsx("button",{onClick:()=>{g(null),n&&n(j.id)},children:" Add Referee"}),o.jsx("button",{onClick:()=>{g(null),we(j.id,`${j.candidate_first_name} ${j.candidate_last_name}`)},style:{color:"#dc2626"},children:" Delete Candidate"})]})]})]},N.id))},j.id))})]})}),F&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>X(null),children:o.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"30px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},onClick:j=>j.stopPropagation(),children:[o.jsx("h2",{style:{marginTop:0,marginBottom:"24px",color:"#1f2937"},children:"Edit Referee Details"}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"First Name *"}),o.jsx("input",{type:"text",value:F.first_name,onChange:j=>X({...F,first_name:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},required:!0})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Last Name *"}),o.jsx("input",{type:"text",value:F.last_name,onChange:j=>X({...F,last_name:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},required:!0})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Email *"}),o.jsx("input",{type:"email",value:F.email,onChange:j=>X({...F,email:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},required:!0})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Phone"}),o.jsx("input",{type:"tel",value:F.phone||"",onChange:j=>X({...F,phone:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"}})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Relationship *"}),o.jsx("input",{type:"text",value:F.relationship,onChange:j=>X({...F,relationship:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},placeholder:"e.g. Manager, Colleague, Direct Report",required:!0})]}),o.jsxs("div",{style:{marginBottom:"24px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Company/Organization"}),o.jsx("input",{type:"text",value:F.company||"",onChange:j=>X({...F,company:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},placeholder:"e.g. Google, Acme Corp, or Personal Friend"}),o.jsx("span",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px",display:"block"},children:"Where you worked together (or context for personal references)"})]}),F.consent_agreed&&F.consent_signature&&o.jsxs("div",{style:{marginBottom:"24px",padding:"15px",backgroundColor:"#f0fdf4",border:"1px solid #86efac",borderRadius:"6px"},children:[o.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:"600",color:"#166534"},children:" Consent Form Completed"}),F.consent_signed_at&&o.jsxs("p",{style:{margin:"5px 0",fontSize:"13px",color:"#166534"},children:[o.jsx("strong",{children:"Date Signed:"})," ",new Date(F.consent_signed_at).toLocaleString("en-NZ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Pacific/Auckland"})]}),F.consent_signature&&o.jsxs("p",{style:{margin:"5px 0",fontSize:"13px",color:"#166534"},children:[o.jsx("strong",{children:"Signature:"})," ",F.consent_signature]}),o.jsx("button",{onClick:gd,style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#8b5cf6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:" Download Consent Form"})]}),o.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[o.jsx("button",{onClick:()=>X(null),style:{padding:"10px 20px",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancel"}),o.jsx("button",{onClick:hd,style:{padding:"10px 20px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Save Changes"})]})]})}),T&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>W(null),children:o.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"30px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},onClick:j=>j.stopPropagation(),children:[o.jsx("h2",{style:{marginTop:0,marginBottom:"24px",color:"#1f2937"},children:"Candidate Details"}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"First Name *"}),o.jsx("input",{type:"text",value:T.candidate_first_name,onChange:j=>W({...T,candidate_first_name:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},required:!0})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Last Name *"}),o.jsx("input",{type:"text",value:T.candidate_last_name,onChange:j=>W({...T,candidate_last_name:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},required:!0})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Email *"}),o.jsx("input",{type:"email",value:T.candidate_email,onChange:j=>W({...T,candidate_email:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},required:!0})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Phone"}),o.jsx("input",{type:"tel",value:T.candidate_phone_number||"",onChange:j=>W({...T,candidate_phone_number:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"}})]}),o.jsxs("div",{style:{marginBottom:"24px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Position Applied For *"}),o.jsx("input",{type:"text",value:T.position_applied_for,onChange:j=>W({...T,position_applied_for:j.target.value}),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},required:!0})]}),(T.authorization_status==="authorized"||T.authorization_status==="verbal")&&o.jsxs("div",{style:{marginBottom:"24px",padding:"15px",backgroundColor:"#f0fdf4",border:"1px solid #86efac",borderRadius:"6px"},children:[o.jsx("h3",{style:{margin:"0 0 12px 0",color:"#15803d",fontSize:"16px"},children:" Authorization Complete"}),o.jsxs("div",{style:{fontSize:"14px",color:"#166534"},children:[o.jsxs("p",{style:{margin:"5px 0"},children:[o.jsx("strong",{children:"Method:"})," ",T.authorization_method==="online"?"Online Form":"Verbal Authorization"]}),T.authorization_completed_at&&o.jsxs("p",{style:{margin:"5px 0"},children:[o.jsx("strong",{children:"Completed:"})," ",new Date(T.authorization_completed_at).toLocaleString("en-NZ",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Pacific/Auckland"})]}),T.authorization_signature&&o.jsxs("p",{style:{margin:"5px 0"},children:[o.jsx("strong",{children:"Signature:"})," ",T.authorization_signature]}),o.jsx("button",{onClick:md,style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#15803d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:" Download Authorization Form"})]})]}),T.authorization_status==="pending"&&o.jsx("div",{style:{marginBottom:"24px",padding:"15px",backgroundColor:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"6px"},children:o.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#92400e"},children:[" ",o.jsx("strong",{children:"Authorization Pending"})," - Waiting for candidate to complete authorization"]})}),!T.authorization_status&&o.jsx("div",{style:{marginBottom:"24px",padding:"15px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px"},children:o.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#991b1b"},children:[" ",o.jsx("strong",{children:"Authorization Required"})," - Send authorization request before contacting referees"]})}),o.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[o.jsx("button",{onClick:()=>W(null),style:{padding:"10px 20px",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancel"}),o.jsx("button",{onClick:xd,style:{padding:"10px 20px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Save Changes"})]})]})})]})},lm=({requestId:e,candidateName:t,positionAppliedFor:n,apiUrl:r="http://localhost:5001/api",onBack:i,onSuccess:l})=>{const[s,a]=x.useState([]),[u,c]=x.useState(!0),[m,h]=x.useState(!1),[g,_]=x.useState(!1),[w,v]=x.useState(""),[b,f]=x.useState(""),[d,p]=x.useState(""),[k,S]=x.useState(`Authorization Required: Reference Check for ${n}`),[L,D]=x.useState(""),[O,Y]=x.useState(`Reference Request for ${t}`),[B,F]=x.useState(""),[X,K]=x.useState("");x.useEffect(()=>{T(),E()},[e]);const E=()=>{const Q=t||"{candidate_first_name} {candidate_last_name}",R=n||"{position}";D(`Dear ${Q},

We would like to conduct reference checks as part of your application for the position of ${R}.

To proceed, we need your authorization to contact your professional referees. This is a standard part of our hiring process.

What you're authorizing:
 Permission to contact your professional referees
 Collection of feedback about your work history and performance  
 Use of this information in our hiring decision

Please click the link below to review and authorize:

{authorization_link}

This link is unique to you and will expire once used.

If you have any questions, please contact us.

Best regards,
The Hiring Team`),F(`Hi {referee_first_name},

You've been asked to provide a reference for ${Q}, who is applying for the position of ${R}.

Please click the link below to complete the reference check. This should take approximately 10-15 minutes:

{reference_link}

This link will expire in 30 days.

If you have any questions, please don't hesitate to reach out.

Thank you for your time!

Best regards`),K(`Hi {referee_first_name}, you've been asked to provide a reference for ${Q} (${R}). Complete here: {reference_link} - Expires in 30 days.`)},T=async()=>{var Q,R;c(!0),v("");try{const z=await fetch(`${r}/requests/${e}`),I=await z.json();if(!z.ok)throw new Error(I.error||"Failed to fetch referees");a(I.referees||[]),f(((Q=I.request)==null?void 0:Q.candidate_email)||""),p(((R=I.request)==null?void 0:R.authorization_status)||"pending")}catch(z){const I=z instanceof Error?z.message:"An error occurred";v(I)}finally{c(!1)}},W=async()=>{if(confirm(`Send authorization request to ${t}?

They will receive an email at: ${b}

 Note: Only the most recent email link will work. Previous links will be invalidated.`)){_(!0),v("");try{const Q=await fetch(`${r}/requests/${e}/send-authorization`,{method:"POST",headers:{"Content-Type":"application/json"}}),R=await Q.json();if(!Q.ok)throw new Error(R.error||"Failed to send authorization");alert(` Authorization request sent to ${t}!

They will receive an email shortly. Only this latest link will work - any previous authorization links are now invalid.`),l?l():i&&i()}catch(Q){const R=Q instanceof Error?Q.message:"An error occurred";v(`Authorization Error: ${R}`),alert(` Error: ${R}`)}finally{_(!1)}}};return u?o.jsx("div",{className:"loading",children:"Loading referees..."}):o.jsxs("div",{className:"send-invitations",children:[o.jsx("button",{onClick:i,className:"btn-back",children:" Back to Referees"}),o.jsx("h2",{children:"Send Reference Check Invitations"}),o.jsx("p",{className:"help-text",children:d==="authorized"||d==="verbal"?o.jsxs("span",{style:{color:"#059669",fontWeight:"500"},children:[" Candidate has authorized! Referee invitations were automatically sent to ",s.length," referee(s)."]}):`Review the messages that will be automatically sent to ${s.length} referee(s) after authorization`}),o.jsxs("div",{style:{background:"#f7fafc",padding:"15px",borderRadius:"6px",marginBottom:"30px",border:"1px solid #e2e8f0"},children:[o.jsx("strong",{children:"Candidate:"})," ",t||"Loading...",o.jsx("br",{}),o.jsx("strong",{children:"Position:"})," ",n||"Loading...",o.jsx("br",{}),o.jsx("strong",{children:"Email:"})," ",b||"Loading...",o.jsx("br",{}),o.jsx("strong",{children:"Authorization Status:"})," ",d==="authorized"?" Authorized":d==="verbal"?" Authorized (Verbal)":" Pending",o.jsx("br",{}),o.jsx("strong",{children:"Referees:"})," ",s.length]}),w&&o.jsx("div",{className:"alert alert-error",children:w}),d!=="authorized"&&d!=="verbal"&&o.jsxs("div",{style:{marginBottom:"30px",padding:"15px",borderLeft:"4px solid #f59e0b",background:"#fefce8",borderRadius:"6px"},children:[o.jsx("p",{style:{margin:0,color:"#d97706",fontWeight:"500"},children:" Authorization Required"}),o.jsx("p",{style:{margin:"10px 0 0 0",fontSize:"14px",color:"#92400e"},children:"The candidate will be sent an email to authorise the reference checks before the referees are contacted."})]}),o.jsxs("div",{style:{marginBottom:"30px"},children:[o.jsx("h3",{children:"Referee/s:"}),o.jsx("ul",{style:{listStyle:"none",padding:0},children:s.map(Q=>o.jsxs("li",{style:{padding:"10px",background:"#fff",border:"1px solid #e2e8f0",borderRadius:"4px",marginBottom:"8px"},children:[o.jsxs("strong",{children:[Q.first_name," ",Q.last_name]}),o.jsx("br",{})," ",Q.email,Q.phone_number&&o.jsxs(o.Fragment,{children:[o.jsx("br",{})," ",Q.phone_number]})]},Q.id))})]}),o.jsx("div",{className:"form-actions",style:{marginTop:"40px",textAlign:"center"},children:d==="authorized"||d==="verbal"?o.jsxs("div",{style:{background:"#d1fae5",padding:"20px",borderRadius:"8px",border:"2px solid #10b981",marginBottom:"20px"},children:[o.jsx("p",{style:{margin:0,color:"#059669",fontWeight:"500",fontSize:"16px"},children:" Referee invitations were automatically sent when the candidate authorized!"}),o.jsx("p",{style:{margin:"10px 0 0 0",fontSize:"14px",color:"#047857"},children:"Check your dashboard to see referee responses as they come in."})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:W,disabled:g,className:"btn-primary",style:{fontSize:"18px",padding:"15px 40px",marginBottom:"20px"},children:g?"Sending...":" Begin Reference Checking"}),o.jsx("div",{children:o.jsx("button",{onClick:i,className:"btn-secondary",children:" Back to Dashboard"})})]})})]})};function sm({title:e,message:t,confirmText:n="Confirm",cancelText:r="Cancel",onConfirm:i,onCancel:l,isDestructive:s=!1}){return o.jsx("div",{className:"modal-overlay",onClick:l,children:o.jsxs("div",{className:"modal-content confirm-dialog",onClick:a=>a.stopPropagation(),children:[o.jsx("div",{className:"modal-header",children:o.jsx("h2",{children:e})}),o.jsx("div",{className:"modal-body",children:o.jsx("p",{children:t})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{onClick:l,className:"btn-secondary",children:r}),o.jsx("button",{onClick:i,className:s?"btn-danger":"btn-primary",children:n})]})]})})}function am({apiUrl:e,userId:t,onSelectTemplate:n,onCreateNew:r}){const[i,l]=x.useState([]),[s,a]=x.useState(!0),[u,c]=x.useState(""),[m,h]=x.useState("all"),[g,_]=x.useState(""),[w,v]=x.useState(null),[b,f]=x.useState(!1),[d,p]=x.useState(null),[k,S]=x.useState(!1),[L,D]=x.useState(null),[O,Y]=x.useState(!1),[B,F]=x.useState(null),[X,K]=x.useState(!1);x.useEffect(()=>{E()},[m,t]);const E=async()=>{try{a(!0),c("");const A=new URLSearchParams({user_id:t,type:m});g&&A.append("search",g);const J=await fetch(`${e}/templates?${A}`);if(!J.ok)throw new Error("Failed to fetch templates");const me=await J.json();l(me.templates||[])}catch(A){const J=A instanceof Error?A.message:"An error occurred";c(J)}finally{a(!1)}},T=()=>{E()},W=A=>{v(A),F(JSON.parse(JSON.stringify(A))),Y(A.usage_count===0&&!A.is_global),f(!0)},Q=async()=>{if(d)try{S(!0);const A=await fetch(`${e}/templates/${d.templateId}?user_id=${t}`,{method:"DELETE"});if(!A.ok){const J=await A.json();throw new Error(J.error||"Failed to delete template")}await E(),p(null)}catch(A){c(A instanceof Error?A.message:"Failed to delete template")}finally{S(!1)}},R=()=>{f(!1),v(null),F(null),Y(!1)},z=A=>{n(A.id,A.name)},I=(A,J)=>{if(J.stopPropagation(),L===A){D(null);return}D(A)};x.useEffect(()=>{const A=J=>{L&&!J.target.closest(".actions-menu, .btn-action")&&D(null)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[L]);const q=async()=>{if(B)try{K(!0),c("");const A=await fetch(`${e}/templates/${B.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,name:B.name,description:B.description,category:B.category,schema_json:B.schema_json})});if(!A.ok){const J=await A.json();throw new Error(J.error||"Failed to save template")}alert(" Template updated successfully!"),await E(),R()}catch(A){const J=A instanceof Error?A.message:"Failed to save template";c(J),alert(` Error: ${J}`)}finally{K(!1)}},G=async A=>{D(null);try{c("");const J=await fetch(`${e}/templates/${A.id}/clone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,new_name:`${A.name} (Copy)`})});if(!J.ok){const Le=await J.json();throw new Error(Le.error||"Failed to duplicate template")}const me=await J.json();alert(` Template duplicated successfully!

New template: "${me.template.name}"`),await E()}catch(J){const me=J instanceof Error?J.message:"Failed to duplicate template";c(me),alert(` Error: ${me}`)}},we=A=>({general:"badge-general",management:"badge-management",technical:"badge-technical",sales:"badge-sales",entry_level:"badge-entry",executive:"badge-executive",academic:"badge-academic",custom:"badge-custom"})[A]||"badge-default",ce=A=>({general:"General",management:"Management",technical:"Technical",sales:"Sales",entry_level:"Entry Level",executive:"Executive",academic:"Academic",custom:"Custom"})[A]||A;return s?o.jsx("div",{className:"template-library loading",children:o.jsxs("div",{className:"loading-spinner",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Loading templates..."})]})}):o.jsxs("div",{className:"template-library",children:[o.jsx("header",{className:"template-library-header",children:o.jsxs("div",{className:"header-content",children:[o.jsx("h2",{children:" Select a Reference Template"}),o.jsx("p",{children:"Choose a template to get started, or create your own custom template"})]})}),o.jsxs("div",{className:"template-filters",children:[o.jsxs("div",{className:"filter-buttons",children:[o.jsxs("button",{className:`filter-btn ${m==="all"?"active":""}`,onClick:()=>h("all"),children:["All Templates (",i.length,")"]}),o.jsx("button",{className:`filter-btn ${m==="global"?"active":""}`,onClick:()=>h("global"),children:" Pre-Built"}),o.jsx("button",{className:`filter-btn ${m==="organization"?"active":""}`,onClick:()=>h("organization"),children:" My Custom"})]}),o.jsxs("div",{className:"search-bar",children:[o.jsx("input",{type:"text",placeholder:"Search templates...",value:g,onChange:A=>_(A.target.value),onKeyPress:A=>A.key==="Enter"&&T()}),o.jsx("button",{onClick:T,className:"btn-search",children:" Search"})]}),r&&o.jsx("button",{onClick:r,className:"btn-create-template",children:"+ Create Custom Template"})]}),u&&o.jsxs("div",{className:"error-message",children:[o.jsxs("p",{children:[" ",u]}),o.jsx("button",{onClick:E,children:"Try Again"})]}),i.length===0&&!s&&!u&&o.jsxs("div",{className:"no-templates",children:[o.jsx("p",{children:"No templates found"}),g&&o.jsx("p",{children:"Try adjusting your search terms"})]}),o.jsx("div",{className:"template-list-container",children:o.jsxs("table",{className:"template-list-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Template Name"}),o.jsx("th",{children:"Category"}),o.jsx("th",{children:"Description"}),o.jsx("th",{style:{textAlign:"center"},children:"Questions"}),o.jsx("th",{style:{textAlign:"center"},children:"Used"}),o.jsx("th",{style:{textAlign:"center"},children:"Actions"})]})}),o.jsx("tbody",{children:i.map(A=>o.jsxs("tr",{className:"template-list-row",children:[o.jsx("td",{children:o.jsxs("div",{className:"template-name-cell-stacked",children:[o.jsx("strong",{children:A.name}),A.is_global&&o.jsx("span",{className:"badge badge-global",style:{fontSize:"10px",marginTop:"4px"},children:"Global"})]})}),o.jsx("td",{children:o.jsx("span",{className:`badge ${we(A.category)}`,children:ce(A.category)})}),o.jsx("td",{children:o.jsx("span",{className:"template-description-cell",title:A.description||"No description available",children:A.description||"No description available"})}),o.jsx("td",{style:{textAlign:"center"},children:o.jsx("strong",{children:A.schema_json.fields.length})}),o.jsx("td",{style:{textAlign:"center"},children:o.jsxs("strong",{children:[A.usage_count,A.usage_count>=1&&" "]})}),o.jsx("td",{style:{textAlign:"center"},children:o.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[o.jsx("button",{onClick:J=>I(A.id,J),className:"btn-action",style:{background:"#6366f1",color:"white"},children:""}),L===A.id&&o.jsxs("div",{className:"actions-menu",children:[o.jsx("button",{onClick:()=>{D(null),z(A)},style:{color:"#6366f1",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"8px"},children:" Use This Template"}),o.jsx("button",{onClick:()=>{G(A)},style:{color:"#2563eb"},children:" Duplicate Template"}),o.jsx("button",{onClick:()=>{D(null),W(A)},style:{color:"#8b5cf6"},children:A.usage_count===0?" Preview/Edit":" Preview"}),!A.is_global&&o.jsx("button",{onClick:()=>{D(null),p({templateId:A.id,templateName:A.name})},style:{color:"#dc2626",borderTop:"1px solid #e5e7eb",paddingTop:"8px",marginTop:"8px"},children:" Delete Template"})]})]})})]},A.id))})]})}),b&&w&&B&&o.jsx("div",{className:"modal-overlay",onClick:R,children:o.jsxs("div",{className:"modal-content template-preview-modal",onClick:A=>A.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:O?"Edit Template":w.name}),o.jsx("button",{onClick:R,className:"btn-close",children:""})]}),o.jsx("div",{className:"modal-body",children:O?o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Template Name *"}),o.jsx("input",{type:"text",value:B.name,onChange:A=>F({...B,name:A.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"}})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Description"}),o.jsx("textarea",{value:B.description||"",onChange:A=>F({...B,description:A.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc",minHeight:"60px"}})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Category *"}),o.jsxs("select",{value:B.category,onChange:A=>F({...B,category:A.target.value}),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},children:[o.jsx("option",{value:"general",children:"General"}),o.jsx("option",{value:"management",children:"Management"}),o.jsx("option",{value:"technical",children:"Technical"}),o.jsx("option",{value:"sales",children:"Sales"}),o.jsx("option",{value:"entry_level",children:"Entry Level"}),o.jsx("option",{value:"executive",children:"Executive"}),o.jsx("option",{value:"academic",children:"Academic"}),o.jsx("option",{value:"custom",children:"Custom"})]})]}),o.jsxs("div",{className:"preview-questions",children:[o.jsxs("h3",{children:["Questions (",B.schema_json.fields.length,")"]}),B.schema_json.fields.map((A,J)=>o.jsx("div",{className:"preview-question",style:{marginBottom:"16px",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"6px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"12px"},children:[o.jsxs("div",{className:"question-number",style:{minWidth:"24px"},children:[J+1,"."]}),o.jsxs("div",{style:{flex:1},children:[o.jsx("textarea",{value:A.text,onChange:me=>{const Le=[...B.schema_json.fields];Le[J]={...A,text:me.target.value},F({...B,schema_json:{...B.schema_json,fields:Le}})},style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc",minHeight:"60px"}}),o.jsxs("div",{style:{marginTop:"8px",display:"flex",gap:"12px",alignItems:"center"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx("input",{type:"checkbox",checked:A.required,onChange:me=>{const Le=[...B.schema_json.fields];Le[J]={...A,required:me.target.checked},F({...B,schema_json:{...B.schema_json,fields:Le}})}}),"Required"]}),o.jsxs("select",{value:A.type||"text",onChange:me=>{const Le=[...B.schema_json.fields];Le[J]={...A,type:me.target.value},F({...B,schema_json:{...B.schema_json,fields:Le}})},style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #ccc"},children:[o.jsx("option",{value:"text",children:"Short Answer"}),o.jsx("option",{value:"textarea",children:"Long Answer"}),o.jsx("option",{value:"scale",children:"Rating Scale"})]})]})]})]})},A.id))]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"preview-metadata",children:[o.jsx("span",{className:`badge ${we(w.category)}`,children:ce(w.category)}),w.is_global&&o.jsx("span",{className:"badge badge-global",children:"Global Template"}),w.usage_count>=1&&o.jsxs("span",{className:"badge badge-locked",style:{background:"#dc2626",color:"white"},children:[" Locked (",w.usage_count," completed)"]})]}),o.jsx("p",{className:"preview-description",children:w.description}),o.jsxs("div",{className:"preview-questions",children:[o.jsxs("h3",{children:["Questions (",w.schema_json.fields.length,")"]}),w.schema_json.fields.map((A,J)=>o.jsxs("div",{className:"preview-question",children:[o.jsxs("div",{className:"question-number",children:[J+1,"."]}),o.jsxs("div",{className:"question-content",children:[o.jsx("p",{className:"question-text",children:A.text}),o.jsxs("div",{className:"question-meta",children:[A.required&&o.jsx("span",{className:"badge badge-required",children:"Required"}),o.jsx("span",{className:"badge badge-type",children:A.type==="textarea"?"Long Answer":A.type==="scale"?"Rating Scale":"Short Answer"})]})]})]},A.id))]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{onClick:R,className:"btn-secondary",children:O?"Cancel":"Close"}),O?o.jsx("button",{onClick:q,className:"btn-primary",disabled:X,children:X?"Saving...":"Save Changes"}):o.jsx("button",{onClick:()=>{R(),z(w)},className:"btn-primary",children:"Use This Template"})]})]})}),d&&o.jsx(sm,{title:"Delete Template?",message:`Are you sure you want to delete "${d.templateName}"? This action cannot be undone.`,confirmText:k?"Deleting...":"Delete",cancelText:"Cancel",onConfirm:Q,onCancel:()=>p(null),isDestructive:!0})]})}const ki=[{id:"lib_wp_1",text:"How would you describe the candidate's overall work performance?",category:"Work Performance",type:"textarea",required:!0},{id:"lib_wp_2",text:"What were the candidate's key strengths in their role?",category:"Work Performance",type:"textarea",required:!0},{id:"lib_wp_3",text:"What areas could the candidate improve upon?",category:"Work Performance",type:"textarea",required:!0},{id:"lib_wp_4",text:"On a scale of 1-5, how would you rate their work quality?",category:"Work Performance",type:"scale",required:!0},{id:"lib_wp_5",text:"Did the candidate consistently meet deadlines and deliverables?",category:"Work Performance",type:"textarea",required:!0},{id:"lib_ct_1",text:"How effective was the candidate at communicating with team members?",category:"Communication",type:"textarea",required:!0},{id:"lib_ct_2",text:"On a scale of 1-5, how would you rate their teamwork skills?",category:"Communication",type:"scale",required:!0},{id:"lib_ct_3",text:"How did the candidate handle conflicts or disagreements?",category:"Communication",type:"textarea",required:!1},{id:"lib_ct_4",text:"Was the candidate comfortable presenting ideas to stakeholders?",category:"Communication",type:"textarea",required:!1},{id:"lib_li_1",text:"Did the candidate demonstrate leadership qualities?",category:"Leadership",type:"textarea",required:!1},{id:"lib_li_2",text:"Can you provide an example of when they took initiative?",category:"Leadership",type:"textarea",required:!1},{id:"lib_li_3",text:"How did they handle responsibility and accountability?",category:"Leadership",type:"textarea",required:!0},{id:"lib_li_4",text:"On a scale of 1-5, how proactive were they?",category:"Leadership",type:"scale",required:!1},{id:"lib_ra_1",text:"How would you rate the candidate's punctuality and attendance?",category:"Reliability",type:"textarea",required:!0},{id:"lib_ra_2",text:"Could you rely on them to follow through on commitments?",category:"Reliability",type:"textarea",required:!0},{id:"lib_ra_3",text:"On a scale of 1-5, how dependable were they?",category:"Reliability",type:"scale",required:!0},{id:"lib_pd_1",text:"How receptive was the candidate to feedback and coaching?",category:"Professional Development",type:"textarea",required:!0},{id:"lib_pd_2",text:"Did they show interest in learning and professional growth?",category:"Professional Development",type:"textarea",required:!1},{id:"lib_pd_3",text:"What skills or capabilities did they develop during their time with you?",category:"Professional Development",type:"textarea",required:!1},{id:"lib_cf_1",text:"How well did the candidate fit with your organization's culture?",category:"Cultural Fit",type:"textarea",required:!0},{id:"lib_cf_2",text:"What type of work environment do they thrive in?",category:"Cultural Fit",type:"textarea",required:!1},{id:"lib_cf_3",text:"On a scale of 1-5, how would you rate their cultural fit?",category:"Cultural Fit",type:"scale",required:!1},{id:"lib_rec_1",text:"Would you rehire this candidate if given the opportunity?",category:"Recommendation",type:"textarea",required:!0},{id:"lib_rec_2",text:"On a scale of 1-5, how strongly would you recommend this candidate?",category:"Recommendation",type:"scale",required:!0},{id:"lib_rec_3",text:"Is there anything else you would like to add about this candidate?",category:"Recommendation",type:"textarea",required:!1},{id:"lib_rfl_1",text:"What was the reason for the candidate leaving your organization?",category:"Employment History",type:"textarea",required:!0},{id:"lib_rfl_2",text:"Would you consider them eligible for rehire?",category:"Employment History",type:"textarea",required:!0}];function um({onAddQuestion:e,onClose:t}){const[n,r]=x.useState("all"),[i,l]=x.useState(""),s=["all",...Array.from(new Set(ki.map(c=>c.category)))],a=ki.filter(c=>{const m=n==="all"||c.category===n,h=c.text.toLowerCase().includes(i.toLowerCase())||c.category.toLowerCase().includes(i.toLowerCase());return m&&h}),u=c=>{const m={...c,id:`q_${Date.now()}_${Math.random().toString(36).substr(2,9)}`};e(m)};return o.jsx("div",{className:"modal-overlay",onClick:t,children:o.jsxs("div",{className:"modal-content question-library-modal",onClick:c=>c.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:" Question Library"}),o.jsx("button",{onClick:t,className:"btn-close",children:""})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("p",{className:"library-intro",children:["Choose from ",ki.length," pre-built questions to add to your template"]}),o.jsxs("div",{className:"library-filters",children:[o.jsx("input",{type:"text",placeholder:"Search questions...",value:i,onChange:c=>l(c.target.value),className:"search-input"}),o.jsx("select",{value:n,onChange:c=>r(c.target.value),className:"category-filter",children:s.map(c=>o.jsx("option",{value:c,children:c==="all"?"All Categories":c},c))})]}),o.jsx("div",{className:"library-questions",children:a.length===0?o.jsx("div",{className:"no-results",children:o.jsx("p",{children:"No questions found matching your criteria"})}):a.map((c,m)=>o.jsxs("div",{className:"library-question-item",children:[o.jsxs("div",{className:"question-details",children:[o.jsx("span",{className:"question-category",children:c.category}),o.jsx("p",{className:"question-text",children:c.text}),o.jsxs("div",{className:"question-meta",children:[o.jsx("span",{className:"meta-badge",children:c.type==="textarea"?"Long Text":c.type==="scale"?"Rating (1-5)":"Short Text"}),c.required&&o.jsx("span",{className:"meta-badge required",children:"Required"})]})]}),o.jsx("button",{onClick:()=>u(c),className:"btn-add-from-library",title:"Add to template",children:"+ Add"})]},`${c.id}-${m}`))})]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"})})]})})}function cm({apiUrl:e,userId:t,templateId:n,onSave:r,onCancel:i}){const[l,s]=x.useState(""),[a,u]=x.useState(""),[c,m]=x.useState([]),[h,g]=x.useState(!1),[_,w]=x.useState(!1),[v,b]=x.useState(""),[f,d]=x.useState(null),[p,k]=x.useState(!1),[S,L]=x.useState(null);x.useEffect(()=>{n?D():Y()},[n]);const D=async()=>{if(n)try{g(!0);const z=await fetch(`${e}/templates/${n}?user_id=${t}`);if(!z.ok)throw new Error("Failed to fetch template");const q=(await z.json()).template;s(q.name),u(q.description||""),m(q.schema_json.fields.map(G=>({id:G.id,text:G.text,required:G.required,type:G.type||"text",category:G.category||"Custom"})))}catch(z){b(z instanceof Error?z.message:"Failed to load template")}finally{g(!1)}},O=()=>`q_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Y=z=>{const I={id:O(),text:"",required:!1,type:"text",category:"Custom"};if(z!==void 0){const q=[...c];q.splice(z,0,I),m(q)}else m([...c,I])},B=z=>{const I={id:O(),text:z.text,required:z.required,type:z.type,category:z.category};if(S!==null){const q=[...c],G=S-1;G>=0&&!q[G].text.trim()?q[G]=I:q.splice(S,0,I),m(q)}else m([...c,I]);k(!1),L(null)},F=(z,I,q)=>{const G=[...c];G[z]={...G[z],[I]:q},m(G)},X=z=>{if(c.length===1){b("Template must have at least one question");return}m(c.filter((I,q)=>q!==z))},K=(z,I)=>{const q=[...c],[G]=q.splice(z,1);q.splice(I,0,G),m(q)},E=z=>{d(z)},T=(z,I)=>{z.preventDefault(),!(f===null||f===I)&&(K(f,I),d(I))},W=()=>{d(null)},Q=()=>{if(!l.trim())return b("Template name is required"),!1;if(c.length===0)return b("Template must have at least one question"),!1;if(c.length>20)return b("Template cannot have more than 20 questions"),!1;if(c.filter(we=>we.text.trim()).length===0)return b("Template must have at least one question with text"),!1;if(c.filter(we=>we.required).length===0)return b("Template must have at least one required question"),!1;const q=c.map(we=>we.id),G=new Set(q);return q.length!==G.size?(b("Duplicate question IDs detected. Please try again."),!1):!0},R=async()=>{if(b(""),!!Q())try{w(!0);const z=c.filter(ce=>ce.text.trim()),I={title:l,description:a,type:"chat",fields:z.map(ce=>({id:ce.id,text:ce.text,required:ce.required,type:ce.type,category:ce.category||"Custom"}))},q={user_id:t,name:l,description:a,type:"chat",category:"custom",schema_json:I};let G;if(n?G=await fetch(`${e}/templates/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}):G=await fetch(`${e}/templates`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}),!G.ok){const ce=await G.json();throw new Error(ce.error||"Failed to save template")}const we=await G.json();r(we.template.id)}catch(z){b(z instanceof Error?z.message:"Failed to save template")}finally{w(!1)}};return h?o.jsx("div",{className:"template-builder loading",children:o.jsxs("div",{className:"loading-spinner",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Loading template..."})]})}):o.jsxs("div",{className:"template-builder",children:[o.jsxs("div",{className:"builder-header",children:[o.jsx("h2",{children:n?"Edit Template":"Create Custom Template"}),o.jsx("p",{children:"Build your own custom reference check template with the questions you need"})]}),v&&o.jsxs("div",{className:"error-banner",children:[o.jsxs("span",{children:[" ",v]}),o.jsx("button",{onClick:()=>b(""),children:""})]}),o.jsxs("div",{className:"builder-content",children:[o.jsxs("section",{className:"builder-section",children:[o.jsx("h3",{children:"Template Information"}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{children:["Template Name ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("input",{type:"text",value:l,onChange:z=>s(z.target.value),placeholder:"e.g., Custom Sales Reference",maxLength:100}),o.jsxs("span",{className:"help-text",children:[l.length,"/100 characters"]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Description"}),o.jsx("textarea",{value:a,onChange:z=>u(z.target.value),placeholder:"Describe what this template is for...",rows:3,maxLength:300}),o.jsxs("span",{className:"help-text",children:[a.length,"/300 characters"]})]})]}),o.jsxs("section",{className:"builder-section",children:[o.jsxs("h3",{children:["Questions (",c.length,"/20)"]}),o.jsx("div",{className:"questions-list",children:c.map((z,I)=>o.jsxs("div",{className:`question-editor ${f===I?"dragging":""}`,draggable:!0,onDragStart:()=>E(I),onDragOver:q=>T(q,I),onDragEnd:W,children:[o.jsxs("div",{className:"question-header",children:[o.jsx("div",{className:"drag-handle",title:"Drag to reorder",children:""}),o.jsxs("span",{className:"question-number",children:["Question ",I+1]}),o.jsx("span",{className:`question-category-badge ${z.category==="Custom"?"custom":"library"}`,children:z.category||"Custom"}),o.jsxs("div",{className:"question-actions",children:[o.jsx("button",{onClick:()=>{L(I+1),k(!0)},className:"btn-library-small",title:"Add question from library",disabled:c.length>=20,children:""}),o.jsx("button",{onClick:()=>Y(I+1),className:"btn-add-custom-small",title:"Add custom question",disabled:c.length>=20,children:"+"}),o.jsx("button",{onClick:()=>X(I),className:"btn-delete-question",title:"Delete question",disabled:c.length===1,children:""})]})]}),o.jsxs("div",{className:"question-body",children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{children:["Question Text ",o.jsx("span",{className:"required",children:"*"})]}),o.jsx("textarea",{value:z.text,onChange:q=>F(I,"text",q.target.value),placeholder:"Enter your question here...",rows:2,maxLength:500}),o.jsxs("span",{className:"help-text",children:[z.text.length,"/500 characters"]})]}),o.jsxs("div",{className:"question-options",children:[o.jsx("label",{className:"inline-label",children:"Answer Type"}),o.jsxs("select",{value:z.type,onChange:q=>F(I,"type",q.target.value),className:"type-select",children:[o.jsx("option",{value:"text",children:"Short Text"}),o.jsx("option",{value:"textarea",children:"Long Text (Paragraph)"}),o.jsx("option",{value:"scale",children:"Rating Scale (1-5)"})]}),o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:z.required,onChange:q=>F(I,"required",q.target.checked)}),o.jsx("span",{children:"Required Question"})]})]})]})]},z.id))}),c.length<20&&o.jsxs("div",{className:"add-question-buttons",children:[o.jsx("button",{onClick:()=>{L(c.length),k(!0)},className:"btn-library",children:"+ Add Template Question"}),o.jsx("button",{onClick:()=>Y(),className:"btn-add-question",children:"+ Add Custom Question"})]})]}),o.jsxs("section",{className:"builder-section validation-summary",children:[o.jsx("h4",{children:"Template Summary"}),o.jsxs("ul",{children:[o.jsxs("li",{className:l.trim()?"valid":"invalid",children:[l.trim()?"":""," Template name"]}),o.jsxs("li",{className:c.length>0?"valid":"invalid",children:[c.length>0?"":""," At least 1 question (",c.length," added)"]}),o.jsxs("li",{className:c.filter(z=>z.required).length>0?"valid":"invalid",children:[c.filter(z=>z.required).length>0?"":""," At least 1 required question"]}),o.jsxs("li",{className:c.every(z=>z.text.trim())?"valid":"invalid",children:[c.every(z=>z.text.trim())?"":""," All questions have text"]})]})]})]}),o.jsxs("div",{className:"builder-footer",children:[o.jsx("button",{onClick:i,className:"btn-secondary",disabled:_,children:"Cancel"}),o.jsx("button",{onClick:R,className:"btn-primary",disabled:_,children:_?"Saving...":n?"Update Template":"Create Template"})]}),p&&o.jsx(um,{onAddQuestion:B,onClose:()=>k(!1)})]})}const dm=({userId:e,apiUrl:t="http://localhost:5001/api",onBack:n})=>{const[r,i]=x.useState({contact_name:"",contact_mobile:"",contact_email:"",company_name:"",link_expiry_days:5,email_template:"",sms_template:""}),[l,s]=x.useState(!0),[a,u]=x.useState(!1),[c,m]=x.useState(""),[h,g]=x.useState("");x.useEffect(()=>{_()},[e]);const _=async()=>{s(!0),m("");try{const v=await fetch(`${t}/users/${e}/settings`),b=await v.json();if(!v.ok)throw new Error(b.error||"Failed to fetch settings");b.settings&&i(b.settings)}catch(v){const b=v instanceof Error?v.message:"An error occurred";m(b)}finally{s(!1)}},w=async()=>{u(!0),m(""),g("");try{const v=await fetch(`${t}/users/${e}/settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),b=await v.json();if(!v.ok)throw new Error(b.error||"Failed to save settings");g(" Settings saved successfully!"),setTimeout(()=>g(""),3e3)}catch(v){const b=v instanceof Error?v.message:"An error occurred";m(b)}finally{u(!1)}};return l?o.jsx("div",{style:{padding:"40px",textAlign:"center"},children:o.jsx("div",{style:{fontSize:"18px",color:"#6b7280"},children:"Loading settings..."})}):o.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[o.jsxs("div",{style:{marginBottom:"30px"},children:[n&&o.jsx("button",{onClick:n,style:{padding:"8px 16px",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",marginBottom:"20px"},children:" Back"}),o.jsx("h1",{style:{margin:"0 0 10px 0",color:"#1f2937",fontSize:"32px"},children:" Settings"}),o.jsx("p",{style:{margin:0,color:"#6b7280",fontSize:"16px"},children:"Manage your contact information and messaging preferences"})]}),c&&o.jsxs("div",{style:{padding:"15px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",color:"#991b1b",marginBottom:"20px"},children:[" ",c]}),h&&o.jsx("div",{style:{padding:"15px",backgroundColor:"#f0fdf4",border:"1px solid #86efac",borderRadius:"6px",color:"#15803d",marginBottom:"20px"},children:h}),o.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",border:"1px solid #e5e7eb",marginBottom:"20px"},children:[o.jsx("h2",{style:{margin:"0 0 20px 0",color:"#1f2937",fontSize:"20px"},children:" Contact Information"}),o.jsx("p",{style:{margin:"0 0 20px 0",color:"#6b7280",fontSize:"14px"},children:"This information will be displayed in emails sent to referees when they have questions."}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Your Name *"}),o.jsx("input",{type:"text",value:r.contact_name,onChange:v=>i({...r,contact_name:v.target.value}),placeholder:"e.g., John Smith",style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"}})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Mobile Number *"}),o.jsx("input",{type:"tel",value:r.contact_mobile,onChange:v=>i({...r,contact_mobile:v.target.value}),placeholder:"e.g., +64 21 123 4567",required:!0,style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"}})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Email Address *"}),o.jsx("input",{type:"email",value:r.contact_email,onChange:v=>i({...r,contact_email:v.target.value}),placeholder:"e.g., john@company.com",required:!0,style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"}})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Company Name *"}),o.jsx("input",{type:"text",value:r.company_name,onChange:v=>i({...r,company_name:v.target.value}),placeholder:"e.g., Acme Corporation",required:!0,style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"}})]})]}),o.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",border:"1px solid #e5e7eb",marginBottom:"20px"},children:[o.jsx("h2",{style:{margin:"0 0 20px 0",color:"#1f2937",fontSize:"20px"},children:" Email Message Template"}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Email Message"}),o.jsx("textarea",{value:`Hi {referee_first_name},

You've been asked to provide a reference for {candidate_first_name} {candidate_last_name}, who is applying for the position of {position} through {company_name}.

Please click the link below to complete the reference check. This should take approximately 10-15 minutes.

{reference_link}

This link will expire in {expires_in_days} days.

If you have any questions, please don't hesitate to reach out to:
{contact_name}
{contact_mobile}
{contact_email}
{company_name}

Thank you for your time!

Best regards`,readOnly:!0,rows:18,style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px",fontFamily:"inherit",resize:"vertical",backgroundColor:"#f9fafb",color:"#6b7280"}}),o.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"12px",color:"#6b7280",fontStyle:"italic"},children:"Not configurable at this stage"})]})]}),o.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",border:"1px solid #e5e7eb",marginBottom:"20px"},children:[o.jsx("h2",{style:{margin:"0 0 20px 0",color:"#1f2937",fontSize:"20px"},children:" SMS Message Template"}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"SMS Message"}),o.jsx("textarea",{value:"Hi {referee_first_name}, {candidate_first_name} has provided your details to be a referee for them. Please click the link to complete the reference {reference_link}, it will take 10 - 15 minutes. Thanks, {contact_name}, {company_name}",readOnly:!0,rows:3,style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px",fontFamily:"inherit",resize:"vertical",backgroundColor:"#f9fafb",color:"#6b7280"}}),o.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"12px",color:"#6b7280",fontStyle:"italic"},children:"Not configurable at this stage"})]})]}),o.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",border:"1px solid #e5e7eb",marginBottom:"20px"},children:[o.jsx("h2",{style:{margin:"0 0 20px 0",color:"#1f2937",fontSize:"20px"},children:" Reminders"}),o.jsx("p",{style:{margin:"0 0 20px 0",color:"#6b7280",fontSize:"14px"},children:"Following the first email, the referee will then receive a follow up email the next morning, then the text message reminders on the following 2 days before their link expires."})]}),o.jsx("div",{style:{display:"flex",gap:"12px"},children:o.jsx("button",{onClick:w,disabled:a||!r.contact_name||!r.contact_mobile||!r.contact_email||!r.company_name,style:{padding:"12px 24px",backgroundColor:r.contact_name&&r.contact_mobile&&r.contact_email&&r.company_name&&!a?"#2563eb":"#9ca3af",color:"white",border:"none",borderRadius:"6px",cursor:r.contact_name&&r.contact_mobile&&r.contact_email&&r.company_name&&!a?"pointer":"not-allowed",fontSize:"16px",fontWeight:"600",width:"100%"},children:a?"Saving...":" Save Settings"})})]})},fm=({userId:e,templateId:t,apiUrl:n="http://localhost:5001/api"})=>{const[r,i]=x.useState("list"),[l,s]=x.useState(null),[a,u]=x.useState(""),[c,m]=x.useState(""),[h,g]=x.useState(""),[_,w]=x.useState(null),[v,b]=x.useState(""),f=(F,X)=>{w(F),b(X),i("create")},d=()=>{i("build-template")},p=F=>{g("Template created successfully! You can now use it to create reference requests."),setTimeout(()=>{g(""),i("select-template")},2e3)},k=F=>{s(F),g("Reference request created successfully!"),i("add-referees")},S=()=>{g("Referees added successfully!"),setTimeout(()=>{g(""),l&&B(l)},1e3)},L=()=>{g("Reference check invitations sent successfully!"),setTimeout(()=>{i("list"),s(null),u(""),m(""),g("")},2e3)},D=F=>{console.error("Error:",F)},O=()=>{s(null),u(""),m(""),g(""),w(null),b(""),i("select-template")},Y=()=>{i("list"),s(null),u(""),m(""),g("")},B=async F=>{try{const K=await(await fetch(`${n}/requests/${F}`)).json();if(K.request){const E=`${K.request.candidate_first_name} ${K.request.candidate_last_name}`;u(E),m(K.request.position_applied_for),s(F),i("send-invitations")}}catch(X){console.error("Failed to fetch request details:",X)}};return o.jsxs("div",{className:"reference-request-app",children:[o.jsxs("header",{className:"app-header",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("h1",{children:"Reference Check Management"}),o.jsx("button",{onClick:()=>i("settings"),style:{padding:"10px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px"},children:" Settings"})]}),o.jsxs("nav",{className:"breadcrumb",children:[o.jsx("button",{onClick:()=>i("list"),className:"breadcrumb-link",children:"All Requests"}),r==="select-template"&&o.jsx("span",{children:" / Select Template"}),r==="build-template"&&o.jsx("span",{children:" / Build Template"}),r==="create"&&o.jsx("span",{children:" / Create Request"}),r==="add-referees"&&o.jsx("span",{children:" / Add Referees"}),r==="send-invitations"&&o.jsx("span",{children:" / Send Invitations"}),r==="settings"&&o.jsx("span",{children:" / Settings"})]})]}),h&&o.jsx("div",{className:"alert alert-success",children:h}),o.jsxs("main",{className:"app-content",children:[r==="list"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsx("button",{onClick:O,className:"btn-primary",children:"+ New Reference Request"})}),o.jsx(im,{userId:e,apiUrl:n,onSelectRequest:F=>{s(F),i("add-referees")}})]}),r==="select-template"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:Y,className:"btn-back",children:" Back to List"}),o.jsx(am,{apiUrl:n,userId:e,onSelectTemplate:f,onCreateNew:d})]}),r==="build-template"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>i("select-template"),className:"btn-back",children:" Back to Templates"}),o.jsx(cm,{apiUrl:n,userId:e,onSave:p,onCancel:()=>i("select-template")})]}),r==="create"&&_&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"selected-template-banner",children:[o.jsxs("span",{children:["Using template: ",o.jsx("strong",{children:v})]}),o.jsx("button",{onClick:()=>i("select-template"),className:"btn-link",children:"Change Template"})]}),o.jsx(Gh,{userId:e,templateId:_,onSuccess:k,onError:D,apiUrl:n})]}),r==="add-referees"&&l&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:Y,className:"btn-back",children:" Back to List"}),o.jsx(Zh,{requestId:l,onSuccess:S,onError:D,apiUrl:n})]}),r==="send-invitations"&&l&&o.jsx(lm,{requestId:l,candidateName:a,positionAppliedFor:c,apiUrl:n,onBack:()=>i("list"),onSuccess:L}),r==="settings"&&o.jsx(dm,{userId:e,apiUrl:n,onBack:()=>i("list")})]})]})},pm=({apiUrl:e})=>{const{token:t}=sd(),[n,r]=x.useState(""),i=e||"https://api-ref.getbrindleai.com/api";return x.useEffect(()=>(t||r("No token provided. Please use the link from your email."),document.body.style.margin="0",document.body.style.padding="0",()=>{document.body.style.margin="",document.body.style.padding=""}),[t]),n?o.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center",background:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[o.jsx("h2",{style:{color:"#e53e3e"},children:" Error"}),o.jsx("p",{children:n}),o.jsx("p",{style:{fontSize:"14px",color:"#718096",marginTop:"20px"},children:"If you received this link via email, please try clicking the link again or contact the person who requested the reference."})]}):t?o.jsx(dd,{token:t,apiUrl:i}):o.jsx("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center"},children:o.jsx("p",{children:"Loading..."})})},Ba="https://api-ref.getbrindleai.com/api",hm=()=>{const[e]=Kh(),t=e.get("token"),[n,r]=x.useState(!0),[i,l]=x.useState(""),[s,a]=x.useState(""),[u,c]=x.useState(""),[m,h]=x.useState(""),[g,_]=x.useState(!1),[w,v]=x.useState(!1),[b,f]=x.useState(!1),[d,p]=x.useState(0);x.useEffect(()=>{if(!t){l("Invalid authorization link. Please check your email for the correct link."),r(!1);return}fetch(`${Ba}/public/authorization?token=${t}`).then(S=>S.json()).then(S=>{if(S.ok)a(S.candidate_name),c(S.position);else{let L=S.error||"Invalid or expired authorization link";S.hint&&(L+=`

`+S.hint),l(L)}r(!1)}).catch(S=>{console.error("Authorization fetch error:",S),l("Failed to load authorization. Please try again or contact support."),r(!1)})},[t]);const k=async S=>{if(S.preventDefault(),!m.trim()){alert("Please enter your full name as signature");return}if(!g){alert("You must agree to authorize reference checking to proceed");return}v(!0);try{const L=await fetch(`${Ba}/public/authorization/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,signature:m.trim(),agreed:g,user_agent:navigator.userAgent})}),D=await L.json();L.ok?f(!0):alert(`Error: ${D.error||"Failed to submit authorization"}`)}catch{alert("Network error. Please check your connection and try again.")}finally{v(!1)}};return n?o.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center",background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[o.jsx("h2",{children:"Loading..."}),o.jsx("p",{children:"Please wait while we load your authorization form."})]}):i?o.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center",background:"#fee2e2",border:"2px solid #ef4444",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[o.jsx("h2",{style:{color:"#dc2626",marginTop:0},children:" Authorization Error"}),o.jsx("p",{style:{fontSize:"16px",lineHeight:"1.6"},children:i}),o.jsx("p",{style:{marginTop:"20px",fontSize:"14px",color:"#666"},children:"If you believe this is an error, please contact the hiring team for assistance."})]}):b?o.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"40px",textAlign:"center",background:"#d1fae5",border:"2px solid #10b981",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[o.jsx("h2",{style:{color:"#059669",marginTop:0},children:" Authorization Complete"}),o.jsxs("p",{style:{fontSize:"18px",fontWeight:"500",marginBottom:"20px"},children:["Thank you, ",s,"!"]}),o.jsxs("p",{style:{fontSize:"16px",lineHeight:"1.6"},children:["Your authorization has been successfully submitted. We will now proceed with contacting your referees for the ",o.jsx("strong",{children:u})," position."]}),o.jsx("p",{style:{marginTop:"30px",fontSize:"14px",color:"#666"},children:"We'll keep you updated on the progress of your reference checks."}),o.jsx("div",{style:{marginTop:"40px",padding:"20px",background:"white",borderRadius:"6px",fontSize:"14px",color:"#666"},children:o.jsxs("p",{style:{margin:0},children:[o.jsx("strong",{children:"What happens next:"}),o.jsx("br",{}),"1. Your referees will be contacted via email",o.jsx("br",{}),"2. They will complete a brief reference check",o.jsx("br",{}),"3. Results will be compiled into a report",o.jsx("br",{}),"4. The hiring team will review and contact you"]})})]}):o.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(to bottom, #f3f4f6, #e5e7eb)",padding:"40px 20px"},children:o.jsxs("div",{style:{maxWidth:"700px",margin:"0 auto",padding:"40px",background:"white",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsx("h1",{style:{marginTop:0,marginBottom:"10px",color:"#1f2937"},children:"Reference Check Authorization"}),o.jsx("div",{style:{padding:"15px",background:"#f9fafb",borderRadius:"6px",marginBottom:"30px",borderLeft:"4px solid #2563eb"},children:o.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#666"},children:[o.jsx("strong",{children:"Candidate:"})," ",s,o.jsx("br",{}),o.jsx("strong",{children:"Position:"})," ",u]})}),o.jsxs("form",{onSubmit:k,children:[o.jsxs("div",{style:{background:"#f9fafb",padding:"25px",borderRadius:"8px",marginBottom:"30px",border:"1px solid #e5e7eb"},children:[o.jsx("h3",{style:{marginTop:0,color:"#1f2937"},children:"Authorization Agreement"}),o.jsxs("p",{style:{lineHeight:"1.7"},children:["By signing below, I authorize the collection of professional references as part of my application for the position of ",o.jsx("strong",{children:u}),"."]}),o.jsx("p",{style:{marginTop:"20px",marginBottom:"10px",fontWeight:"600",color:"#1f2937"},children:"I understand and authorize:"}),o.jsxs("ul",{style:{textAlign:"left",lineHeight:"1.8",paddingLeft:"20px"},children:[o.jsx("li",{children:"Permission to contact my professional referees"}),o.jsx("li",{children:"Collection of feedback about my work history, performance, and professional conduct"}),o.jsx("li",{children:"Use of this information in making hiring decisions"}),o.jsx("li",{children:"Storage of this information for record-keeping purposes in accordance with privacy laws"})]}),o.jsx("p",{style:{marginTop:"20px",marginBottom:"10px",fontWeight:"600",color:"#1f2937"},children:"I acknowledge:"}),o.jsxs("ul",{style:{textAlign:"left",lineHeight:"1.8",paddingLeft:"20px"},children:[o.jsx("li",{children:"This authorization is voluntary and I may withdraw consent at any time"}),o.jsx("li",{children:"The information collected will be kept confidential"}),o.jsx("li",{children:"I have the right to request a copy of any references collected"}),o.jsx("li",{children:"This authorization will remain in effect for this hiring process"})]})]}),o.jsxs("div",{style:{marginBottom:"25px"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#1f2937"},children:["Electronic Signature (type your full name) ",o.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),o.jsx("input",{type:"text",value:m,onChange:S=>h(S.target.value),placeholder:"John Smith",disabled:w,required:!0,style:{width:"100%",padding:"12px",border:"2px solid #d1d5db",borderRadius:"6px",fontSize:"16px",fontFamily:"Georgia, serif",fontStyle:"italic",transition:"border-color 0.2s"},onFocus:S=>S.target.style.borderColor="#2563eb",onBlur:S=>S.target.style.borderColor="#d1d5db"}),o.jsx("small",{style:{color:"#666",display:"block",marginTop:"8px",fontSize:"13px"},children:"By typing your name above, you are providing a legally binding electronic signature"})]}),o.jsx("div",{style:{marginBottom:"30px",padding:"15px",background:"#fef3c7",borderRadius:"6px",border:"1px solid #fbbf24"},children:o.jsxs("label",{style:{display:"flex",alignItems:"flex-start",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:g,onChange:S=>_(S.target.checked),disabled:w,required:!0,style:{marginRight:"12px",marginTop:"4px",width:"18px",height:"18px",cursor:"pointer"}}),o.jsxs("span",{style:{fontSize:"14px",lineHeight:"1.6"},children:["I have read and agree to the authorization terms above. I understand that this authorization will remain in effect for this hiring process. ",o.jsx("span",{style:{color:"#dc2626",fontWeight:"600"},children:"*"})]})]})}),o.jsx("button",{type:"submit",disabled:w||!m.trim()||!g,style:{width:"100%",padding:"16px",background:w||!m.trim()||!g?"#9ca3af":"#2563eb",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"600",cursor:w||!m.trim()||!g?"not-allowed":"pointer",transition:"background-color 0.2s"},onMouseEnter:S=>{!w&&m.trim()&&g&&(S.currentTarget.style.background="#1d4ed8")},onMouseLeave:S=>{!w&&m.trim()&&g&&(S.currentTarget.style.background="#2563eb")},children:w?" Submitting Authorization...":" Submit Authorization"})]}),o.jsxs("div",{style:{marginTop:"30px",padding:"20px",background:"#f9fafb",borderRadius:"6px",fontSize:"13px",color:"#666",textAlign:"center",borderTop:"2px solid #e5e7eb"},children:[o.jsxs("p",{style:{margin:"0 0 10px 0"},children:[o.jsx("strong",{children:"Date:"})," ",new Date().toLocaleDateString("en-NZ",{year:"numeric",month:"long",day:"numeric"})]}),o.jsx("p",{style:{margin:0},children:"Questions? Contact the hiring team for assistance."})]})]})})},mm=({data:e})=>{var t;return(t=e.metadata)!=null&&t.sentimentScore,o.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",padding:"40px 20px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',backgroundColor:"#fff"},children:[o.jsxs("div",{style:{backgroundColor:"white",color:"#1e3a8a",padding:"30px",borderRadius:"24px",marginBottom:"30px",border:"2px solid #1e3a8a"},children:[o.jsx("h1",{style:{margin:0,fontSize:"16px",fontWeight:"400",opacity:.7},children:"Reference Report"}),o.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"28px",fontWeight:"600"},children:[e.candidate.name," / ",e.candidate.role||"Position"]})]}),o.jsxs("section",{style:{marginBottom:"40px"},children:[o.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"16px",color:"#1a1a1a"},children:"Referee Details"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"30px",padding:"20px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:"Referee name"}),o.jsx("div",{style:{fontSize:"15px",fontWeight:"500",color:"#1a1a1a"},children:e.referee.name})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:"Submission date"}),o.jsx("div",{style:{fontSize:"15px",fontWeight:"500",color:"#1a1a1a"},children:new Date(e.referee.submissionDate).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:"Relationship"}),o.jsx("div",{style:{fontSize:"15px",fontWeight:"500",color:"#1a1a1a"},children:e.referee.relationship})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:"Organization"}),o.jsx("div",{style:{fontSize:"15px",fontWeight:"500",color:"#1a1a1a"},children:e.referee.organization||"N/A"})]})]})]}),o.jsxs("section",{style:{marginBottom:"40px"},children:[o.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"16px",color:"#1a1a1a"},children:"Referee Feedback"}),o.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"20px"},children:"The referee's responses to the reference survey."}),e.responses.map((n,r)=>o.jsx("div",{style:{marginBottom:"24px",padding:"20px",backgroundColor:"#f9fafb",borderRadius:"8px",borderLeft:"4px solid #1e3a8a"},children:o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"16px"},children:[o.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"600",flexShrink:0},children:r+1}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:n.question}),o.jsx("div",{style:{fontSize:"15px",color:"#1a1a1a",lineHeight:"1.6"},children:n.answer})]})]})},r))]}),o.jsxs("section",{style:{marginTop:"60px",padding:"24px",backgroundColor:"#f9fafb",borderRadius:"8px",fontSize:"12px",color:"#666",lineHeight:"1.6"},children:[o.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"12px",color:"#1a1a1a"},children:"Disclaimer"}),o.jsx("p",{style:{margin:0},children:"This reference report has been generated from feedback provided by the referee listed above. The candidate has consented to the collection and use of this data. While we strive for accuracy, this information is provided to assist in your assessment and should be considered alongside other evaluation methods. The information is confidential and should not be shared without proper authorization."})]})]})},gm=({apiUrl:e="http://localhost:5001/api"})=>{var g;const{requestId:t,refereeId:n}=sd(),[r,i]=x.useState(null),[l,s]=x.useState(!0),[a,u]=x.useState("");x.useEffect(()=>{t&&n&&c()},[t,n]);const c=async()=>{try{s(!0),u("");const _=await fetch(`${e}/reports/${t}/referee/${n}`);if(!_.ok){const v=await _.json();throw new Error(v.error||"Failed to load report")}const w=await _.json();i(w)}catch(_){console.error("Error fetching report:",_),u(_.message||"Failed to load report")}finally{s(!1)}},m=()=>{window.print()},h=async()=>{var _;try{const{default:w}=await kr(async()=>{const{default:X}=await import("./jspdf.es.min-DFPx2MKl-v2.js");return{default:X}},__vite__mapDeps([3,1])),v=(await kr(async()=>{const{default:X}=await import("./html2canvas.esm-DZlvpFNH-v2.js").then(K=>K.h);return{default:X}},[])).default,b=document.getElementById("professional-report");if(!b){alert("Report element not found");return}const f=await v(b,{scale:2,useCORS:!0,logging:!1}),d=f.toDataURL("image/png"),p=new w("p","mm","a4"),k=p.internal.pageSize.getWidth(),S=p.internal.pageSize.getHeight(),L=f.width,D=f.height,O=Math.min(k/L,S/D),Y=(k-L*O)/2;p.addImage(d,"PNG",Y,0,L*O,D*O);const F=`Reference_Report_${(_=r.candidate)==null?void 0:_.name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;p.save(F)}catch(w){console.error("Error generating PDF:",w),alert("Failed to generate PDF. Please try the Print option instead.")}};return l?o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",flexDirection:"column",gap:"16px"},children:[o.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),o.jsx("p",{style:{color:"#666",fontSize:"16px"},children:"Loading report..."}),o.jsx("style",{children:`
          @keyframes spin {
            to { transform: rotate(360deg); }
          }
        `})]}):a?o.jsxs("div",{style:{maxWidth:"600px",margin:"60px auto",padding:"40px",textAlign:"center",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",color:"#ef4444"},children:""}),o.jsx("h2",{style:{color:"#1a1a1a",marginBottom:"12px"},children:"Error Loading Report"}),o.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:a}),o.jsx("button",{onClick:c,style:{padding:"12px 24px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Try Again"})]}):r?o.jsxs("div",{style:{backgroundColor:"#f9fafb",minHeight:"100vh"},children:[o.jsxs("div",{className:"no-print",style:{position:"sticky",top:0,zIndex:100,backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"16px 24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("h1",{style:{margin:0,fontSize:"20px",fontWeight:"600",color:"#1a1a1a"},children:"Reference Report"}),o.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"14px",color:"#666"},children:(g=r.candidate)==null?void 0:g.name})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsx("button",{onClick:m,style:{padding:"10px 20px",backgroundColor:"white",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:" Print"}),o.jsx("button",{onClick:h,style:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:" Download PDF"})]})]}),o.jsx("div",{id:"professional-report",children:o.jsx(mm,{data:r})}),o.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
          body {
            background: white !important;
          }
        }
      `})]}):null},xm="10242198-4ee0-4540-8cfd-25343df1f41d",ym="17f28d64-e746-4d06-8949-9335bb4c1740",Ci="https://api-ref.getbrindleai.com/api";function vm(){return o.jsx(Yh,{children:o.jsxs(Hh,{children:[o.jsx(sn,{path:"/",element:o.jsx("div",{className:"App",children:o.jsx(fm,{userId:xm,templateId:ym,apiUrl:Ci})})}),o.jsx(sn,{path:"/referee/:token",element:o.jsx(pm,{apiUrl:Ci})}),o.jsx(sn,{path:"/authorize",element:o.jsx(hm,{})}),o.jsx(sn,{path:"/report/:requestId/referee/:refereeId",element:o.jsx(gm,{apiUrl:Ci})}),o.jsx(sn,{path:"*",element:o.jsxs("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center"},children:[o.jsx("h2",{children:"Page Not Found"}),o.jsx("p",{children:"The page you're looking for doesn't exist."}),o.jsx("a",{href:"/",children:"Go to Home"})]})})]})})}bi.createRoot(document.getElementById("root")).render(o.jsx(bl.StrictMode,{children:o.jsx(vm,{})}));export{kr as _,_d as a,wm as c,jm as g};
